{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/actions/OmimActions.js","app/actions/StatsActions.js","app/alt.js","app/components/App.js","app/components/Home.js","app/components/Navbar.js","app/components/Omim.js","app/components/Phenotypes.js","app/components/Stats.js","app/main.js","app/routes.js","app/stores/OmimStore.js","app/stores/StatsStore.js","node_modules/debug/src/browser.js","node_modules/debug/src/debug.js","node_modules/deep-equal/index.js","node_modules/deep-equal/lib/is_arguments.js","node_modules/deep-equal/lib/keys.js","node_modules/history/lib/Actions.js","node_modules/history/lib/AsyncUtils.js","node_modules/history/lib/DOMStateStorage.js","node_modules/history/lib/DOMUtils.js","node_modules/history/lib/ExecutionEnvironment.js","node_modules/history/lib/createBrowserHistory.js","node_modules/history/lib/createDOMHistory.js","node_modules/history/lib/createHistory.js","node_modules/history/lib/createLocation.js","node_modules/history/lib/deprecate.js","node_modules/history/lib/extractPath.js","node_modules/history/lib/parsePath.js","node_modules/history/lib/runTransitionHook.js","node_modules/invariant/browser.js","node_modules/loadjs/dist/loadjs.umd.js","node_modules/ms/index.js","node_modules/process/browser.js","node_modules/react-google-charts/lib/components/Chart.js","node_modules/react-google-charts/lib/components/GoogleChartLoader.js","node_modules/react-google-charts/lib/constants/DEFAULT_CHART_COLORS.js","node_modules/react-google-charts/lib/index.js","node_modules/warning/browser.js"],"names":[],"mappings":"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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/EA;AACA;AACA;AACA;AACA;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACjLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import alt from '../alt';\r\n\r\nclass OmimActions {\r\n  constructor() {\r\n    this.generateActions(\r\n      'getOmimGeneSuccess',\r\n      'getOmimGeneWithPhenotypesSuccess',\r\n      'getSnpSuccess',\r\n      'getOmimGeneFail'\r\n    );\r\n  }\r\n\r\n  getOmimGenes() {\r\n  \t$.ajax({ url: '/api/omim', data:{} })\r\n  \t\t.done((data) => {\r\n  \t\t\tthis.actions.getOmimGeneSuccess(data);\r\n  \t\t})\r\n  \t\t.fail((jqXhr) => {\r\n  \t\t\tthis.actions.getOmimGeneFail(jqXhr);\r\n  \t\t});\t\r\n\t}\r\n\r\n  getOmimGenesWithPhenotypes() {\r\n    $.ajax({ url: '/api/omimWithPhenotype/', data:{} })\r\n      .done((data) => {\r\n        this.actions.getOmimGeneWithPhenotypesSuccess(data);\r\n      });\r\n  }\r\n\r\n  getSnp() {\r\n    $.ajax({ url: '/api/snp/', data:{} })\r\n      .done((data) => {\r\n        this.actions.getSnpSuccess(data);\r\n      });\r\n  }\r\n}\r\n\r\nexport default alt.createActions(OmimActions);","import alt from '../alt';\n\nclass StatsActions {\n  constructor() {\n    this.generateActions(\n      'getOmimGeneSuccess',\n      'getOmimGeneWithPhenotypesSuccess',\n      'getOmimGeneFail'\n    );\n  }\n\n  getOmimGenes() {\n  \t$.ajax({ url: '/api/omim', data:{} })\n  \t\t.done((data) => {\n  \t\t\tthis.actions.getOmimGeneSuccess(data);\n  \t\t})\n  \t\t.fail((jqXhr) => {\n  \t\t\tthis.actions.getOmimGeneFail(jqXhr);\n  \t\t});\t\n\t}\n\n  getOmimGenesWithPhenotypes() {\n    $.ajax({ url: '/api/omimWithPhenotype/', data:{} })\n      .done((data) => {\n        this.actions.getOmimGeneWithPhenotypesSuccess(data);\n      });\n  }\n}\n\nexport default alt.createActions(StatsActions);","import Alt from 'alt';\r\n\r\nexport default new Alt();","import React from 'react';\r\nimport Navbar from './Navbar';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n      <Navbar history={this.props.history} />\r\n        {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport OmimStore from '../stores/OmimStore';\r\nimport OmimActions from '../actions/OmimActions';\r\nimport Omim from './Omim';\r\n\r\nclass Home extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n    this.state = OmimStore.getState();\r\n    this.onChange = this.onChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n  \tOmimStore.listen(this.onChange);\r\n    OmimActions.getOmimGenes();\r\n    OmimActions.getOmimGenesWithPhenotypes();\r\n    OmimActions.getSnp();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n  \tOmimStore.unlisten(this.onChange);\r\n  }\r\n\r\n\r\n  onChange(state) {\r\n    this.setState(state);\r\n  }\r\n\r\n  mapPhenotypeList(list) {\r\n  \tif (list) {\r\n\t  \treturn list.map((item, index) => {\r\n\t  \t\treturn (\r\n\t  \t\t\t<div className='well well-sm' key={index}>\r\n\t  \t\t\t\t<div><strong>Phenotype Name:</strong> {item.phenotypeMap.phenotype}</div>\r\n\t  \t\t\t\t<div><strong>Phenotype MIM Number:</strong> <a href={`https://omim.org/entry/${item.phenotypeMap.phenotypeMimNumber}`} target='_blank'>{item.phenotypeMap.phenotypeMimNumber}</a></div>\r\n\t  \t\t\t\t<div><strong>Phenotype Inheritance:</strong> {item.phenotypeMap.phenotypeInheritance}</div>\r\n\t  \t\t\t</div>\r\n\t\t\t)\r\n\t  \t});\r\n  \t}\r\n  }\r\n\r\n  mapSnpList(list) {\r\n  \tif (list && list.constructor === Array) {\r\n\t  \treturn list.map((item, index) => {\r\n\t  \t\treturn (\r\n\t  \t\t\t<li className='well well-sm' key={index}>\r\n\t  \t\t\t\t<a href={`https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=${item}`} target='_blank'>{item}</a>\r\n\t  \t\t\t</li>\r\n\t\t\t)\r\n\t  \t});\r\n  \t}\r\n  \telse if (list){\r\n  \t\treturn (\r\n\t  \t\t\t<li className='well well-sm' key={list}>\r\n\t  \t\t\t\t<a href={`https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=${list}`} target='_blank'>{list}</a>\r\n\t  \t\t\t</li>\r\n\t\t)\r\n  \t}\r\n  }\r\n\r\n  getPhenotypeCount(list) {\r\n  \tif (list){\r\n  \t\treturn list.length;\r\n  \t}\r\n  \telse return 0;\r\n  }\r\n\r\n\trender() {\r\n\t\tvar geneNodes = this.state.genes.map((gene, index) => {\r\n\t\t\tconst geneObject = JSON.parse(gene.contents);\r\n\t\t\tconst geneMap = geneObject.omim.listResponse.geneMapList[0].geneMap;\r\n\t\t\tconst snpContents = JSON.parse(gene.snpContents);\r\n\t\t  return (\r\n\t\t    <div className='panel panel-primary' key={gene._id}>\r\n\t\t    \t<div className='panel-heading'>{geneMap.geneName}</div>\r\n\t\t    \t<div className='panel-body'>\r\n\t\t    \t\t<ul className='list'>\r\n  \t\t\t\t\t\t<li><strong>Gene Name: </strong>{geneMap.geneName}</li>\r\n  \t\t\t\t\t\t<li><strong>Gene Symbols: </strong>{geneMap.geneSymbols}</li>\r\n  \t\t\t\t\t\t<li><strong>MIM Number: </strong><a href={`https://omim.org/entry/${geneMap.mimNumber}`} target='_blank'>{geneMap.mimNumber}</a></li>\r\n  \t\t\t\t\t\t<li><strong>Known Phenotypes: </strong><span className='badge'>{this.getPhenotypeCount(geneMap.phenotypeMapList)}</span></li>\r\n  \t\t\t\t\t\t\r\n  \t\t\t\t\t\t<p>{this.mapPhenotypeList(geneMap.phenotypeMapList)}</p>\r\n  \t\t\t\t\t\t<li><strong>Known SNPs: </strong><span className='badge'>{gene.snpCount}</span></li>\r\n  \t\t\t\t\t\t<li><strong>Known Pathogenic SNPs: </strong><span className='badge badge-danger'>{gene.snpPathogenicCount}</span></li>\r\n  \t\t\t\t\t\t<p><ul className='list-inline'>{this.mapSnpList(snpContents.IdList.Id)}</ul></p>\r\n  \t\t\t\t\t</ul>\r\n  \t\t\t\t\t\r\n\t\t    \t</div>\r\n\t\t    </div>\r\n\t\t  );\r\n\t\t});\r\n\t\t\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div className='alert alert-info'>\r\n\t\t\t\t\tMitochondrial Disorders And Genetic Variations\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t<li className='list-group-item'><strong>Total genes: </strong>{this.state.genes.length}</li>\r\n\t\t\t\t\t\t<li className='list-group-item'><strong>Total genes with known phenotypes: </strong>{this.state.genesWithPhenotypes.length}</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t{geneNodes}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Home;","import React from 'react';\nimport {Link} from 'react-router';\n\nclass Navbar extends React.Component {\n  constructor(props) {\n    super(props);  \n  }\n\n  render() {\n    return (\n      <nav className='navbar navbar-default navbar-static-top'>\n        <div className='navbar-header'>\n          <button type='button' className='navbar-toggle collapsed' data-toggle='collapse' data-target='#navbar'>\n            <span className='sr-only'>Toggle navigation</span>\n            <span className='icon-bar'></span>\n            <span className='icon-bar'></span>\n            <span className='icon-bar'></span>\n          </button>\n          <Link to='/' className='navbar-brand'>\n            DNA\n            <span className='badge badge-up badge-danger'>mt</span>\n          </Link>\n        </div>\n        <div id='navbar' className='navbar-collapse collapse'>\n          <ul className='nav navbar-nav'>\n            <li><Link to='/'>Home</Link></li>\n            <li><Link to='/stats'>Stats</Link></li>\n            <li className='dropdown'>\n              <Link to='/phenotypes'>Known Phenotypes </Link>\n            </li>\n          </ul>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Navbar;","import React, {PropTypes} from 'react'\r\n\r\nconst Omim = ({omim, onHeadingClick, headingClass}) => {\r\n  return (\r\n    <div>{omim}</div>\r\n  );\r\n}\r\n\r\nexport default Omim;\r\n","import React from 'react';\nimport OmimStore from '../stores/OmimStore';\nimport OmimActions from '../actions/OmimActions';\nimport Omim from './Omim';\n\nclass Home extends React.Component {\n  \n  constructor(props) {\n    super(props);\n    this.state = OmimStore.getState();\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n  \tOmimStore.listen(this.onChange);\n    OmimActions.getOmimGenesWithPhenotypes();\n    OmimActions.getSnp();\n  }\n\n  componentWillUnmount() {\n  \tOmimStore.unlisten(this.onChange);\n  }\n\n  onChange(state) {\n    this.setState(state);\n  }\n\n  mapPhenotypeList(list) {\n  \tif (list) {\n\t  \treturn list.map((item, index) => {\n\t  \t\treturn (\n\t  \t\t\t<div className='well well-sm' key={index}>\n\t  \t\t\t\t<div><strong>Phenotype Name:</strong> {item.phenotypeMap.phenotype}</div>\n\t  \t\t\t\t<div><strong>Phenotype MIM Number:</strong> <a href={`https://omim.org/entry/${item.phenotypeMap.phenotypeMimNumber}`} target='_blank'>{item.phenotypeMap.phenotypeMimNumber}</a></div>\n\t  \t\t\t\t<div><strong>Phenotype Inheritance:</strong> {item.phenotypeMap.phenotypeInheritance}</div>\n\t  \t\t\t</div>\n\t\t\t)\n\t  \t});\n  \t}\n  }\n\n  getPhenotypeCount(list) {\n  \tif (list){\n  \t\treturn list.length;\n  \t}\n  \telse return 0;\n  }\n\n  mapSnpList(list) {\n  \tif (list && list.constructor === Array) {\n\t  \treturn list.map((item, index) => {\n\t  \t\treturn (\n\t  \t\t\t<li className='well well-sm' key={index}>\n\t  \t\t\t\t<a href={`https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=${item}`} target='_blank'>{item}</a>\n\t  \t\t\t</li>\n\t\t\t)\n\t  \t});\n  \t}\n  \telse if (list){\n  \t\treturn (\n\t  \t\t\t<li className='well well-sm' key={list}>\n\t  \t\t\t\t<a href={`https://www.ncbi.nlm.nih.gov/projects/SNP/snp_ref.cgi?rs=${list}`} target='_blank'>{list}</a>\n\t  \t\t\t</li>\n\t\t)\n  \t}\n  }\n\n\trender() {\n\t\tvar geneNodes = this.state.genesWithPhenotypes.map((gene, index) => {\n\t\t\tconst geneObject = JSON.parse(gene.contents);\n\t\t\tconst geneMap = geneObject.omim.listResponse.geneMapList[0].geneMap;\n\t\t\tconst snpContents = JSON.parse(gene.snpContents);\n\t\t  return (\n\t\t    <div className='panel panel-primary' key={gene._id}>\n\t\t    \t<div className='panel-heading'>{geneMap.geneName}</div>\n\t\t    \t<div className='panel-body'>\n\t\t    \t\t<ul className='list'>\n  \t\t\t\t\t\t<li><strong>Gene Name: </strong>{geneMap.geneName}</li>\n  \t\t\t\t\t\t<li><strong>Gene Symbols: </strong>{geneMap.geneSymbols}</li>\n  \t\t\t\t\t\t<li><strong>MIM Number: </strong><a href={`https://omim.org/entry/${geneMap.mimNumber}`} target='_blank'>{geneMap.mimNumber}</a></li>\n  \t\t\t\t\t\t<li><strong>Known Phenotypes: </strong><span className='badge'>{this.getPhenotypeCount(geneMap.phenotypeMapList)}</span></li>\n  \t\t\t\t\t\t\n  \t\t\t\t\t\t<p>{this.mapPhenotypeList(geneMap.phenotypeMapList)}</p>\n  \t\t\t\t\t\t<li><strong>Known SNPs: </strong><span className='badge'>{gene.snpCount}</span></li>\n  \t\t\t\t\t\t<li><strong>Known Pathogenic SNPs: </strong><span className='badge badge-danger'>{gene.snpPathogenicCount}</span></li>\n  \t\t\t\t\t\t<p><ul className='list-inline'>{this.mapSnpList(snpContents.IdList.Id)}</ul></p>\n  \t\t\t\t\t</ul>\n  \t\t\t\t\t\n\t\t    \t</div>\n\t\t    </div>\n\t\t  );\n\t\t});\n\t\t\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className='alert alert-info'>\n\t\t\t\t\tMitochondrial Disorders And Genetic Variations\n\t\t\t\t</div>\n\t\t\t\t<div className='container'>\n\t\t\t\t\t<ul className='list-group'>\n\t\t\t\t\t\t<li className='list-group-item'><strong>Total genes with known phenotypes: </strong>{this.state.genesWithPhenotypes.length}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t{geneNodes}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Home;","import React from 'react';\nimport { Chart } from 'react-google-charts';\nimport StatsStore from '../stores/StatsStore';\nimport StatsActions from '../actions/StatsActions';\n \nexport default class App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = StatsStore.getState();\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    StatsStore.listen(this.onChange);\n    StatsActions.getOmimGenes();\n    StatsActions.getOmimGenesWithPhenotypes();\n  }\n\n  componentWillUnmount() {\n    StatsStore.unlisten(this.onChange);\n    this.setState({data : [\n          ['Type', 'Count', {role: 'annotation'}]\n        ]});\n  }\n\n\n  onChange(state) {\n    this.setState(state);\n    this.setState({data : [...this.state.data, ['Total Genes', this.state.genes.length, this.state.genes.length]]});\n    this.setState({data : [...this.state.data, ['Genes with known Phenotypes', this.state.genesWithPhenotypes.length, this.state.genesWithPhenotypes.length]]});\n  }\n\n  render() {\n    const totalGenes = 0;\n    const totalGenesWithPhenotypes = 0;\n\n    return (\n      <div className={'my-pretty-chart-container'}>\n        <Chart\n          chartType=\"ColumnChart\"\n          data={this.state.data}\n          options={{}}\n          graph_id=\"BarChart\"\n          width=\"50%\"\n          \n          legend_toggle\n        />\n      </div>\n    );\n  }\n}","import React from 'react';\r\nimport Router from 'react-router';\r\nimport ReactDOM from 'react-dom';\r\nimport createBrowserHistory from 'history/lib/createBrowserHistory';\r\nimport routes from './routes';\r\n\r\nlet history = createBrowserHistory();\r\n\r\nReactDOM.render(<Router history={history}>{routes}</Router>, document.getElementById('app'));","import React from 'react';\r\nimport {Route} from 'react-router';\r\nimport App from './components/App';\r\nimport Home from './components/Home';\r\nimport Phenotype from './components/Phenotypes';\r\nimport Stats from './components/Stats';\r\n\r\nexport default (\r\n  <Route component={App}>\r\n    <Route path='/' component={Home} />\r\n  \t<Route path='/phenotypes' component={Phenotype} />\r\n  \t<Route path='/stats' component={Stats} />\r\n  </Route>\r\n);","import alt from '../alt';\r\nimport GetOmimActions from '../actions/OmimActions';\r\n\r\nclass OmimStore {\r\n  \r\n  constructor() {\r\n    this.bindActions(GetOmimActions);\r\n    this.genes = [];\r\n    this.genesWithPhenotypes = [];\r\n    this.snp = [];\r\n    this.data = [\r\n        \t['Type', 'Count', {role: 'annotation'}]\r\n        ];\r\n  }\r\n\r\n  onGetOmimGeneSuccess(data){\r\n  \tthis.genes = data;\r\n  }\r\n\r\n  onGetOmimGeneWithPhenotypesSuccess(data) {\r\n  \tthis.genesWithPhenotypes = data;\r\n  }\r\n\r\n  onGetSnpSuccess(data){\r\n  \tthis.snp = data;\r\n  }\r\n}\r\n\r\nexport default alt.createStore(OmimStore);","\nimport alt from '../alt';\nimport GetStatsActions from '../actions/StatsActions';\n\nclass StatsStore {\n  \n  constructor() {\n    this.bindActions(GetStatsActions);\n    this.genes = [];\n    this.genesWithPhenotypes = [];\n    \n  }\n\n  onGetOmimGeneSuccess(data){\n  \tthis.genes = data;\n  }\n\n  onGetOmimGeneWithPhenotypesSuccess(data) {\n  \tthis.genesWithPhenotypes = data;\n  }\n}\n\nexport default alt.createStore(StatsStore);\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window && typeof window.process !== 'undefined' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document && 'WebkitAppearance' in document.documentElement.style) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window && window.console && (console.firebug || (console.exception && console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  try {\n    return exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (typeof process !== 'undefined' && 'env' in process) {\n    return process.env.DEBUG;\n  }\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (namespaces || '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","/**\n * Indicates that navigation was caused by a call to history.push.\n */\n'use strict';\n\nexports.__esModule = true;\nvar PUSH = 'PUSH';\n\nexports.PUSH = PUSH;\n/**\n * Indicates that navigation was caused by a call to history.replace.\n */\nvar REPLACE = 'REPLACE';\n\nexports.REPLACE = REPLACE;\n/**\n * Indicates that navigation was caused by some other action such\n * as using a browser's back/forward buttons and/or manually manipulating\n * the URL in a browser's location bar. This is the default.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n * for more information.\n */\nvar POP = 'POP';\n\nexports.POP = POP;\nexports['default'] = {\n  PUSH: PUSH,\n  REPLACE: REPLACE,\n  POP: POP\n};","\"use strict\";\n\nexports.__esModule = true;\nexports.loopAsync = loopAsync;\n\nfunction loopAsync(turns, work, callback) {\n  var currentTurn = 0;\n  var isDone = false;\n\n  function done() {\n    isDone = true;\n    callback.apply(this, arguments);\n  }\n\n  function next() {\n    if (isDone) return;\n\n    if (currentTurn < turns) {\n      work.call(this, currentTurn++, next, done);\n    } else {\n      done.apply(this, arguments);\n    }\n  }\n\n  next();\n}","/*eslint-disable no-empty */\n'use strict';\n\nexports.__esModule = true;\nexports.saveState = saveState;\nexports.readState = readState;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar KeyPrefix = '@@History/';\nvar QuotaExceededError = 'QuotaExceededError';\nvar SecurityError = 'SecurityError';\n\nfunction createKey(key) {\n  return KeyPrefix + key;\n}\n\nfunction saveState(key, state) {\n  try {\n    window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available due to security settings') : undefined;\n\n      return;\n    }\n\n    if (error.name === QuotaExceededError && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : undefined;\n\n      return;\n    }\n\n    throw error;\n  }\n}\n\nfunction readState(key) {\n  var json = undefined;\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (error.name === SecurityError) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? _warning2['default'](false, '[history] Unable to read state; sessionStorage is not available due to security settings') : undefined;\n\n      return null;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      // Ignore invalid JSON.\n    }\n  }\n\n  return null;\n}","'use strict';\n\nexports.__esModule = true;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.getHashPath = getHashPath;\nexports.replaceHashPath = replaceHashPath;\nexports.getWindowPath = getWindowPath;\nexports.go = go;\nexports.getUserConfirmation = getUserConfirmation;\nexports.supportsHistory = supportsHistory;\nexports.supportsGoWithoutReloadUsingHash = supportsGoWithoutReloadUsingHash;\n\nfunction addEventListener(node, event, listener) {\n  if (node.addEventListener) {\n    node.addEventListener(event, listener, false);\n  } else {\n    node.attachEvent('on' + event, listener);\n  }\n}\n\nfunction removeEventListener(node, event, listener) {\n  if (node.removeEventListener) {\n    node.removeEventListener(event, listener, false);\n  } else {\n    node.detachEvent('on' + event, listener);\n  }\n}\n\nfunction getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  return window.location.href.split('#')[1] || '';\n}\n\nfunction replaceHashPath(path) {\n  window.location.replace(window.location.pathname + window.location.search + '#' + path);\n}\n\nfunction getWindowPath() {\n  return window.location.pathname + window.location.search + window.location.hash;\n}\n\nfunction go(n) {\n  if (n) window.history.go(n);\n}\n\nfunction getUserConfirmation(message, callback) {\n  callback(window.confirm(message));\n}\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/rackt/react-router/issues/586\n */\n\nfunction supportsHistory() {\n  var ua = navigator.userAgent;\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) {\n    return false;\n  }\n  // FIXME: Work around our browser history not working correctly on Chrome\n  // iOS: https://github.com/rackt/react-router/issues/2565\n  if (ua.indexOf('CriOS') !== -1) {\n    return false;\n  }\n  return window.history && 'pushState' in window.history;\n}\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\n\nfunction supportsGoWithoutReloadUsingHash() {\n  var ua = navigator.userAgent;\n  return ua.indexOf('Firefox') === -1;\n}","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nexports.canUseDOM = canUseDOM;","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _Actions = require('./Actions');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _createDOMHistory = require('./createDOMHistory');\n\nvar _createDOMHistory2 = _interopRequireDefault(_createDOMHistory);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\n/**\n * Creates and returns a history object that uses HTML5's history API\n * (pushState, replaceState, and the popstate event) to manage history.\n * This is the recommended method of managing history in browsers because\n * it provides the cleanest URLs.\n *\n * Note: In browsers that do not support the HTML5 history API full\n * page reloads will be used to preserve URLs.\n */\nfunction createBrowserHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'Browser history needs a DOM') : _invariant2['default'](false) : undefined;\n\n  var forceRefresh = options.forceRefresh;\n\n  var isSupported = _DOMUtils.supportsHistory();\n  var useRefresh = !isSupported || forceRefresh;\n\n  function getCurrentLocation(historyState) {\n    historyState = historyState || window.history.state || {};\n\n    var path = _DOMUtils.getWindowPath();\n    var _historyState = historyState;\n    var key = _historyState.key;\n\n    var state = undefined;\n    if (key) {\n      state = _DOMStateStorage.readState(key);\n    } else {\n      state = null;\n      key = history.createKey();\n\n      if (isSupported) window.history.replaceState(_extends({}, historyState, { key: key }), null, path);\n    }\n\n    var location = _parsePath2['default'](path);\n\n    return history.createLocation(_extends({}, location, { state: state }), undefined, key);\n  }\n\n  function startPopStateListener(_ref) {\n    var transitionTo = _ref.transitionTo;\n\n    function popStateListener(event) {\n      if (event.state === undefined) return; // Ignore extraneous popstate events in WebKit.\n\n      transitionTo(getCurrentLocation(event.state));\n    }\n\n    _DOMUtils.addEventListener(window, 'popstate', popStateListener);\n\n    return function () {\n      _DOMUtils.removeEventListener(window, 'popstate', popStateListener);\n    };\n  }\n\n  function finishTransition(location) {\n    var basename = location.basename;\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n    var state = location.state;\n    var action = location.action;\n    var key = location.key;\n\n    if (action === _Actions.POP) return; // Nothing to do.\n\n    _DOMStateStorage.saveState(key, state);\n\n    var path = (basename || '') + pathname + search + hash;\n    var historyState = {\n      key: key\n    };\n\n    if (action === _Actions.PUSH) {\n      if (useRefresh) {\n        window.location.href = path;\n        return false; // Prevent location update.\n      } else {\n          window.history.pushState(historyState, null, path);\n        }\n    } else {\n      // REPLACE\n      if (useRefresh) {\n        window.location.replace(path);\n        return false; // Prevent location update.\n      } else {\n          window.history.replaceState(historyState, null, path);\n        }\n    }\n  }\n\n  var history = _createDOMHistory2['default'](_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    finishTransition: finishTransition,\n    saveState: _DOMStateStorage.saveState\n  }));\n\n  var listenerCount = 0,\n      stopPopStateListener = undefined;\n\n  function listenBefore(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listenBefore(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  function listen(listener) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    var unlisten = history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopPopStateListener();\n    };\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (++listenerCount === 1) stopPopStateListener = startPopStateListener(history);\n\n    history.registerTransitionHook(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    history.unregisterTransitionHook(hook);\n\n    if (--listenerCount === 0) stopPopStateListener();\n  }\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen,\n    registerTransitionHook: registerTransitionHook,\n    unregisterTransitionHook: unregisterTransitionHook\n  });\n}\n\nexports['default'] = createBrowserHistory;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction createDOMHistory(options) {\n  var history = _createHistory2['default'](_extends({\n    getUserConfirmation: _DOMUtils.getUserConfirmation\n  }, options, {\n    go: _DOMUtils.go\n  }));\n\n  function listen(listener) {\n    !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? _invariant2['default'](false, 'DOM history needs a DOM') : _invariant2['default'](false) : undefined;\n\n    return history.listen(listener);\n  }\n\n  return _extends({}, history, {\n    listen: listen\n  });\n}\n\nexports['default'] = createDOMHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _deepEqual = require('deep-equal');\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _Actions = require('./Actions');\n\nvar _createLocation2 = require('./createLocation');\n\nvar _createLocation3 = _interopRequireDefault(_createLocation2);\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nvar _deprecate = require('./deprecate');\n\nvar _deprecate2 = _interopRequireDefault(_deprecate);\n\nfunction createRandomKey(length) {\n  return Math.random().toString(36).substr(2, length);\n}\n\nfunction locationsAreEqual(a, b) {\n  return a.pathname === b.pathname && a.search === b.search &&\n  //a.action === b.action && // Different action !== location change.\n  a.key === b.key && _deepEqual2['default'](a.state, b.state);\n}\n\nvar DefaultKeyLength = 6;\n\nfunction createHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var getCurrentLocation = options.getCurrentLocation;\n  var finishTransition = options.finishTransition;\n  var saveState = options.saveState;\n  var go = options.go;\n  var keyLength = options.keyLength;\n  var getUserConfirmation = options.getUserConfirmation;\n\n  if (typeof keyLength !== 'number') keyLength = DefaultKeyLength;\n\n  var transitionHooks = [];\n\n  function listenBefore(hook) {\n    transitionHooks.push(hook);\n\n    return function () {\n      transitionHooks = transitionHooks.filter(function (item) {\n        return item !== hook;\n      });\n    };\n  }\n\n  var allKeys = [];\n  var changeListeners = [];\n  var location = undefined;\n\n  function getCurrent() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) {\n      return allKeys.indexOf(pendingLocation.key);\n    } else if (location) {\n      return allKeys.indexOf(location.key);\n    } else {\n      return -1;\n    }\n  }\n\n  function updateLocation(newLocation) {\n    var current = getCurrent();\n\n    location = newLocation;\n\n    if (location.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, current + 1), [location.key]);\n    } else if (location.action === _Actions.REPLACE) {\n      allKeys[current] = location.key;\n    }\n\n    changeListeners.forEach(function (listener) {\n      listener(location);\n    });\n  }\n\n  function listen(listener) {\n    changeListeners.push(listener);\n\n    if (location) {\n      listener(location);\n    } else {\n      var _location = getCurrentLocation();\n      allKeys = [_location.key];\n      updateLocation(_location);\n    }\n\n    return function () {\n      changeListeners = changeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }\n\n  function confirmTransitionTo(location, callback) {\n    _AsyncUtils.loopAsync(transitionHooks.length, function (index, next, done) {\n      _runTransitionHook2['default'](transitionHooks[index], location, function (result) {\n        if (result != null) {\n          done(result);\n        } else {\n          next();\n        }\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  }\n\n  var pendingLocation = undefined;\n\n  function transitionTo(nextLocation) {\n    if (location && locationsAreEqual(location, nextLocation)) return; // Nothing to do.\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted.\n\n      if (ok) {\n        // treat PUSH to current path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = createPath(location);\n          var nextPath = createPath(nextLocation);\n\n          if (nextPath === prevPath) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (finishTransition(nextLocation) !== false) updateLocation(nextLocation);\n      } else if (location && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(location.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL.\n      }\n    });\n  }\n\n  function push(location) {\n    transitionTo(createLocation(location, _Actions.PUSH, createKey()));\n  }\n\n  function replace(location) {\n    transitionTo(createLocation(location, _Actions.REPLACE, createKey()));\n  }\n\n  function goBack() {\n    go(-1);\n  }\n\n  function goForward() {\n    go(1);\n  }\n\n  function createKey() {\n    return createRandomKey(keyLength);\n  }\n\n  function createPath(location) {\n    if (location == null || typeof location === 'string') return location;\n\n    var pathname = location.pathname;\n    var search = location.search;\n    var hash = location.hash;\n\n    var result = pathname;\n\n    if (search) result += search;\n\n    if (hash) result += hash;\n\n    return result;\n  }\n\n  function createHref(location) {\n    return createPath(location);\n  }\n\n  function createLocation(location, action) {\n    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];\n\n    if (typeof action === 'object') {\n      //warning(\n      //  false,\n      //  'The state (2nd) argument to history.createLocation is deprecated; use a ' +\n      //  'location descriptor instead'\n      //)\n\n      if (typeof location === 'string') location = _parsePath2['default'](location);\n\n      location = _extends({}, location, { state: action });\n\n      action = key;\n      key = arguments[3] || createKey();\n    }\n\n    return _createLocation3['default'](location, action, key);\n  }\n\n  // deprecated\n  function setState(state) {\n    if (location) {\n      updateLocationState(location, state);\n      updateLocation(location);\n    } else {\n      updateLocationState(getCurrentLocation(), state);\n    }\n  }\n\n  function updateLocationState(location, state) {\n    location.state = _extends({}, location.state, state);\n    saveState(location.key, location.state);\n  }\n\n  // deprecated\n  function registerTransitionHook(hook) {\n    if (transitionHooks.indexOf(hook) === -1) transitionHooks.push(hook);\n  }\n\n  // deprecated\n  function unregisterTransitionHook(hook) {\n    transitionHooks = transitionHooks.filter(function (item) {\n      return item !== hook;\n    });\n  }\n\n  // deprecated\n  function pushState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    push(_extends({ state: state }, path));\n  }\n\n  // deprecated\n  function replaceState(state, path) {\n    if (typeof path === 'string') path = _parsePath2['default'](path);\n\n    replace(_extends({ state: state }, path));\n  }\n\n  return {\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: createPath,\n    createHref: createHref,\n    createLocation: createLocation,\n\n    setState: _deprecate2['default'](setState, 'setState is deprecated; use location.key to save state instead'),\n    registerTransitionHook: _deprecate2['default'](registerTransitionHook, 'registerTransitionHook is deprecated; use listenBefore instead'),\n    unregisterTransitionHook: _deprecate2['default'](unregisterTransitionHook, 'unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead'),\n    pushState: _deprecate2['default'](pushState, 'pushState is deprecated; use push instead'),\n    replaceState: _deprecate2['default'](replaceState, 'replaceState is deprecated; use replace instead')\n  };\n}\n\nexports['default'] = createHistory;\nmodule.exports = exports['default'];","//import warning from 'warning'\n'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _Actions = require('./Actions');\n\nvar _parsePath = require('./parsePath');\n\nvar _parsePath2 = _interopRequireDefault(_parsePath);\n\nfunction createLocation() {\n  var location = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? _Actions.POP : arguments[1];\n  var key = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n  var _fourthArg = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];\n\n  if (typeof location === 'string') location = _parsePath2['default'](location);\n\n  if (typeof action === 'object') {\n    //warning(\n    //  false,\n    //  'The state (2nd) argument to createLocation is deprecated; use a ' +\n    //  'location descriptor instead'\n    //)\n\n    location = _extends({}, location, { state: action });\n\n    action = key || _Actions.POP;\n    key = _fourthArg;\n  }\n\n  var pathname = location.pathname || '/';\n  var search = location.search || '';\n  var hash = location.hash || '';\n  var state = location.state || null;\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    state: state,\n    action: action,\n    key: key\n  };\n}\n\nexports['default'] = createLocation;\nmodule.exports = exports['default'];","//import warning from 'warning'\n\n\"use strict\";\n\nexports.__esModule = true;\nfunction deprecate(fn) {\n  return fn;\n  //return function () {\n  //  warning(false, '[history] ' + message)\n  //  return fn.apply(this, arguments)\n  //}\n}\n\nexports[\"default\"] = deprecate;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nexports.__esModule = true;\nfunction extractPath(string) {\n  var match = string.match(/^https?:\\/\\/[^\\/]*/);\n\n  if (match == null) return string;\n\n  return string.substring(match[0].length);\n}\n\nexports[\"default\"] = extractPath;\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _extractPath = require('./extractPath');\n\nvar _extractPath2 = _interopRequireDefault(_extractPath);\n\nfunction parsePath(path) {\n  var pathname = _extractPath2['default'](path);\n  var search = '';\n  var hash = '';\n\n  process.env.NODE_ENV !== 'production' ? _warning2['default'](path === pathname, 'A path must be pathname + search + hash only, not a fully qualified URL like \"%s\"', path) : undefined;\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substring(hashIndex);\n    pathname = pathname.substring(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substring(searchIndex);\n    pathname = pathname.substring(0, searchIndex);\n  }\n\n  if (pathname === '') pathname = '/';\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash\n  };\n}\n\nexports['default'] = parsePath;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction runTransitionHook(hook, location, callback) {\n  var result = hook(location, callback);\n\n  if (hook.length < 2) {\n    // Assume the hook runs synchronously and automatically\n    // call the callback with the return value.\n    callback(result);\n  } else {\n    process.env.NODE_ENV !== 'production' ? _warning2['default'](result === undefined, 'You should not \"return\" in a transition hook with a callback argument; call the callback instead') : undefined;\n  }\n}\n\nexports['default'] = runTransitionHook;\nmodule.exports = exports['default'];","/**\n * Copyright 2013-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.loadjs = factory();\n  }\n}(this, function() {\n/**\n * Global dependencies.\n * @global {Object} document - DOM\n */\n\nvar devnull = function() {},\n    bundleIdCache = {},\n    bundleResultCache = {},\n    bundleCallbackQueue = {};\n\n\n/**\n * Subscribe to bundle load event.\n * @param {string[]} bundleIds - Bundle ids\n * @param {Function} callbackFn - The callback function\n */\nfunction subscribe(bundleIds, callbackFn) {\n  // listify\n  bundleIds = bundleIds.push ? bundleIds : [bundleIds];\n\n  var depsNotFound = [],\n      i = bundleIds.length,\n      numWaiting = i,\n      fn,\n      bundleId,\n      r,\n      q;\n\n  // define callback function\n  fn = function (bundleId, pathsNotFound) {\n    if (pathsNotFound.length) depsNotFound.push(bundleId);\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(depsNotFound);\n  };\n\n  // register callback\n  while (i--) {\n    bundleId = bundleIds[i];\n\n    // execute callback if in result cache\n    r = bundleResultCache[bundleId];\n    if (r) {\n      fn(bundleId, r);\n      continue;\n    }\n\n    // add to callback queue\n    q = bundleCallbackQueue[bundleId] = bundleCallbackQueue[bundleId] || [];\n    q.push(fn);\n  }\n}\n\n\n/**\n * Publish bundle load event.\n * @param {string} bundleId - Bundle id\n * @param {string[]} pathsNotFound - List of files not found\n */\nfunction publish(bundleId, pathsNotFound) {\n  // exit if id isn't defined\n  if (!bundleId) return;\n\n  var q = bundleCallbackQueue[bundleId];\n\n  // cache result\n  bundleResultCache[bundleId] = pathsNotFound;\n\n  // exit if queue is empty\n  if (!q) return;\n\n  // empty callback queue\n  while (q.length) {\n    q[0](bundleId, pathsNotFound);\n    q.splice(0, 1);\n  }\n}\n\n\n/**\n * Load individual file.\n * @param {string} path - The file path\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFile(path, callbackFn, args, numTries) {\n  var doc = document,\n      async = args.async,\n      maxTries = (args.numRetries || 0) + 1,\n      beforeCallbackFn = args.before || devnull,\n      isCss,\n      e;\n\n  numTries = numTries || 0;\n\n  if (/(^css!|\\.css$)/.test(path)) {\n    isCss = true;\n\n    // css\n    e = doc.createElement('link');\n    e.rel = 'stylesheet';\n    e.href = path.replace(/^css!/, '');  // remove \"css!\" prefix\n  } else {\n    // javascript\n    e = doc.createElement('script');\n    e.src = path;\n    e.async = async === undefined ? true : async;\n  }\n\n  e.onload = e.onerror = e.onbeforeload = function (ev) {\n    var result = ev.type[0];\n\n    // Note: The following code isolates IE using `hideFocus` and treats empty\n    // stylesheets as failures to get around lack of onerror support\n    if (isCss && 'hideFocus' in e) {\n      try {\n        if (!e.sheet.cssText.length) result = 'e';\n      } catch (x) {\n        // sheets objects created from load errors don't allow access to\n        // `cssText`\n        result = 'e';\n      }\n    }\n\n    // handle retries in case of load failure\n    if (result == 'e') {\n      // increment counter\n      numTries += 1;\n\n      // exit function and try again\n      if (numTries < maxTries) {\n        return loadFile(path, callbackFn, args, numTries);\n      }\n    }\n\n    // execute callback\n    callbackFn(path, result, ev.defaultPrevented);\n  };\n\n  // add to document (unless callback returns `false`)\n  if (beforeCallbackFn(path, e) !== false) doc.head.appendChild(e);\n}\n\n\n/**\n * Load multiple files.\n * @param {string[]} paths - The file paths\n * @param {Function} callbackFn - The callback function\n */\nfunction loadFiles(paths, callbackFn, args) {\n  // listify paths\n  paths = paths.push ? paths : [paths];\n\n  var numWaiting = paths.length,\n      x = numWaiting,\n      pathsNotFound = [],\n      fn,\n      i;\n\n  // define callback function\n  fn = function(path, result, defaultPrevented) {\n    // handle error\n    if (result == 'e') pathsNotFound.push(path);\n\n    // handle beforeload event. If defaultPrevented then that means the load\n    // will be blocked (ex. Ghostery/ABP on Safari)\n    if (result == 'b') {\n      if (defaultPrevented) pathsNotFound.push(path);\n      else return;\n    }\n\n    numWaiting--;\n    if (!numWaiting) callbackFn(pathsNotFound);\n  };\n\n  // load scripts\n  for (i=0; i < x; i++) loadFile(paths[i], fn, args);\n}\n\n\n/**\n * Initiate script load and register bundle.\n * @param {(string|string[])} paths - The file paths\n * @param {(string|Function)} [arg1] - The bundleId or success callback\n * @param {Function} [arg2] - The success or error callback\n * @param {Function} [arg3] - The error callback\n */\nfunction loadjs(paths, arg1, arg2) {\n  var bundleId,\n      args;\n\n  // bundleId (if string)\n  if (arg1 && arg1.trim) bundleId = arg1;\n\n  // args (default is {})\n  args = (bundleId ? arg2 : arg1) || {};\n\n  // throw error if bundle is already defined\n  if (bundleId) {\n    if (bundleId in bundleIdCache) {\n      throw \"LoadJS\";\n    } else {\n      bundleIdCache[bundleId] = true;\n    }\n  }\n\n  // load scripts\n  loadFiles(paths, function (pathsNotFound) {\n    // success and error callbacks\n    if (pathsNotFound.length) (args.error || devnull)(pathsNotFound);\n    else (args.success || devnull)();\n\n    // publish bundle load event\n    publish(bundleId, pathsNotFound);\n  }, args);\n}\n\n\n/**\n * Execute callbacks when dependencies have been satisfied.\n * @param {(string|string[])} deps - List of bundle ids\n * @param {Object} args - success/error arguments\n */\nloadjs.ready = function ready(deps, args) {\n  // subscribe to bundle load event\n  subscribe(deps, function (depsNotFound) {\n    // execute callbacks\n    if (depsNotFound.length) (args.error || devnull)(depsNotFound);\n    else (args.success || devnull)();\n  });\n\n  return loadjs;\n};\n\n\n/**\n * Manually satisfy bundle dependencies.\n * @param {string} bundleId - The bundle id\n */\nloadjs.done = function done(bundleId) {\n  publish(bundleId, []);\n};\n\n\n/**\n * Reset loadjs dependencies statuses\n */\nloadjs.reset = function reset() {\n  bundleIdCache = {};\n  bundleResultCache = {};\n  bundleCallbackQueue = {};\n};\n\n\n/**\n * Determine if bundle has already been defined\n * @param String} bundleId - The bundle id\n */\nloadjs.isDefined = function isDefined(bundleId) {\n  return bundleId in bundleIdCache;\n};\n\n\n// export\nreturn loadjs;\n\n}));\n","/**\n * Helpers.\n */\n\nvar s = 1000\nvar m = s * 60\nvar h = m * 60\nvar d = h * 24\nvar y = d * 365.25\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} options\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function (val, options) {\n  options = options || {}\n  var type = typeof val\n  if (type === 'string' && val.length > 0) {\n    return parse(val)\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ?\n\t\t\tfmtLong(val) :\n\t\t\tfmtShort(val)\n  }\n  throw new Error('val is not a non-empty string or a valid number. val=' + JSON.stringify(val))\n}\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str)\n  if (str.length > 10000) {\n    return\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(str)\n  if (!match) {\n    return\n  }\n  var n = parseFloat(match[1])\n  var type = (match[2] || 'ms').toLowerCase()\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n\n    default:\n      return undefined\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd'\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h'\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm'\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's'\n  }\n  return ms + 'ms'\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms'\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's'\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","'use strict';\n\nexports.__esModule = true;\nexports.default = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nvar _DEFAULT_CHART_COLORS = require('../constants/DEFAULT_CHART_COLORS');\n\nvar _DEFAULT_CHART_COLORS2 = _interopRequireDefault(_DEFAULT_CHART_COLORS);\n\nvar _GoogleChartLoader = require('./GoogleChartLoader');\n\nvar _GoogleChartLoader2 = _interopRequireDefault(_GoogleChartLoader);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint react/forbid-prop-types: \"off\" */\n\n\nvar debug = new _debug2.default('react-google-charts:Chart');\n\nvar uniqueID = 0;\n\nvar generateUniqueID = function generateUniqueID() {\n  uniqueID += 1;\n  return 'reactgooglegraph-' + uniqueID;\n};\n\nvar Chart = function (_React$Component) {\n  _inherits(Chart, _React$Component);\n\n  function Chart(props) {\n    _classCallCheck(this, Chart);\n\n    debug('constructor', props);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.state = { graphID: props.graph_id || generateUniqueID() };\n    _this.chart = null;\n    _this.wrapper = null;\n    _this.hidden_columns = {};\n    _this.dataTable = [];\n\n    _this.debounce = _this.debounce.bind(_this);\n    _this.onResize = _this.onResize.bind(_this);\n    _this.drawChart = _this.drawChart.bind(_this);\n    _this.togglePoints = _this.togglePoints.bind(_this);\n    _this.buildDataTableFromProps = _this.buildDataTableFromProps.bind(_this);\n    _this.listenToChartEvents = _this.listenToChartEvents.bind(_this);\n    _this.addChartActions = _this.addChartActions.bind(_this);\n    _this.updateDataTable = _this.updateDataTable.bind(_this);\n    _this.onSelectToggle = _this.onSelectToggle.bind(_this);\n    _this.addSourceColumnTo = _this.addSourceColumnTo.bind(_this);\n    _this.restoreColorTo = _this.restoreColorTo.bind(_this);\n    _this.hideColumn = _this.hideColumn.bind(_this);\n    return _this;\n  }\n\n  Chart.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    debug('componentDidMount');\n    if (typeof window === 'undefined') {\n      return;\n    }\n    if (this.props.loadCharts) {\n      _GoogleChartLoader2.default.init(this.props.chartPackages, this.props.chartVersion).then(function () {\n        _this2.drawChart();\n      });\n      this.onResize = this.debounce(this.onResize, 200);\n      window.addEventListener('resize', this.onResize);\n    } else {\n      this.drawChart();\n    }\n  };\n\n  Chart.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this3 = this;\n\n    debug('componentDidUpdate');\n    if (!this.props.loadCharts) {\n      this.drawChart();\n    } else if (_GoogleChartLoader2.default.isLoading) {\n      _GoogleChartLoader2.default.initPromise.then(function () {\n        _this3.drawChart();\n      });\n    } else if (_GoogleChartLoader2.default.isLoaded) {\n      this.drawChart();\n    }\n  };\n\n  Chart.prototype.componentWillUnmount = function componentWillUnmount() {\n    try {\n      if (window) {\n        if (window.google && window.google.visualization) {\n          window.google.visualization.events.removeAllListeners(this.wrapper);\n        }\n        window.removeEventListener('resize', this.onResize);\n      }\n    } catch (err) {\n      return;\n    }\n  };\n\n  Chart.prototype.onResize = function onResize() {\n    debug('Chart::onResize');\n    this.drawChart();\n  };\n\n  Chart.prototype.onSelectToggle = function onSelectToggle() {\n    debug('onSelectToggle');\n    var selection = this.chart.getSelection();\n    if (selection.length > 0) {\n      if (selection[0].row == null) {\n        var column = selection[0].column;\n        this.togglePoints(column);\n      }\n    }\n  };\n\n  Chart.prototype.getColumnColor = function getColumnColor(columnIndex) {\n    if (this.props.options.colors) {\n      if (this.props.options.colors[columnIndex]) {\n        return this.props.options.colors[columnIndex];\n      }\n    } else if (columnIndex in _DEFAULT_CHART_COLORS2.default) {\n      return _DEFAULT_CHART_COLORS2.default[columnIndex];\n    }\n    return _DEFAULT_CHART_COLORS2.default[0];\n  };\n\n  Chart.prototype.buildDataTableFromProps = function buildDataTableFromProps() {\n    debug('buildDataTableFromProps', this.props);\n\n    if (this.props.diffdata) {\n      var diffdata = this.props.diffdata;\n      var oldData = window.google.visualization.arrayToDataTable(diffdata.old);\n      var newData = window.google.visualization.arrayToDataTable(diffdata.new);\n      // must take computeDiff from prototypes since not available with charts early in process\n      var computeDiff = window.google.visualization[this.props.chartType].prototype.computeDiff;\n      var chartDiff = computeDiff(oldData, newData);\n      return chartDiff;\n    }\n\n    if (this.props.data === null && this.props.rows.length === 0 && !this.props.allowEmptyRows) {\n      throw new Error(\"Can't build DataTable from rows and columns: rows array in props is empty\");\n    } else if (this.props.data === null && this.props.columns.length === 0) {\n      throw new Error(\"Can't build DataTable from rows and columns: columns array in props is empty\");\n    }\n    if (this.props.data !== null) {\n      try {\n        this.wrapper.setDataTable(this.props.data);\n        var _dataTable = this.wrapper.getDataTable();\n        return _dataTable;\n      } catch (err) {\n        // console.error('Failed to set DataTable from data props ! ', err);\n        throw new Error('Failed to set DataTable from data props ! ', err);\n      }\n    }\n\n    var dataTable = new window.google.visualization.DataTable();\n    this.props.columns.forEach(function (column) {\n      dataTable.addColumn(column);\n    });\n    dataTable.addRows(this.props.rows);\n    if (this.props.numberFormat) {\n      var formatter = new window.google.visualization.NumberFormat(this.props.numberFormat.options);\n      formatter.format(dataTable, this.props.numberFormat.column);\n    }\n\n    if (this.props.dateFormat) {\n      var dateFormat = new window.google.visualization.DateFormat(this.props.dateFormat.options);\n      this.props.dateFormat.columns.forEach(function (columnIdx) {\n        dateFormat.format(dataTable, columnIdx);\n      });\n    }\n\n    return dataTable;\n  };\n\n  Chart.prototype.updateDataTable = function updateDataTable() {\n    debug('updateDataTable');\n    window.google.visualization.errors.removeAll(document.getElementById(this.wrapper.getContainerId()));\n    this.dataTable.removeRows(0, this.dataTable.getNumberOfRows());\n    this.dataTable.removeColumns(0, this.dataTable.getNumberOfColumns());\n    this.dataTable = this.buildDataTableFromProps();\n    return this.dataTable;\n  };\n\n  Chart.prototype.drawChart = function drawChart() {\n    var _this4 = this;\n\n    debug('drawChart', this);\n    if (!this.wrapper) {\n      var chartConfig = {\n        chartType: this.props.chartType,\n        options: this.props.options,\n        containerId: this.state.graphID\n      };\n      this.wrapper = new window.google.visualization.ChartWrapper(chartConfig);\n      this.dataTable = this.buildDataTableFromProps();\n      this.wrapper.setDataTable(this.dataTable);\n\n      window.google.visualization.events.addOneTimeListener(this.wrapper, 'ready', function () {\n        _this4.chart = _this4.wrapper.getChart();\n        _this4.listenToChartEvents();\n        _this4.addChartActions();\n      });\n    } else {\n      this.updateDataTable();\n      this.wrapper.setDataTable(this.dataTable);\n      // this.wrapper.setChartType(this.props.chartType)\n      this.wrapper.setOptions(this.props.options);\n      if (this.wrapper.getChartType() !== this.props.chartType) {\n        window.google.visualization.events.removeAllListeners(this.wrapper);\n        this.wrapper.setChartType(this.props.chartType);\n        var self = this;\n        window.google.visualization.events.addOneTimeListener(this.wrapper, 'ready', function () {\n          self.chart = self.wrapper.getChart();\n          self.listenToChartEvents.call(self);\n        });\n      }\n    }\n    this.wrapper.draw();\n  };\n\n  Chart.prototype.addChartActions = function addChartActions() {\n    var _this5 = this;\n\n    debug('addChartActions', this.props.chartActions);\n    if (this.props.chartActions === null) {\n      return;\n    }\n    this.props.chartActions.forEach(function (chartAction) {\n      _this5.chart.setAction({\n        id: chartAction.id,\n        text: chartAction.text,\n        action: chartAction.action.bind(_this5, _this5.chart)\n      });\n    });\n  };\n\n  Chart.prototype.listenToChartEvents = function listenToChartEvents() {\n    var _this6 = this;\n\n    debug('listenToChartEvents', this.props.legend_toggle, this.props.chartEvents);\n    if (this.props.legend_toggle) {\n      window.google.visualization.events.addListener(this.wrapper, 'select', this.onSelectToggle);\n    }\n    this.props.chartEvents.forEach(function (chartEvent) {\n      if (chartEvent.eventName === 'ready') {\n        chartEvent.callback(_this6);\n      } else {\n        (function (event) {\n          window.google.visualization.events.addListener(_this6.chart, event.eventName, function (e) {\n            event.callback(_this6, e);\n          });\n        })(chartEvent);\n      }\n    });\n  };\n\n  Chart.prototype.buildColumnFromSourceData = function buildColumnFromSourceData(columnIndex) {\n    debug('buildColumnFromSourceData', columnIndex);\n    return {\n      label: this.dataTable.getColumnLabel(columnIndex),\n      type: this.dataTable.getColumnType(columnIndex),\n      sourceColumn: columnIndex\n    };\n  };\n\n  Chart.prototype.buildEmptyColumnFromSourceData = function buildEmptyColumnFromSourceData(columnIndex) {\n    debug('buildEmptyColumnFromSourceData', columnIndex);\n    return {\n      label: this.dataTable.getColumnLabel(columnIndex),\n      type: this.dataTable.getColumnType(columnIndex),\n      calc: function calc() {\n        return null;\n      }\n    };\n  };\n\n  Chart.prototype.addEmptyColumnTo = function addEmptyColumnTo(columns, columnIndex) {\n    debug('addEmptyColumnTo', columns, columnIndex);\n    var emptyColumn = this.buildEmptyColumnFromSourceData(columnIndex);\n    columns.push(emptyColumn);\n  };\n\n  Chart.prototype.hideColumn = function hideColumn(colors, columnIndex) {\n    debug('hideColumn', colors, columnIndex);\n    if (!this.isHidden(columnIndex)) {\n      this.hidden_columns[columnIndex] = { color: this.getColumnColor(columnIndex - 1) };\n    }\n    colors.push('#CCCCCC');\n  };\n\n  Chart.prototype.addSourceColumnTo = function addSourceColumnTo(columns, columnIndex) {\n    debug('addSourceColumnTo', columns, columnIndex);\n    var sourceColumn = this.buildColumnFromSourceData(columnIndex);\n    columns.push(sourceColumn);\n  };\n\n  Chart.prototype.isHidden = function isHidden(columnIndex) {\n    return this.hidden_columns[columnIndex] !== undefined;\n  };\n\n  Chart.prototype.restoreColorTo = function restoreColorTo(colors, columnIndex) {\n    debug('restoreColorTo', colors, columnIndex);\n    debug('hidden_columns', this.hidden_columns);\n    var previousColor = void 0;\n    if (this.isHidden(columnIndex)) {\n      previousColor = this.hidden_columns[columnIndex].color;\n      delete this.hidden_columns[columnIndex];\n    } else {\n      previousColor = this.getColumnColor(columnIndex - 1);\n    }\n    if (columnIndex !== 0) {\n      colors.push(previousColor);\n    }\n  };\n  // eslint-disable-next-line class-methods-use-this\n\n\n  Chart.prototype.debounce = function debounce(func, wait) {\n    var timeout = void 0;\n    return function () {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var context = this;\n      clearTimeout(timeout);\n      timeout = setTimeout(function () {\n        return func.apply(context, args);\n      }, wait);\n    };\n  };\n\n  Chart.prototype.togglePoints = function togglePoints(column) {\n    debug('togglePoints', column);\n    var view = new window.google.visualization.DataView(this.wrapper.getDataTable());\n    var columnCount = view.getNumberOfColumns();\n    var colors = []; // eslint-disable-line prefer-const\n    var columns = []; // eslint-disable-line prefer-const\n    for (var i = 0; i < columnCount; i += 1) {\n      // If user clicked on legend\n      if (i === 0) {\n        this.addSourceColumnTo(columns, i);\n      } else if (i === column) {\n        if (this.isHidden(i)) {\n          this.addSourceColumnTo(columns, i);\n          this.restoreColorTo(colors, i);\n        } else {\n          this.addEmptyColumnTo(columns, i);\n          this.hideColumn(colors, i);\n        }\n      } else if (this.isHidden(i)) {\n        this.addEmptyColumnTo(columns, i);\n        this.hideColumn(colors, i);\n      } else {\n        this.addSourceColumnTo(columns, i);\n        this.restoreColorTo(colors, i);\n      }\n    }\n    view.setColumns(columns);\n    this.props.options.colors = colors;\n    this.chart.draw(view, this.props.options);\n  };\n\n  Chart.prototype.render = function render() {\n    debug('render', this.props, this.state);\n    var divStyle = {\n      height: this.props.height || this.props.options.height,\n      width: this.props.width || this.props.options.width\n    };\n    return _react2.default.createElement(\n      'div',\n      { id: this.state.graphID, style: divStyle },\n      this.props.loader ? this.props.loader : 'Rendering Chart...'\n    );\n  };\n\n  return Chart;\n}(_react2.default.Component);\n\nexports.default = Chart;\n\n\nprocess.env.NODE_ENV !== \"production\" ? Chart.propTypes = {\n  graph_id: _react2.default.PropTypes.string,\n  chartType: _react2.default.PropTypes.string,\n  rows: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.array),\n  columns: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.object),\n  data: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.array),\n  options: _react2.default.PropTypes.any,\n  width: _react2.default.PropTypes.string,\n  height: _react2.default.PropTypes.string,\n  chartEvents: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.shape({\n    // https://github.com/yannickcr/eslint-plugin-react/issues/819\n    eventName: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n    callback: _react2.default.PropTypes.func })),\n  chartActions: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.shape({\n    id: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n    text: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n    action: _react2.default.PropTypes.func })),\n  loadCharts: _react2.default.PropTypes.bool,\n  loader: _react2.default.PropTypes.node,\n  legend_toggle: _react2.default.PropTypes.bool,\n  allowEmptyRows: _react2.default.PropTypes.bool,\n  chartPackages: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.string),\n  chartVersion: _react2.default.PropTypes.string,\n  numberFormat: _react2.default.PropTypes.shape({\n    column: _react2.default.PropTypes.number, // eslint-disable-line react/no-unused-prop-types\n    options: _react2.default.PropTypes.shape({\n      decimalSymbol: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      fractionDigits: _react2.default.PropTypes.number, // eslint-disable-line react/no-unused-prop-types\n      groupingSymbol: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      negativeColor: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      negativeParens: _react2.default.PropTypes.bool, // eslint-disable-line react/no-unused-prop-types\n      pattern: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      prefix: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      suffix: _react2.default.PropTypes.string })\n  }),\n  dateFormat: _react2.default.PropTypes.shape({\n    // eslint-disable-next-line react/no-unused-prop-types\n    columns: _react2.default.PropTypes.arrayOf(_react2.default.PropTypes.number),\n    options: _react2.default.PropTypes.shape({\n      formatType: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      pattern: _react2.default.PropTypes.string, // eslint-disable-line react/no-unused-prop-types\n      timeZone: _react2.default.PropTypes.number })\n  }),\n  diffdata: _react2.default.PropTypes.shape({\n    on: _react2.default.PropTypes.array, // eslint-disable-line react/no-unused-prop-types\n    off: _react2.default.PropTypes.array })\n} : void 0;\n\nChart.defaultProps = {\n  chartType: 'LineChart',\n  rows: [],\n  columns: [],\n  options: {\n    chart: {\n      title: 'Chart Title',\n      subtitle: 'Subtitle'\n    },\n    hAxis: { title: 'X Label' },\n    vAxis: { title: 'Y Label' },\n    width: '400px',\n    height: '300px'\n  },\n  width: '400px',\n  height: '300px',\n  chartEvents: [],\n  chartActions: null,\n  data: null,\n  legend_toggle: false,\n  allowEmptyRows: false,\n  loadCharts: true,\n  loader: _react2.default.createElement(\n    'div',\n    null,\n    'Rendering Chart'\n  ),\n  chartPackages: ['corechart'],\n  chartVersion: 'current',\n  numberFormat: null,\n  dateFormat: null,\n  diffdata: null\n};\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _debug = require('debug');\n\nvar _debug2 = _interopRequireDefault(_debug);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar debug = new _debug2.default('react-google-charts:GoogleChartLoader'); // GoogleChartLoader Singleton\n\n// Based on http://blog.arkency.com/2014/09/react-dot-js-and-google-charts/\n\nvar script = typeof window !== 'undefined' ? require('loadjs') : function (link, _ref) {\n  var callback = _ref.success;\n  return callback();\n};\n\nvar googleChartLoader = {\n  isLoaded: false,\n  isLoading: false,\n  initPromise: {},\n  init: function init(packages, version) {\n    var _this = this;\n\n    debug('init', packages, version);\n    console.warn({ script: script });\n    if (this.isLoading || this.isLoaded) {\n      return this.initPromise;\n    }\n    this.isLoading = true;\n    this.initPromise = new Promise(function (resolve) {\n      script('https://www.gstatic.com/charts/loader.js', { success: function success() {\n          window.google.charts.load(version || 'current', { packages: packages || ['corechart'] });\n          window.google.charts.setOnLoadCallback(function () {\n            debug('Chart Loaded');\n            _this.isLoaded = true;\n            _this.isLoading = false;\n            resolve();\n          });\n        } });\n    });\n    return this.initPromise;\n  }\n};\n\nexports.default = googleChartLoader;\nmodule.exports = exports['default'];","'use strict';\n\n// Taken from http://there4development.com/blog/2012/05/02/google-chart-color-list/\n\nmodule.exports = ['#3366CC', '#DC3912', '#FF9900', '#109618', '#990099', '#3B3EAC', '#0099C6', '#DD4477', '#66AA00', '#B82E2E', '#316395', '#994499', '#22AA99', '#AAAA11', '#6633CC', '#E67300', '#8B0707', '#329262', '#5574A6', '#3B3EAC'];","'use strict';\n\nexports.__esModule = true;\n\nvar _Chart = require('./components/Chart');\n\nvar _Chart2 = _interopRequireDefault(_Chart);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = { Chart: _Chart2.default };\nmodule.exports = exports['default'];","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvYWN0aW9ucy9PbWltQWN0aW9ucy5qcyIsImFwcC9hY3Rpb25zL1N0YXRzQWN0aW9ucy5qcyIsImFwcC9hbHQuanMiLCJhcHAvY29tcG9uZW50cy9BcHAuanMiLCJhcHAvY29tcG9uZW50cy9Ib21lLmpzIiwiYXBwL2NvbXBvbmVudHMvTmF2YmFyLmpzIiwiYXBwL2NvbXBvbmVudHMvT21pbS5qcyIsImFwcC9jb21wb25lbnRzL1BoZW5vdHlwZXMuanMiLCJhcHAvY29tcG9uZW50cy9TdGF0cy5qcyIsImFwcC9tYWluLmpzIiwiYXBwL3JvdXRlcy5qcyIsImFwcC9zdG9yZXMvT21pbVN0b3JlLmpzIiwiYXBwL3N0b3Jlcy9TdGF0c1N0b3JlLmpzIiwibm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9icm93c2VyLmpzIiwibm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9kZWJ1Zy5qcyIsIm5vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2RlZXAtZXF1YWwvbGliL2lzX2FyZ3VtZW50cy5qcyIsIm5vZGVfbW9kdWxlcy9kZWVwLWVxdWFsL2xpYi9rZXlzLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL0FjdGlvbnMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvQXN5bmNVdGlscy5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9ET01TdGF0ZVN0b3JhZ2UuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRE9NVXRpbHMuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnQuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlQnJvd3Nlckhpc3RvcnkuanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvY3JlYXRlRE9NSGlzdG9yeS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9jcmVhdGVIaXN0b3J5LmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2NyZWF0ZUxvY2F0aW9uLmpzIiwibm9kZV9tb2R1bGVzL2hpc3RvcnkvbGliL2RlcHJlY2F0ZS5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9leHRyYWN0UGF0aC5qcyIsIm5vZGVfbW9kdWxlcy9oaXN0b3J5L2xpYi9wYXJzZVBhdGguanMiLCJub2RlX21vZHVsZXMvaGlzdG9yeS9saWIvcnVuVHJhbnNpdGlvbkhvb2suanMiLCJub2RlX21vZHVsZXMvaW52YXJpYW50L2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvbG9hZGpzL2Rpc3QvbG9hZGpzLnVtZC5qcyIsIm5vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJub2RlX21vZHVsZXMvcmVhY3QtZ29vZ2xlLWNoYXJ0cy9saWIvY29tcG9uZW50cy9DaGFydC5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1nb29nbGUtY2hhcnRzL2xpYi9jb21wb25lbnRzL0dvb2dsZUNoYXJ0TG9hZGVyLmpzIiwibm9kZV9tb2R1bGVzL3JlYWN0LWdvb2dsZS1jaGFydHMvbGliL2NvbnN0YW50cy9ERUZBVUxUX0NIQVJUX0NPTE9SUy5qcyIsIm5vZGVfbW9kdWxlcy9yZWFjdC1nb29nbGUtY2hhcnRzL2xpYi9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy93YXJuaW5nL2Jyb3dzZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztBQ0FBOzs7Ozs7OztJQUVNLFc7QUFDSix5QkFBYztBQUFBOztBQUNaLFNBQUssZUFBTCxDQUNFLG9CQURGLEVBRUUsa0NBRkYsRUFHRSxlQUhGLEVBSUUsaUJBSkY7QUFNRDs7OzttQ0FFYztBQUFBOztBQUNkLFFBQUUsSUFBRixDQUFPLEVBQUUsS0FBSyxXQUFQLEVBQW9CLE1BQUssRUFBekIsRUFBUCxFQUNFLElBREYsQ0FDTyxVQUFDLElBQUQsRUFBVTtB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDdExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNwQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3pCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ2pMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQ3ZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbFNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNaQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQzNDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDbkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNuUkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDcExBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUNqZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDaERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNYQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJpbXBvcnQgYWx0IGZyb20gJy4uL2FsdCc7XHJcblxyXG5jbGFzcyBPbWltQWN0aW9ucyB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICB0aGlzLmdlbmVyYXRlQWN0aW9ucyhcclxuICAgICAgJ2dldE9taW1HZW5lU3VjY2VzcycsXHJcbiAgICAgICdnZXRPbWltR2VuZVdpdGhQaGVub3R5cGVzU3VjY2VzcycsXHJcbiAgICAgICdnZXRTbnBTdWNjZXNzJyxcclxuICAgICAgJ2dldE9taW1HZW5lRmFpbCdcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBnZXRPbWltR2VuZXMoKSB7XHJcbiAgXHQkLmFqYXgoeyB1cmw6ICcvYXBpL29taW0nLCBkYXRhOnt9IH0pXHJcbiAgXHRcdC5kb25lKChkYXRhKSA9PiB7XHJcbiAgXHRcdFx0dGhpcy5hY3Rpb25zLmdldE9taW1HZW5lU3VjY2VzcyhkYXRhKTtcclxuICBcdFx0fSlcclxuICBcdFx0LmZhaWwoKGpxWGhyKSA9PiB7XHJcbiAgXHRcdFx0dGhpcy5hY3Rpb25zLmdldE9taW1HZW5lRmFpbChqcVhocik7XHJcbiAgXHRcdH0pO1x0XHJcblx0fVxyXG5cclxuICBnZXRPbWltR2VuZXNXaXRoUGhlbm90eXBlcygpIHtcclxuICAgICQuYWpheCh7IHVybDogJy9hcGkvb21pbVdpdGhQaGVub3R5cGUvJywgZGF0YTp7fSB9KVxyXG4gICAgICAuZG9uZSgoZGF0YSkgPT4ge1xyXG4gICAgICAgIHRoaXMuYWN0aW9ucy5nZXRPbWltR2VuZVdpdGhQaGVub3R5cGVzU3VjY2VzcyhkYXRhKTtcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuICBnZXRTbnAoKSB7XHJcbiAgICAkLmFqYXgoeyB1cmw6ICcvYXBpL3NucC8nLCBkYXRhOnt9IH0pXHJcbiAgICAgIC5kb25lKChkYXRhKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hY3Rpb25zLmdldFNucFN1Y2Nlc3MoZGF0YSk7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgYWx0LmNyZWF0ZUFjdGlvbnMoT21pbUFjdGlvbnMpOyIsImltcG9ydCBhbHQgZnJvbSAnLi4vYWx0JztcblxuY2xhc3MgU3RhdHNBY3Rpb25zIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5nZW5lcmF0ZUFjdGlvbnMoXG4gICAgICAnZ2V0T21pbUdlbmVTdWNjZXNzJyxcbiAgICAgICdnZXRPbWltR2VuZVdpdGhQaGVub3R5cGVzU3VjY2VzcycsXG4gICAgICAnZ2V0T21pbUdlbmVGYWlsJ1xuICAgICk7XG4gIH1cblxuICBnZXRPbWltR2VuZXMoKSB7XG4gIFx0JC5hamF4KHsgdXJsOiAnL2FwaS9vbWltJywgZGF0YTp7fSB9KVxuICBcdFx0LmRvbmUoKGRhdGEpID0+IHtcbiAgXHRcdFx0dGhpcy5hY3Rpb25zLmdldE9taW1HZW5lU3VjY2VzcyhkYXRhKTtcbiAgXHRcdH0pXG4gIFx0XHQuZmFpbCgoanFYaHIpID0+IHtcbiAgXHRcdFx0dGhpcy5hY3Rpb25zLmdldE9taW1HZW5lRmFpbChqcVhocik7XG4gIFx0XHR9KTtcdFxuXHR9XG5cbiAgZ2V0T21pbUdlbmVzV2l0aFBoZW5vdHlwZXMoKSB7XG4gICAgJC5hamF4KHsgdXJsOiAnL2FwaS9vbWltV2l0aFBoZW5vdHlwZS8nLCBkYXRhOnt9IH0pXG4gICAgICAuZG9uZSgoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLmFjdGlvbnMuZ2V0T21pbUdlbmVXaXRoUGhlbm90eXBlc1N1Y2Nlc3MoZGF0YSk7XG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlQWN0aW9ucyhTdGF0c0FjdGlvbnMpOyIsImltcG9ydCBBbHQgZnJvbSAnYWx0JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5ldyBBbHQoKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgTmF2YmFyIGZyb20gJy4vTmF2YmFyJztcclxuXHJcbmNsYXNzIEFwcCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XHJcbiAgcmVuZGVyKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdj5cclxuICAgICAgPE5hdmJhciBoaXN0b3J5PXt0aGlzLnByb3BzLmhpc3Rvcnl9IC8+XHJcbiAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFwcDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgT21pbVN0b3JlIGZyb20gJy4uL3N0b3Jlcy9PbWltU3RvcmUnO1xyXG5pbXBvcnQgT21pbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9PbWltQWN0aW9ucyc7XHJcbmltcG9ydCBPbWltIGZyb20gJy4vT21pbSc7XHJcblxyXG5jbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcclxuICBcclxuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xyXG4gICAgc3VwZXIocHJvcHMpO1xyXG4gICAgdGhpcy5zdGF0ZSA9IE9taW1TdG9yZS5nZXRTdGF0ZSgpO1xyXG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gIFx0T21pbVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcclxuICAgIE9taW1BY3Rpb25zLmdldE9taW1HZW5lcygpO1xyXG4gICAgT21pbUFjdGlvbnMuZ2V0T21pbUdlbmVzV2l0aFBoZW5vdHlwZXMoKTtcclxuICAgIE9taW1BY3Rpb25zLmdldFNucCgpO1xyXG4gIH1cclxuXHJcbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XHJcbiAgXHRPbWltU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgb25DaGFuZ2Uoc3RhdGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgbWFwUGhlbm90eXBlTGlzdChsaXN0KSB7XHJcbiAgXHRpZiAobGlzdCkge1xyXG5cdCAgXHRyZXR1cm4gbGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XHJcblx0ICBcdFx0cmV0dXJuIChcclxuXHQgIFx0XHRcdDxkaXYgY2xhc3NOYW1lPSd3ZWxsIHdlbGwtc20nIGtleT17aW5kZXh9PlxyXG5cdCAgXHRcdFx0XHQ8ZGl2PjxzdHJvbmc+UGhlbm90eXBlIE5hbWU6PC9zdHJvbmc+IHtpdGVtLnBoZW5vdHlwZU1hcC5waGVub3R5cGV9PC9kaXY+XHJcblx0ICBcdFx0XHRcdDxkaXY+PHN0cm9uZz5QaGVub3R5cGUgTUlNIE51bWJlcjo8L3N0cm9uZz4gPGEgaHJlZj17YGh0dHBzOi8vb21pbS5vcmcvZW50cnkvJHtpdGVtLnBoZW5vdHlwZU1hcC5waGVub3R5cGVNaW1OdW1iZXJ9YH0gdGFyZ2V0PSdfYmxhbmsnPntpdGVtLnBoZW5vdHlwZU1hcC5waGVub3R5cGVNaW1OdW1iZXJ9PC9hPjwvZGl2PlxyXG5cdCAgXHRcdFx0XHQ8ZGl2PjxzdHJvbmc+UGhlbm90eXBlIEluaGVyaXRhbmNlOjwvc3Ryb25nPiB7aXRlbS5waGVub3R5cGVNYXAucGhlbm90eXBlSW5oZXJpdGFuY2V9PC9kaXY+XHJcblx0ICBcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0KVxyXG5cdCAgXHR9KTtcclxuICBcdH1cclxuICB9XHJcblxyXG4gIG1hcFNucExpc3QobGlzdCkge1xyXG4gIFx0aWYgKGxpc3QgJiYgbGlzdC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkpIHtcclxuXHQgIFx0cmV0dXJuIGxpc3QubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG5cdCAgXHRcdHJldHVybiAoXHJcblx0ICBcdFx0XHQ8bGkgY2xhc3NOYW1lPSd3ZWxsIHdlbGwtc20nIGtleT17aW5kZXh9PlxyXG5cdCAgXHRcdFx0XHQ8YSBocmVmPXtgaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wcm9qZWN0cy9TTlAvc25wX3JlZi5jZ2k/cnM9JHtpdGVtfWB9IHRhcmdldD0nX2JsYW5rJz57aXRlbX08L2E+XHJcblx0ICBcdFx0XHQ8L2xpPlxyXG5cdFx0XHQpXHJcblx0ICBcdH0pO1xyXG4gIFx0fVxyXG4gIFx0ZWxzZSBpZiAobGlzdCl7XHJcbiAgXHRcdHJldHVybiAoXHJcblx0ICBcdFx0XHQ8bGkgY2xhc3NOYW1lPSd3ZWxsIHdlbGwtc20nIGtleT17bGlzdH0+XHJcblx0ICBcdFx0XHRcdDxhIGhyZWY9e2BodHRwczovL3d3dy5uY2JpLm5sbS5uaWguZ292L3Byb2plY3RzL1NOUC9zbnBfcmVmLmNnaT9ycz0ke2xpc3R9YH0gdGFyZ2V0PSdfYmxhbmsnPntsaXN0fTwvYT5cclxuXHQgIFx0XHRcdDwvbGk+XHJcblx0XHQpXHJcbiAgXHR9XHJcbiAgfVxyXG5cclxuICBnZXRQaGVub3R5cGVDb3VudChsaXN0KSB7XHJcbiAgXHRpZiAobGlzdCl7XHJcbiAgXHRcdHJldHVybiBsaXN0Lmxlbmd0aDtcclxuICBcdH1cclxuICBcdGVsc2UgcmV0dXJuIDA7XHJcbiAgfVxyXG5cclxuXHRyZW5kZXIoKSB7XHJcblx0XHR2YXIgZ2VuZU5vZGVzID0gdGhpcy5zdGF0ZS5nZW5lcy5tYXAoKGdlbmUsIGluZGV4KSA9PiB7XHJcblx0XHRcdGNvbnN0IGdlbmVPYmplY3QgPSBKU09OLnBhcnNlKGdlbmUuY29udGVudHMpO1xyXG5cdFx0XHRjb25zdCBnZW5lTWFwID0gZ2VuZU9iamVjdC5vbWltLmxpc3RSZXNwb25zZS5nZW5lTWFwTGlzdFswXS5nZW5lTWFwO1xyXG5cdFx0XHRjb25zdCBzbnBDb250ZW50cyA9IEpTT04ucGFyc2UoZ2VuZS5zbnBDb250ZW50cyk7XHJcblx0XHQgIHJldHVybiAoXHJcblx0XHQgICAgPGRpdiBjbGFzc05hbWU9J3BhbmVsIHBhbmVsLXByaW1hcnknIGtleT17Z2VuZS5faWR9PlxyXG5cdFx0ICAgIFx0PGRpdiBjbGFzc05hbWU9J3BhbmVsLWhlYWRpbmcnPntnZW5lTWFwLmdlbmVOYW1lfTwvZGl2PlxyXG5cdFx0ICAgIFx0PGRpdiBjbGFzc05hbWU9J3BhbmVsLWJvZHknPlxyXG5cdFx0ICAgIFx0XHQ8dWwgY2xhc3NOYW1lPSdsaXN0Jz5cclxuICBcdFx0XHRcdFx0XHQ8bGk+PHN0cm9uZz5HZW5lIE5hbWU6IDwvc3Ryb25nPntnZW5lTWFwLmdlbmVOYW1lfTwvbGk+XHJcbiAgXHRcdFx0XHRcdFx0PGxpPjxzdHJvbmc+R2VuZSBTeW1ib2xzOiA8L3N0cm9uZz57Z2VuZU1hcC5nZW5lU3ltYm9sc308L2xpPlxyXG4gIFx0XHRcdFx0XHRcdDxsaT48c3Ryb25nPk1JTSBOdW1iZXI6IDwvc3Ryb25nPjxhIGhyZWY9e2BodHRwczovL29taW0ub3JnL2VudHJ5LyR7Z2VuZU1hcC5taW1OdW1iZXJ9YH0gdGFyZ2V0PSdfYmxhbmsnPntnZW5lTWFwLm1pbU51bWJlcn08L2E+PC9saT5cclxuICBcdFx0XHRcdFx0XHQ8bGk+PHN0cm9uZz5Lbm93biBQaGVub3R5cGVzOiA8L3N0cm9uZz48c3BhbiBjbGFzc05hbWU9J2JhZGdlJz57dGhpcy5nZXRQaGVub3R5cGVDb3VudChnZW5lTWFwLnBoZW5vdHlwZU1hcExpc3QpfTwvc3Bhbj48L2xpPlxyXG4gIFx0XHRcdFx0XHRcdFxyXG4gIFx0XHRcdFx0XHRcdDxwPnt0aGlzLm1hcFBoZW5vdHlwZUxpc3QoZ2VuZU1hcC5waGVub3R5cGVNYXBMaXN0KX08L3A+XHJcbiAgXHRcdFx0XHRcdFx0PGxpPjxzdHJvbmc+S25vd24gU05QczogPC9zdHJvbmc+PHNwYW4gY2xhc3NOYW1lPSdiYWRnZSc+e2dlbmUuc25wQ291bnR9PC9zcGFuPjwvbGk+XHJcbiAgXHRcdFx0XHRcdFx0PGxpPjxzdHJvbmc+S25vd24gUGF0aG9nZW5pYyBTTlBzOiA8L3N0cm9uZz48c3BhbiBjbGFzc05hbWU9J2JhZGdlIGJhZGdlLWRhbmdlcic+e2dlbmUuc25wUGF0aG9nZW5pY0NvdW50fTwvc3Bhbj48L2xpPlxyXG4gIFx0XHRcdFx0XHRcdDxwPjx1bCBjbGFzc05hbWU9J2xpc3QtaW5saW5lJz57dGhpcy5tYXBTbnBMaXN0KHNucENvbnRlbnRzLklkTGlzdC5JZCl9PC91bD48L3A+XHJcbiAgXHRcdFx0XHRcdDwvdWw+XHJcbiAgXHRcdFx0XHRcdFxyXG5cdFx0ICAgIFx0PC9kaXY+XHJcblx0XHQgICAgPC9kaXY+XHJcblx0XHQgICk7XHJcblx0XHR9KTtcclxuXHRcdFxyXG5cclxuXHRcdHJldHVybiAoXHJcblx0XHRcdDxkaXY+XHJcblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LWluZm8nPlxyXG5cdFx0XHRcdFx0TWl0b2Nob25kcmlhbCBEaXNvcmRlcnMgQW5kIEdlbmV0aWMgVmFyaWF0aW9uc1xyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXInPlxyXG5cdFx0XHRcdFx0PHVsIGNsYXNzTmFtZT0nbGlzdC1ncm91cCc+XHJcblx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J2xpc3QtZ3JvdXAtaXRlbSc+PHN0cm9uZz5Ub3RhbCBnZW5lczogPC9zdHJvbmc+e3RoaXMuc3RhdGUuZ2VuZXMubGVuZ3RofTwvbGk+XHJcblx0XHRcdFx0XHRcdDxsaSBjbGFzc05hbWU9J2xpc3QtZ3JvdXAtaXRlbSc+PHN0cm9uZz5Ub3RhbCBnZW5lcyB3aXRoIGtub3duIHBoZW5vdHlwZXM6IDwvc3Ryb25nPnt0aGlzLnN0YXRlLmdlbmVzV2l0aFBoZW5vdHlwZXMubGVuZ3RofTwvbGk+XHJcblx0XHRcdFx0XHQ8L3VsPlxyXG5cdFx0XHRcdFx0e2dlbmVOb2Rlc31cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSG9tZTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtMaW5rfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xuXG5jbGFzcyBOYXZiYXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTsgIFxuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8bmF2IGNsYXNzTmFtZT0nbmF2YmFyIG5hdmJhci1kZWZhdWx0IG5hdmJhci1zdGF0aWMtdG9wJz5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9J25hdmJhci1oZWFkZXInPlxuICAgICAgICAgIDxidXR0b24gdHlwZT0nYnV0dG9uJyBjbGFzc05hbWU9J25hdmJhci10b2dnbGUgY29sbGFwc2VkJyBkYXRhLXRvZ2dsZT0nY29sbGFwc2UnIGRhdGEtdGFyZ2V0PScjbmF2YmFyJz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT0nc3Itb25seSc+VG9nZ2xlIG5hdmlnYXRpb248L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ljb24tYmFyJz48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ljb24tYmFyJz48L3NwYW4+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9J2ljb24tYmFyJz48L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPExpbmsgdG89Jy8nIGNsYXNzTmFtZT0nbmF2YmFyLWJyYW5kJz5cbiAgICAgICAgICAgIEROQVxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPSdiYWRnZSBiYWRnZS11cCBiYWRnZS1kYW5nZXInPm10PC9zcGFuPlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgaWQ9J25hdmJhcicgY2xhc3NOYW1lPSduYXZiYXItY29sbGFwc2UgY29sbGFwc2UnPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9J25hdiBuYXZiYXItbmF2Jz5cbiAgICAgICAgICAgIDxsaT48TGluayB0bz0nLyc+SG9tZTwvTGluaz48L2xpPlxuICAgICAgICAgICAgPGxpPjxMaW5rIHRvPScvc3RhdHMnPlN0YXRzPC9MaW5rPjwvbGk+XG4gICAgICAgICAgICA8bGkgY2xhc3NOYW1lPSdkcm9wZG93bic+XG4gICAgICAgICAgICAgIDxMaW5rIHRvPScvcGhlbm90eXBlcyc+S25vd24gUGhlbm90eXBlcyA8L0xpbms+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9uYXY+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBOYXZiYXI7IiwiaW1wb3J0IFJlYWN0LCB7UHJvcFR5cGVzfSBmcm9tICdyZWFjdCdcclxuXHJcbmNvbnN0IE9taW0gPSAoe29taW0sIG9uSGVhZGluZ0NsaWNrLCBoZWFkaW5nQ2xhc3N9KSA9PiB7XHJcbiAgcmV0dXJuIChcclxuICAgIDxkaXY+e29taW19PC9kaXY+XHJcbiAgKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgT21pbTtcclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBPbWltU3RvcmUgZnJvbSAnLi4vc3RvcmVzL09taW1TdG9yZSc7XG5pbXBvcnQgT21pbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9PbWltQWN0aW9ucyc7XG5pbXBvcnQgT21pbSBmcm9tICcuL09taW0nO1xuXG5jbGFzcyBIb21lIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSBPbWltU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gIFx0T21pbVN0b3JlLmxpc3Rlbih0aGlzLm9uQ2hhbmdlKTtcbiAgICBPbWltQWN0aW9ucy5nZXRPbWltR2VuZXNXaXRoUGhlbm90eXBlcygpO1xuICAgIE9taW1BY3Rpb25zLmdldFNucCgpO1xuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gIFx0T21pbVN0b3JlLnVubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xuICB9XG5cbiAgb25DaGFuZ2Uoc3RhdGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHN0YXRlKTtcbiAgfVxuXG4gIG1hcFBoZW5vdHlwZUxpc3QobGlzdCkge1xuICBcdGlmIChsaXN0KSB7XG5cdCAgXHRyZXR1cm4gbGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG5cdCAgXHRcdHJldHVybiAoXG5cdCAgXHRcdFx0PGRpdiBjbGFzc05hbWU9J3dlbGwgd2VsbC1zbScga2V5PXtpbmRleH0+XG5cdCAgXHRcdFx0XHQ8ZGl2PjxzdHJvbmc+UGhlbm90eXBlIE5hbWU6PC9zdHJvbmc+IHtpdGVtLnBoZW5vdHlwZU1hcC5waGVub3R5cGV9PC9kaXY+XG5cdCAgXHRcdFx0XHQ8ZGl2PjxzdHJvbmc+UGhlbm90eXBlIE1JTSBOdW1iZXI6PC9zdHJvbmc+IDxhIGhyZWY9e2BodHRwczovL29taW0ub3JnL2VudHJ5LyR7aXRlbS5waGVub3R5cGVNYXAucGhlbm90eXBlTWltTnVtYmVyfWB9IHRhcmdldD0nX2JsYW5rJz57aXRlbS5waGVub3R5cGVNYXAucGhlbm90eXBlTWltTnVtYmVyfTwvYT48L2Rpdj5cblx0ICBcdFx0XHRcdDxkaXY+PHN0cm9uZz5QaGVub3R5cGUgSW5oZXJpdGFuY2U6PC9zdHJvbmc+IHtpdGVtLnBoZW5vdHlwZU1hcC5waGVub3R5cGVJbmhlcml0YW5jZX08L2Rpdj5cblx0ICBcdFx0XHQ8L2Rpdj5cblx0XHRcdClcblx0ICBcdH0pO1xuICBcdH1cbiAgfVxuXG4gIGdldFBoZW5vdHlwZUNvdW50KGxpc3QpIHtcbiAgXHRpZiAobGlzdCl7XG4gIFx0XHRyZXR1cm4gbGlzdC5sZW5ndGg7XG4gIFx0fVxuICBcdGVsc2UgcmV0dXJuIDA7XG4gIH1cblxuICBtYXBTbnBMaXN0KGxpc3QpIHtcbiAgXHRpZiAobGlzdCAmJiBsaXN0LmNvbnN0cnVjdG9yID09PSBBcnJheSkge1xuXHQgIFx0cmV0dXJuIGxpc3QubWFwKChpdGVtLCBpbmRleCkgPT4ge1xuXHQgIFx0XHRyZXR1cm4gKFxuXHQgIFx0XHRcdDxsaSBjbGFzc05hbWU9J3dlbGwgd2VsbC1zbScga2V5PXtpbmRleH0+XG5cdCAgXHRcdFx0XHQ8YSBocmVmPXtgaHR0cHM6Ly93d3cubmNiaS5ubG0ubmloLmdvdi9wcm9qZWN0cy9TTlAvc25wX3JlZi5jZ2k/cnM9JHtpdGVtfWB9IHRhcmdldD0nX2JsYW5rJz57aXRlbX08L2E+XG5cdCAgXHRcdFx0PC9saT5cblx0XHRcdClcblx0ICBcdH0pO1xuICBcdH1cbiAgXHRlbHNlIGlmIChsaXN0KXtcbiAgXHRcdHJldHVybiAoXG5cdCAgXHRcdFx0PGxpIGNsYXNzTmFtZT0nd2VsbCB3ZWxsLXNtJyBrZXk9e2xpc3R9PlxuXHQgIFx0XHRcdFx0PGEgaHJlZj17YGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcHJvamVjdHMvU05QL3NucF9yZWYuY2dpP3JzPSR7bGlzdH1gfSB0YXJnZXQ9J19ibGFuayc+e2xpc3R9PC9hPlxuXHQgIFx0XHRcdDwvbGk+XG5cdFx0KVxuICBcdH1cbiAgfVxuXG5cdHJlbmRlcigpIHtcblx0XHR2YXIgZ2VuZU5vZGVzID0gdGhpcy5zdGF0ZS5nZW5lc1dpdGhQaGVub3R5cGVzLm1hcCgoZ2VuZSwgaW5kZXgpID0+IHtcblx0XHRcdGNvbnN0IGdlbmVPYmplY3QgPSBKU09OLnBhcnNlKGdlbmUuY29udGVudHMpO1xuXHRcdFx0Y29uc3QgZ2VuZU1hcCA9IGdlbmVPYmplY3Qub21pbS5saXN0UmVzcG9uc2UuZ2VuZU1hcExpc3RbMF0uZ2VuZU1hcDtcblx0XHRcdGNvbnN0IHNucENvbnRlbnRzID0gSlNPTi5wYXJzZShnZW5lLnNucENvbnRlbnRzKTtcblx0XHQgIHJldHVybiAoXG5cdFx0ICAgIDxkaXYgY2xhc3NOYW1lPSdwYW5lbCBwYW5lbC1wcmltYXJ5JyBrZXk9e2dlbmUuX2lkfT5cblx0XHQgICAgXHQ8ZGl2IGNsYXNzTmFtZT0ncGFuZWwtaGVhZGluZyc+e2dlbmVNYXAuZ2VuZU5hbWV9PC9kaXY+XG5cdFx0ICAgIFx0PGRpdiBjbGFzc05hbWU9J3BhbmVsLWJvZHknPlxuXHRcdCAgICBcdFx0PHVsIGNsYXNzTmFtZT0nbGlzdCc+XG4gIFx0XHRcdFx0XHRcdDxsaT48c3Ryb25nPkdlbmUgTmFtZTogPC9zdHJvbmc+e2dlbmVNYXAuZ2VuZU5hbWV9PC9saT5cbiAgXHRcdFx0XHRcdFx0PGxpPjxzdHJvbmc+R2VuZSBTeW1ib2xzOiA8L3N0cm9uZz57Z2VuZU1hcC5nZW5lU3ltYm9sc308L2xpPlxuICBcdFx0XHRcdFx0XHQ8bGk+PHN0cm9uZz5NSU0gTnVtYmVyOiA8L3N0cm9uZz48YSBocmVmPXtgaHR0cHM6Ly9vbWltLm9yZy9lbnRyeS8ke2dlbmVNYXAubWltTnVtYmVyfWB9IHRhcmdldD0nX2JsYW5rJz57Z2VuZU1hcC5taW1OdW1iZXJ9PC9hPjwvbGk+XG4gIFx0XHRcdFx0XHRcdDxsaT48c3Ryb25nPktub3duIFBoZW5vdHlwZXM6IDwvc3Ryb25nPjxzcGFuIGNsYXNzTmFtZT0nYmFkZ2UnPnt0aGlzLmdldFBoZW5vdHlwZUNvdW50KGdlbmVNYXAucGhlbm90eXBlTWFwTGlzdCl9PC9zcGFuPjwvbGk+XG4gIFx0XHRcdFx0XHRcdFxuICBcdFx0XHRcdFx0XHQ8cD57dGhpcy5tYXBQaGVub3R5cGVMaXN0KGdlbmVNYXAucGhlbm90eXBlTWFwTGlzdCl9PC9wPlxuICBcdFx0XHRcdFx0XHQ8bGk+PHN0cm9uZz5Lbm93biBTTlBzOiA8L3N0cm9uZz48c3BhbiBjbGFzc05hbWU9J2JhZGdlJz57Z2VuZS5zbnBDb3VudH08L3NwYW4+PC9saT5cbiAgXHRcdFx0XHRcdFx0PGxpPjxzdHJvbmc+S25vd24gUGF0aG9nZW5pYyBTTlBzOiA8L3N0cm9uZz48c3BhbiBjbGFzc05hbWU9J2JhZGdlIGJhZGdlLWRhbmdlcic+e2dlbmUuc25wUGF0aG9nZW5pY0NvdW50fTwvc3Bhbj48L2xpPlxuICBcdFx0XHRcdFx0XHQ8cD48dWwgY2xhc3NOYW1lPSdsaXN0LWlubGluZSc+e3RoaXMubWFwU25wTGlzdChzbnBDb250ZW50cy5JZExpc3QuSWQpfTwvdWw+PC9wPlxuICBcdFx0XHRcdFx0PC91bD5cbiAgXHRcdFx0XHRcdFxuXHRcdCAgICBcdDwvZGl2PlxuXHRcdCAgICA8L2Rpdj5cblx0XHQgICk7XG5cdFx0fSk7XG5cdFx0XG5cblx0XHRyZXR1cm4gKFxuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGRpdiBjbGFzc05hbWU9J2FsZXJ0IGFsZXJ0LWluZm8nPlxuXHRcdFx0XHRcdE1pdG9jaG9uZHJpYWwgRGlzb3JkZXJzIEFuZCBHZW5ldGljIFZhcmlhdGlvbnNcblx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDxkaXYgY2xhc3NOYW1lPSdjb250YWluZXInPlxuXHRcdFx0XHRcdDx1bCBjbGFzc05hbWU9J2xpc3QtZ3JvdXAnPlxuXHRcdFx0XHRcdFx0PGxpIGNsYXNzTmFtZT0nbGlzdC1ncm91cC1pdGVtJz48c3Ryb25nPlRvdGFsIGdlbmVzIHdpdGgga25vd24gcGhlbm90eXBlczogPC9zdHJvbmc+e3RoaXMuc3RhdGUuZ2VuZXNXaXRoUGhlbm90eXBlcy5sZW5ndGh9PC9saT5cblx0XHRcdFx0XHQ8L3VsPlxuXHRcdFx0XHRcdHtnZW5lTm9kZXN9XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBIb21lOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGFydCB9IGZyb20gJ3JlYWN0LWdvb2dsZS1jaGFydHMnO1xuaW1wb3J0IFN0YXRzU3RvcmUgZnJvbSAnLi4vc3RvcmVzL1N0YXRzU3RvcmUnO1xuaW1wb3J0IFN0YXRzQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL1N0YXRzQWN0aW9ucyc7XG4gXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBcHAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuXG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSBTdGF0c1N0b3JlLmdldFN0YXRlKCk7XG4gICAgdGhpcy5vbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIFN0YXRzU3RvcmUubGlzdGVuKHRoaXMub25DaGFuZ2UpO1xuICAgIFN0YXRzQWN0aW9ucy5nZXRPbWltR2VuZXMoKTtcbiAgICBTdGF0c0FjdGlvbnMuZ2V0T21pbUdlbmVzV2l0aFBoZW5vdHlwZXMoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIFN0YXRzU3RvcmUudW5saXN0ZW4odGhpcy5vbkNoYW5nZSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7ZGF0YSA6IFtcbiAgICAgICAgICBbJ1R5cGUnLCAnQ291bnQnLCB7cm9sZTogJ2Fubm90YXRpb24nfV1cbiAgICAgICAgXX0pO1xuICB9XG5cblxuICBvbkNoYW5nZShzdGF0ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoc3RhdGUpO1xuICAgIHRoaXMuc2V0U3RhdGUoe2RhdGEgOiBbLi4udGhpcy5zdGF0ZS5kYXRhLCBbJ1RvdGFsIEdlbmVzJywgdGhpcy5zdGF0ZS5nZW5lcy5sZW5ndGgsIHRoaXMuc3RhdGUuZ2VuZXMubGVuZ3RoXV19KTtcbiAgICB0aGlzLnNldFN0YXRlKHtkYXRhIDogWy4uLnRoaXMuc3RhdGUuZGF0YSwgWydHZW5lcyB3aXRoIGtub3duIFBoZW5vdHlwZXMnLCB0aGlzLnN0YXRlLmdlbmVzV2l0aFBoZW5vdHlwZXMubGVuZ3RoLCB0aGlzLnN0YXRlLmdlbmVzV2l0aFBoZW5vdHlwZXMubGVuZ3RoXV19KTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB0b3RhbEdlbmVzID0gMDtcbiAgICBjb25zdCB0b3RhbEdlbmVzV2l0aFBoZW5vdHlwZXMgPSAwO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXsnbXktcHJldHR5LWNoYXJ0LWNvbnRhaW5lcid9PlxuICAgICAgICA8Q2hhcnRcbiAgICAgICAgICBjaGFydFR5cGU9XCJDb2x1bW5DaGFydFwiXG4gICAgICAgICAgZGF0YT17dGhpcy5zdGF0ZS5kYXRhfVxuICAgICAgICAgIG9wdGlvbnM9e3t9fVxuICAgICAgICAgIGdyYXBoX2lkPVwiQmFyQ2hhcnRcIlxuICAgICAgICAgIHdpZHRoPVwiNTAlXCJcbiAgICAgICAgICBcbiAgICAgICAgICBsZWdlbmRfdG9nZ2xlXG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59IiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IFJvdXRlciBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuaW1wb3J0IGNyZWF0ZUJyb3dzZXJIaXN0b3J5IGZyb20gJ2hpc3RvcnkvbGliL2NyZWF0ZUJyb3dzZXJIaXN0b3J5JztcclxuaW1wb3J0IHJvdXRlcyBmcm9tICcuL3JvdXRlcyc7XHJcblxyXG5sZXQgaGlzdG9yeSA9IGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCk7XHJcblxyXG5SZWFjdERPTS5yZW5kZXIoPFJvdXRlciBoaXN0b3J5PXtoaXN0b3J5fT57cm91dGVzfTwvUm91dGVyPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcCcpKTsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQge1JvdXRlfSBmcm9tICdyZWFjdC1yb3V0ZXInO1xyXG5pbXBvcnQgQXBwIGZyb20gJy4vY29tcG9uZW50cy9BcHAnO1xyXG5pbXBvcnQgSG9tZSBmcm9tICcuL2NvbXBvbmVudHMvSG9tZSc7XHJcbmltcG9ydCBQaGVub3R5cGUgZnJvbSAnLi9jb21wb25lbnRzL1BoZW5vdHlwZXMnO1xyXG5pbXBvcnQgU3RhdHMgZnJvbSAnLi9jb21wb25lbnRzL1N0YXRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChcclxuICA8Um91dGUgY29tcG9uZW50PXtBcHB9PlxyXG4gICAgPFJvdXRlIHBhdGg9Jy8nIGNvbXBvbmVudD17SG9tZX0gLz5cclxuICBcdDxSb3V0ZSBwYXRoPScvcGhlbm90eXBlcycgY29tcG9uZW50PXtQaGVub3R5cGV9IC8+XHJcbiAgXHQ8Um91dGUgcGF0aD0nL3N0YXRzJyBjb21wb25lbnQ9e1N0YXRzfSAvPlxyXG4gIDwvUm91dGU+XHJcbik7IiwiaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xyXG5pbXBvcnQgR2V0T21pbUFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucy9PbWltQWN0aW9ucyc7XHJcblxyXG5jbGFzcyBPbWltU3RvcmUge1xyXG4gIFxyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5iaW5kQWN0aW9ucyhHZXRPbWltQWN0aW9ucyk7XHJcbiAgICB0aGlzLmdlbmVzID0gW107XHJcbiAgICB0aGlzLmdlbmVzV2l0aFBoZW5vdHlwZXMgPSBbXTtcclxuICAgIHRoaXMuc25wID0gW107XHJcbiAgICB0aGlzLmRhdGEgPSBbXHJcbiAgICAgICAgXHRbJ1R5cGUnLCAnQ291bnQnLCB7cm9sZTogJ2Fubm90YXRpb24nfV1cclxuICAgICAgICBdO1xyXG4gIH1cclxuXHJcbiAgb25HZXRPbWltR2VuZVN1Y2Nlc3MoZGF0YSl7XHJcbiAgXHR0aGlzLmdlbmVzID0gZGF0YTtcclxuICB9XHJcblxyXG4gIG9uR2V0T21pbUdlbmVXaXRoUGhlbm90eXBlc1N1Y2Nlc3MoZGF0YSkge1xyXG4gIFx0dGhpcy5nZW5lc1dpdGhQaGVub3R5cGVzID0gZGF0YTtcclxuICB9XHJcblxyXG4gIG9uR2V0U25wU3VjY2VzcyhkYXRhKXtcclxuICBcdHRoaXMuc25wID0gZGF0YTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFsdC5jcmVhdGVTdG9yZShPbWltU3RvcmUpOyIsIlxuaW1wb3J0IGFsdCBmcm9tICcuLi9hbHQnO1xuaW1wb3J0IEdldFN0YXRzQWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zL1N0YXRzQWN0aW9ucyc7XG5cbmNsYXNzIFN0YXRzU3RvcmUge1xuICBcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5iaW5kQWN0aW9ucyhHZXRTdGF0c0FjdGlvbnMpO1xuICAgIHRoaXMuZ2VuZXMgPSBbXTtcbiAgICB0aGlzLmdlbmVzV2l0aFBoZW5vdHlwZXMgPSBbXTtcbiAgICBcbiAgfVxuXG4gIG9uR2V0T21pbUdlbmVTdWNjZXNzKGRhdGEpe1xuICBcdHRoaXMuZ2VuZXMgPSBkYXRhO1xuICB9XG5cbiAgb25HZXRPbWltR2VuZVdpdGhQaGVub3R5cGVzU3VjY2VzcyhkYXRhKSB7XG4gIFx0dGhpcy5nZW5lc1dpdGhQaGVub3R5cGVzID0gZGF0YTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBhbHQuY3JlYXRlU3RvcmUoU3RhdHNTdG9yZSk7XG4iLCIvKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqXG4gKiBFeHBvc2UgYGRlYnVnKClgIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kZWJ1ZycpO1xuZXhwb3J0cy5sb2cgPSBsb2c7XG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9ICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWVcbiAgICAgICAgICAgICAgICYmICd1bmRlZmluZWQnICE9IHR5cGVvZiBjaHJvbWUuc3RvcmFnZVxuICAgICAgICAgICAgICAgICAgPyBjaHJvbWUuc3RvcmFnZS5sb2NhbFxuICAgICAgICAgICAgICAgICAgOiBsb2NhbHN0b3JhZ2UoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG4gICdsaWdodHNlYWdyZWVuJyxcbiAgJ2ZvcmVzdGdyZWVuJyxcbiAgJ2dvbGRlbnJvZCcsXG4gICdkb2RnZXJibHVlJyxcbiAgJ2RhcmtvcmNoaWQnLFxuICAnY3JpbXNvbidcbl07XG5cbi8qKlxuICogQ3VycmVudGx5IG9ubHkgV2ViS2l0LWJhc2VkIFdlYiBJbnNwZWN0b3JzLCBGaXJlZm94ID49IHYzMSxcbiAqIGFuZCB0aGUgRmlyZWJ1ZyBleHRlbnNpb24gKGFueSBGaXJlZm94IHZlcnNpb24pIGFyZSBrbm93blxuICogdG8gc3VwcG9ydCBcIiVjXCIgQ1NTIGN1c3RvbWl6YXRpb25zLlxuICpcbiAqIFRPRE86IGFkZCBhIGBsb2NhbFN0b3JhZ2VgIHZhcmlhYmxlIHRvIGV4cGxpY2l0bHkgZW5hYmxlL2Rpc2FibGUgY29sb3JzXG4gKi9cblxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuICAvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG4gIC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG4gIC8vIGV4cGxpY2l0bHlcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdyAmJiB0eXBlb2Ygd2luZG93LnByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIHdlYmtpdD8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTY0NTk2MDYvMzc2NzczXG4gIC8vIGRvY3VtZW50IGlzIHVuZGVmaW5lZCBpbiByZWFjdC1uYXRpdmU6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC1uYXRpdmUvcHVsbC8xNjMyXG4gIHJldHVybiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudCAmJiAnV2Via2l0QXBwZWFyYW5jZScgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlKSB8fFxuICAgIC8vIGlzIGZpcmVidWc/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzM5ODEyMC8zNzY3NzNcbiAgICAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93ICYmIHdpbmRvdy5jb25zb2xlICYmIChjb25zb2xlLmZpcmVidWcgfHwgKGNvbnNvbGUuZXhjZXB0aW9uICYmIGNvbnNvbGUudGFibGUpKSkgfHxcbiAgICAvLyBpcyBmaXJlZm94ID49IHYzMT9cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcbiAgICAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG4gICAgLy8gZG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuICAgICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2FwcGxld2Via2l0XFwvKFxcZCspLykpO1xufVxuXG4vKipcbiAqIE1hcCAlaiB0byBgSlNPTi5zdHJpbmdpZnkoKWAsIHNpbmNlIG5vIFdlYiBJbnNwZWN0b3JzIGRvIHRoYXQgYnkgZGVmYXVsdC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uKHYpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnIubWVzc2FnZTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENvbG9yaXplIGxvZyBhcmd1bWVudHMgaWYgZW5hYmxlZC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGZvcm1hdEFyZ3MoYXJncykge1xuICB2YXIgdXNlQ29sb3JzID0gdGhpcy51c2VDb2xvcnM7XG5cbiAgYXJnc1swXSA9ICh1c2VDb2xvcnMgPyAnJWMnIDogJycpXG4gICAgKyB0aGlzLm5hbWVzcGFjZVxuICAgICsgKHVzZUNvbG9ycyA/ICcgJWMnIDogJyAnKVxuICAgICsgYXJnc1swXVxuICAgICsgKHVzZUNvbG9ycyA/ICclYyAnIDogJyAnKVxuICAgICsgJysnICsgZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpO1xuXG4gIGlmICghdXNlQ29sb3JzKSByZXR1cm47XG5cbiAgdmFyIGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuICBhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKVxuXG4gIC8vIHRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG4gIC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cbiAgLy8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG4gIHZhciBpbmRleCA9IDA7XG4gIHZhciBsYXN0QyA9IDA7XG4gIGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIGlmICgnJSUnID09PSBtYXRjaCkgcmV0dXJuO1xuICAgIGluZGV4Kys7XG4gICAgaWYgKCclYycgPT09IG1hdGNoKSB7XG4gICAgICAvLyB3ZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcbiAgICAgIC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG4gICAgICBsYXN0QyA9IGluZGV4O1xuICAgIH1cbiAgfSk7XG5cbiAgYXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUubG9nKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5sb2dgIGlzIG5vdCBhIFwiZnVuY3Rpb25cIi5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxvZygpIHtcbiAgLy8gdGhpcyBoYWNrZXJ5IGlzIHJlcXVpcmVkIGZvciBJRTgvOSwgd2hlcmVcbiAgLy8gdGhlIGBjb25zb2xlLmxvZ2AgZnVuY3Rpb24gZG9lc24ndCBoYXZlICdhcHBseSdcbiAgcmV0dXJuICdvYmplY3QnID09PSB0eXBlb2YgY29uc29sZVxuICAgICYmIGNvbnNvbGUubG9nXG4gICAgJiYgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZS5sb2csIGNvbnNvbGUsIGFyZ3VtZW50cyk7XG59XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuICB0cnkge1xuICAgIGlmIChudWxsID09IG5hbWVzcGFjZXMpIHtcbiAgICAgIGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleHBvcnRzLnN0b3JhZ2UuZGVidWcgPSBuYW1lc3BhY2VzO1xuICAgIH1cbiAgfSBjYXRjaChlKSB7fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGV4cG9ydHMuc3RvcmFnZS5kZWJ1ZztcbiAgfSBjYXRjaChlKSB7fVxuXG4gIC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcbiAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MuZW52LkRFQlVHO1xuICB9XG59XG5cbi8qKlxuICogRW5hYmxlIG5hbWVzcGFjZXMgbGlzdGVkIGluIGBsb2NhbFN0b3JhZ2UuZGVidWdgIGluaXRpYWxseS5cbiAqL1xuXG5leHBvcnRzLmVuYWJsZShsb2FkKCkpO1xuXG4vKipcbiAqIExvY2Fsc3RvcmFnZSBhdHRlbXB0cyB0byByZXR1cm4gdGhlIGxvY2Fsc3RvcmFnZS5cbiAqXG4gKiBUaGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHNhZmFyaSB0aHJvd3NcbiAqIHdoZW4gYSB1c2VyIGRpc2FibGVzIGNvb2tpZXMvbG9jYWxzdG9yYWdlXG4gKiBhbmQgeW91IGF0dGVtcHQgdG8gYWNjZXNzIGl0LlxuICpcbiAqIEByZXR1cm4ge0xvY2FsU3RvcmFnZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvY2Fsc3RvcmFnZSgpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZTtcbiAgfSBjYXRjaCAoZSkge31cbn1cbiIsIlxuLyoqXG4gKiBUaGlzIGlzIHRoZSBjb21tb24gbG9naWMgZm9yIGJvdGggdGhlIE5vZGUuanMgYW5kIHdlYiBicm93c2VyXG4gKiBpbXBsZW1lbnRhdGlvbnMgb2YgYGRlYnVnKClgLlxuICpcbiAqIEV4cG9zZSBgZGVidWcoKWAgYXMgdGhlIG1vZHVsZS5cbiAqL1xuXG5leHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVEZWJ1Zy5kZWJ1ZyA9IGNyZWF0ZURlYnVnWydkZWZhdWx0J10gPSBjcmVhdGVEZWJ1ZztcbmV4cG9ydHMuY29lcmNlID0gY29lcmNlO1xuZXhwb3J0cy5kaXNhYmxlID0gZGlzYWJsZTtcbmV4cG9ydHMuZW5hYmxlID0gZW5hYmxlO1xuZXhwb3J0cy5lbmFibGVkID0gZW5hYmxlZDtcbmV4cG9ydHMuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXG4vKipcbiAqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuICovXG5cbmV4cG9ydHMubmFtZXMgPSBbXTtcbmV4cG9ydHMuc2tpcHMgPSBbXTtcblxuLyoqXG4gKiBNYXAgb2Ygc3BlY2lhbCBcIiVuXCIgaGFuZGxpbmcgZnVuY3Rpb25zLCBmb3IgdGhlIGRlYnVnIFwiZm9ybWF0XCIgYXJndW1lbnQuXG4gKlxuICogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuICovXG5cbmV4cG9ydHMuZm9ybWF0dGVycyA9IHt9O1xuXG4vKipcbiAqIFByZXZpb3VzIGxvZyB0aW1lc3RhbXAuXG4gKi9cblxudmFyIHByZXZUaW1lO1xuXG4vKipcbiAqIFNlbGVjdCBhIGNvbG9yLlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gc2VsZWN0Q29sb3IobmFtZXNwYWNlKSB7XG4gIHZhciBoYXNoID0gMCwgaTtcblxuICBmb3IgKGkgaW4gbmFtZXNwYWNlKSB7XG4gICAgaGFzaCAgPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIG5hbWVzcGFjZS5jaGFyQ29kZUF0KGkpO1xuICAgIGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG4gIH1cblxuICByZXR1cm4gZXhwb3J0cy5jb2xvcnNbTWF0aC5hYnMoaGFzaCkgJSBleHBvcnRzLmNvbG9ycy5sZW5ndGhdO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGRlYnVnZ2VyIHdpdGggdGhlIGdpdmVuIGBuYW1lc3BhY2VgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VcbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVEZWJ1ZyhuYW1lc3BhY2UpIHtcblxuICBmdW5jdGlvbiBkZWJ1ZygpIHtcbiAgICAvLyBkaXNhYmxlZD9cbiAgICBpZiAoIWRlYnVnLmVuYWJsZWQpIHJldHVybjtcblxuICAgIHZhciBzZWxmID0gZGVidWc7XG5cbiAgICAvLyBzZXQgYGRpZmZgIHRpbWVzdGFtcFxuICAgIHZhciBjdXJyID0gK25ldyBEYXRlKCk7XG4gICAgdmFyIG1zID0gY3VyciAtIChwcmV2VGltZSB8fCBjdXJyKTtcbiAgICBzZWxmLmRpZmYgPSBtcztcbiAgICBzZWxmLnByZXYgPSBwcmV2VGltZTtcbiAgICBzZWxmLmN1cnIgPSBjdXJyO1xuICAgIHByZXZUaW1lID0gY3VycjtcblxuICAgIC8vIHR1cm4gdGhlIGBhcmd1bWVudHNgIGludG8gYSBwcm9wZXIgQXJyYXlcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgYXJnc1swXSA9IGV4cG9ydHMuY29lcmNlKGFyZ3NbMF0pO1xuXG4gICAgaWYgKCdzdHJpbmcnICE9PSB0eXBlb2YgYXJnc1swXSkge1xuICAgICAgLy8gYW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cbiAgICAgIGFyZ3MudW5zaGlmdCgnJU8nKTtcbiAgICB9XG5cbiAgICAvLyBhcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgYXJnc1swXSA9IGFyZ3NbMF0ucmVwbGFjZSgvJShbYS16QS1aJV0pL2csIGZ1bmN0aW9uKG1hdGNoLCBmb3JtYXQpIHtcbiAgICAgIC8vIGlmIHdlIGVuY291bnRlciBhbiBlc2NhcGVkICUgdGhlbiBkb24ndCBpbmNyZWFzZSB0aGUgYXJyYXkgaW5kZXhcbiAgICAgIGlmIChtYXRjaCA9PT0gJyUlJykgcmV0dXJuIG1hdGNoO1xuICAgICAgaW5kZXgrKztcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBleHBvcnRzLmZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICAgIGlmICgnZnVuY3Rpb24nID09PSB0eXBlb2YgZm9ybWF0dGVyKSB7XG4gICAgICAgIHZhciB2YWwgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgbWF0Y2ggPSBmb3JtYXR0ZXIuY2FsbChzZWxmLCB2YWwpO1xuXG4gICAgICAgIC8vIG5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleC0tO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoO1xuICAgIH0pO1xuXG4gICAgLy8gYXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcbiAgICBleHBvcnRzLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuICAgIHZhciBsb2dGbiA9IGRlYnVnLmxvZyB8fCBleHBvcnRzLmxvZyB8fCBjb25zb2xlLmxvZy5iaW5kKGNvbnNvbGUpO1xuICAgIGxvZ0ZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICB9XG5cbiAgZGVidWcubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xuICBkZWJ1Zy5lbmFibGVkID0gZXhwb3J0cy5lbmFibGVkKG5hbWVzcGFjZSk7XG4gIGRlYnVnLnVzZUNvbG9ycyA9IGV4cG9ydHMudXNlQ29sb3JzKCk7XG4gIGRlYnVnLmNvbG9yID0gc2VsZWN0Q29sb3IobmFtZXNwYWNlKTtcblxuICAvLyBlbnYtc3BlY2lmaWMgaW5pdGlhbGl6YXRpb24gbG9naWMgZm9yIGRlYnVnIGluc3RhbmNlc1xuICBpZiAoJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIGV4cG9ydHMuaW5pdCkge1xuICAgIGV4cG9ydHMuaW5pdChkZWJ1Zyk7XG4gIH1cblxuICByZXR1cm4gZGVidWc7XG59XG5cbi8qKlxuICogRW5hYmxlcyBhIGRlYnVnIG1vZGUgYnkgbmFtZXNwYWNlcy4gVGhpcyBjYW4gaW5jbHVkZSBtb2Rlc1xuICogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlbmFibGUobmFtZXNwYWNlcykge1xuICBleHBvcnRzLnNhdmUobmFtZXNwYWNlcyk7XG5cbiAgZXhwb3J0cy5uYW1lcyA9IFtdO1xuICBleHBvcnRzLnNraXBzID0gW107XG5cbiAgdmFyIHNwbGl0ID0gKG5hbWVzcGFjZXMgfHwgJycpLnNwbGl0KC9bXFxzLF0rLyk7XG4gIHZhciBsZW4gPSBzcGxpdC5sZW5ndGg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIGlmICghc3BsaXRbaV0pIGNvbnRpbnVlOyAvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuICAgIG5hbWVzcGFjZXMgPSBzcGxpdFtpXS5yZXBsYWNlKC9cXCovZywgJy4qPycpO1xuICAgIGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcbiAgICAgIGV4cG9ydHMuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc3Vic3RyKDEpICsgJyQnKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4cG9ydHMubmFtZXMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMgKyAnJCcpKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNhYmxlIGRlYnVnIG91dHB1dC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpc2FibGUoKSB7XG4gIGV4cG9ydHMuZW5hYmxlKCcnKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIG1vZGUgbmFtZSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuICB2YXIgaSwgbGVuO1xuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICBmb3IgKGkgPSAwLCBsZW4gPSBleHBvcnRzLm5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGV4cG9ydHMubmFtZXNbaV0udGVzdChuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBDb2VyY2UgYHZhbGAuXG4gKlxuICogQHBhcmFtIHtNaXhlZH0gdmFsXG4gKiBAcmV0dXJuIHtNaXhlZH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIEVycm9yKSByZXR1cm4gdmFsLnN0YWNrIHx8IHZhbC5tZXNzYWdlO1xuICByZXR1cm4gdmFsO1xufVxuIiwidmFyIHBTbGljZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZTtcbnZhciBvYmplY3RLZXlzID0gcmVxdWlyZSgnLi9saWIva2V5cy5qcycpO1xudmFyIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9saWIvaXNfYXJndW1lbnRzLmpzJyk7XG5cbnZhciBkZWVwRXF1YWwgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9O1xuICAvLyA3LjEuIEFsbCBpZGVudGljYWwgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBhcyBkZXRlcm1pbmVkIGJ5ID09PS5cbiAgaWYgKGFjdHVhbCA9PT0gZXhwZWN0ZWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcblxuICB9IGVsc2UgaWYgKGFjdHVhbCBpbnN0YW5jZW9mIERhdGUgJiYgZXhwZWN0ZWQgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgcmV0dXJuIGFjdHVhbC5nZXRUaW1lKCkgPT09IGV4cGVjdGVkLmdldFRpbWUoKTtcblxuICAvLyA3LjMuIE90aGVyIHBhaXJzIHRoYXQgZG8gbm90IGJvdGggcGFzcyB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCcsXG4gIC8vIGVxdWl2YWxlbmNlIGlzIGRldGVybWluZWQgYnkgPT0uXG4gIH0gZWxzZSBpZiAoIWFjdHVhbCB8fCAhZXhwZWN0ZWQgfHwgdHlwZW9mIGFjdHVhbCAhPSAnb2JqZWN0JyAmJiB0eXBlb2YgZXhwZWN0ZWQgIT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb3B0cy5zdHJpY3QgPyBhY3R1YWwgPT09IGV4cGVjdGVkIDogYWN0dWFsID09IGV4cGVjdGVkO1xuXG4gIC8vIDcuNC4gRm9yIGFsbCBvdGhlciBPYmplY3QgcGFpcnMsIGluY2x1ZGluZyBBcnJheSBvYmplY3RzLCBlcXVpdmFsZW5jZSBpc1xuICAvLyBkZXRlcm1pbmVkIGJ5IGhhdmluZyB0aGUgc2FtZSBudW1iZXIgb2Ygb3duZWQgcHJvcGVydGllcyAoYXMgdmVyaWZpZWRcbiAgLy8gd2l0aCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwpLCB0aGUgc2FtZSBzZXQgb2Yga2V5c1xuICAvLyAoYWx0aG91Z2ggbm90IG5lY2Vzc2FyaWx5IHRoZSBzYW1lIG9yZGVyKSwgZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5XG4gIC8vIGNvcnJlc3BvbmRpbmcga2V5LCBhbmQgYW4gaWRlbnRpY2FsICdwcm90b3R5cGUnIHByb3BlcnR5LiBOb3RlOiB0aGlzXG4gIC8vIGFjY291bnRzIGZvciBib3RoIG5hbWVkIGFuZCBpbmRleGVkIHByb3BlcnRpZXMgb24gQXJyYXlzLlxuICB9IGVsc2Uge1xuICAgIHJldHVybiBvYmpFcXVpdihhY3R1YWwsIGV4cGVjdGVkLCBvcHRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1VuZGVmaW5lZE9yTnVsbCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKHgpIHtcbiAgaWYgKCF4IHx8IHR5cGVvZiB4ICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgeC5sZW5ndGggIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIGlmICh0eXBlb2YgeC5jb3B5ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiB4LnNsaWNlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmICh4Lmxlbmd0aCA+IDAgJiYgdHlwZW9mIHhbMF0gIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBvYmpFcXVpdihhLCBiLCBvcHRzKSB7XG4gIHZhciBpLCBrZXk7XG4gIGlmIChpc1VuZGVmaW5lZE9yTnVsbChhKSB8fCBpc1VuZGVmaW5lZE9yTnVsbChiKSlcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vIGFuIGlkZW50aWNhbCAncHJvdG90eXBlJyBwcm9wZXJ0eS5cbiAgaWYgKGEucHJvdG90eXBlICE9PSBiLnByb3RvdHlwZSkgcmV0dXJuIGZhbHNlO1xuICAvL35+fkkndmUgbWFuYWdlZCB0byBicmVhayBPYmplY3Qua2V5cyB0aHJvdWdoIHNjcmV3eSBhcmd1bWVudHMgcGFzc2luZy5cbiAgLy8gICBDb252ZXJ0aW5nIHRvIGFycmF5IHNvbHZlcyB0aGUgcHJvYmxlbS5cbiAgaWYgKGlzQXJndW1lbnRzKGEpKSB7XG4gICAgaWYgKCFpc0FyZ3VtZW50cyhiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBhID0gcFNsaWNlLmNhbGwoYSk7XG4gICAgYiA9IHBTbGljZS5jYWxsKGIpO1xuICAgIHJldHVybiBkZWVwRXF1YWwoYSwgYiwgb3B0cyk7XG4gIH1cbiAgaWYgKGlzQnVmZmVyKGEpKSB7XG4gICAgaWYgKCFpc0J1ZmZlcihiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhW2ldICE9PSBiW2ldKSByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHRyeSB7XG4gICAgdmFyIGthID0gb2JqZWN0S2V5cyhhKSxcbiAgICAgICAga2IgPSBvYmplY3RLZXlzKGIpO1xuICB9IGNhdGNoIChlKSB7Ly9oYXBwZW5zIHdoZW4gb25lIGlzIGEgc3RyaW5nIGxpdGVyYWwgYW5kIHRoZSBvdGhlciBpc24ndFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvLyBoYXZpbmcgdGhlIHNhbWUgbnVtYmVyIG9mIG93bmVkIHByb3BlcnRpZXMgKGtleXMgaW5jb3Jwb3JhdGVzXG4gIC8vIGhhc093blByb3BlcnR5KVxuICBpZiAoa2EubGVuZ3RoICE9IGtiLmxlbmd0aClcbiAgICByZXR1cm4gZmFsc2U7XG4gIC8vdGhlIHNhbWUgc2V0IG9mIGtleXMgKGFsdGhvdWdoIG5vdCBuZWNlc3NhcmlseSB0aGUgc2FtZSBvcmRlciksXG4gIGthLnNvcnQoKTtcbiAga2Iuc29ydCgpO1xuICAvL35+fmNoZWFwIGtleSB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKGthW2ldICE9IGtiW2ldKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIC8vZXF1aXZhbGVudCB2YWx1ZXMgZm9yIGV2ZXJ5IGNvcnJlc3BvbmRpbmcga2V5LCBhbmRcbiAgLy9+fn5wb3NzaWJseSBleHBlbnNpdmUgZGVlcCB0ZXN0XG4gIGZvciAoaSA9IGthLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAga2V5ID0ga2FbaV07XG4gICAgaWYgKCFkZWVwRXF1YWwoYVtrZXldLCBiW2tleV0sIG9wdHMpKSByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBhID09PSB0eXBlb2YgYjtcbn1cbiIsInZhciBzdXBwb3J0c0FyZ3VtZW50c0NsYXNzID0gKGZ1bmN0aW9uKCl7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJndW1lbnRzKVxufSkoKSA9PSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gc3VwcG9ydHNBcmd1bWVudHNDbGFzcyA/IHN1cHBvcnRlZCA6IHVuc3VwcG9ydGVkO1xuXG5leHBvcnRzLnN1cHBvcnRlZCA9IHN1cHBvcnRlZDtcbmZ1bmN0aW9uIHN1cHBvcnRlZChvYmplY3QpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09ICdbb2JqZWN0IEFyZ3VtZW50c10nO1xufTtcblxuZXhwb3J0cy51bnN1cHBvcnRlZCA9IHVuc3VwcG9ydGVkO1xuZnVuY3Rpb24gdW5zdXBwb3J0ZWQob2JqZWN0KXtcbiAgcmV0dXJuIG9iamVjdCAmJlxuICAgIHR5cGVvZiBvYmplY3QgPT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2Ygb2JqZWN0Lmxlbmd0aCA9PSAnbnVtYmVyJyAmJlxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsICdjYWxsZWUnKSAmJlxuICAgICFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCAnY2FsbGVlJykgfHxcbiAgICBmYWxzZTtcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSB0eXBlb2YgT2JqZWN0LmtleXMgPT09ICdmdW5jdGlvbidcbiAgPyBPYmplY3Qua2V5cyA6IHNoaW07XG5cbmV4cG9ydHMuc2hpbSA9IHNoaW07XG5mdW5jdGlvbiBzaGltIChvYmopIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikga2V5cy5wdXNoKGtleSk7XG4gIHJldHVybiBrZXlzO1xufVxuIiwiLyoqXG4gKiBJbmRpY2F0ZXMgdGhhdCBuYXZpZ2F0aW9uIHdhcyBjYXVzZWQgYnkgYSBjYWxsIHRvIGhpc3RvcnkucHVzaC5cbiAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xudmFyIFBVU0ggPSAnUFVTSCc7XG5cbmV4cG9ydHMuUFVTSCA9IFBVU0g7XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IG5hdmlnYXRpb24gd2FzIGNhdXNlZCBieSBhIGNhbGwgdG8gaGlzdG9yeS5yZXBsYWNlLlxuICovXG52YXIgUkVQTEFDRSA9ICdSRVBMQUNFJztcblxuZXhwb3J0cy5SRVBMQUNFID0gUkVQTEFDRTtcbi8qKlxuICogSW5kaWNhdGVzIHRoYXQgbmF2aWdhdGlvbiB3YXMgY2F1c2VkIGJ5IHNvbWUgb3RoZXIgYWN0aW9uIHN1Y2hcbiAqIGFzIHVzaW5nIGEgYnJvd3NlcidzIGJhY2svZm9yd2FyZCBidXR0b25zIGFuZC9vciBtYW51YWxseSBtYW5pcHVsYXRpbmdcbiAqIHRoZSBVUkwgaW4gYSBicm93c2VyJ3MgbG9jYXRpb24gYmFyLiBUaGlzIGlzIHRoZSBkZWZhdWx0LlxuICpcbiAqIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93RXZlbnRIYW5kbGVycy9vbnBvcHN0YXRlXG4gKiBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAqL1xudmFyIFBPUCA9ICdQT1AnO1xuXG5leHBvcnRzLlBPUCA9IFBPUDtcbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IHtcbiAgUFVTSDogUFVTSCxcbiAgUkVQTEFDRTogUkVQTEFDRSxcbiAgUE9QOiBQT1Bcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmxvb3BBc3luYyA9IGxvb3BBc3luYztcblxuZnVuY3Rpb24gbG9vcEFzeW5jKHR1cm5zLCB3b3JrLCBjYWxsYmFjaykge1xuICB2YXIgY3VycmVudFR1cm4gPSAwO1xuICB2YXIgaXNEb25lID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBpc0RvbmUgPSB0cnVlO1xuICAgIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIGlmIChpc0RvbmUpIHJldHVybjtcblxuICAgIGlmIChjdXJyZW50VHVybiA8IHR1cm5zKSB7XG4gICAgICB3b3JrLmNhbGwodGhpcywgY3VycmVudFR1cm4rKywgbmV4dCwgZG9uZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBuZXh0KCk7XG59IiwiLyplc2xpbnQtZGlzYWJsZSBuby1lbXB0eSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5zYXZlU3RhdGUgPSBzYXZlU3RhdGU7XG5leHBvcnRzLnJlYWRTdGF0ZSA9IHJlYWRTdGF0ZTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgJ2RlZmF1bHQnOiBvYmogfTsgfVxuXG52YXIgX3dhcm5pbmcgPSByZXF1aXJlKCd3YXJuaW5nJyk7XG5cbnZhciBfd2FybmluZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF93YXJuaW5nKTtcblxudmFyIEtleVByZWZpeCA9ICdAQEhpc3RvcnkvJztcbnZhciBRdW90YUV4Y2VlZGVkRXJyb3IgPSAnUXVvdGFFeGNlZWRlZEVycm9yJztcbnZhciBTZWN1cml0eUVycm9yID0gJ1NlY3VyaXR5RXJyb3InO1xuXG5mdW5jdGlvbiBjcmVhdGVLZXkoa2V5KSB7XG4gIHJldHVybiBLZXlQcmVmaXggKyBrZXk7XG59XG5cbmZ1bmN0aW9uIHNhdmVTdGF0ZShrZXksIHN0YXRlKSB7XG4gIHRyeSB7XG4gICAgd2luZG93LnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oY3JlYXRlS2V5KGtleSksIEpTT04uc3RyaW5naWZ5KHN0YXRlKSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFNlY3VyaXR5RXJyb3IpIHtcbiAgICAgIC8vIEJsb2NraW5nIGNvb2tpZXMgaW4gQ2hyb21lL0ZpcmVmb3gvU2FmYXJpIHRocm93cyBTZWN1cml0eUVycm9yIG9uIGFueVxuICAgICAgLy8gYXR0ZW1wdCB0byBhY2Nlc3Mgd2luZG93LnNlc3Npb25TdG9yYWdlLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGR1ZSB0byBzZWN1cml0eSBzZXR0aW5ncycpIDogdW5kZWZpbmVkO1xuXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGVycm9yLm5hbWUgPT09IFF1b3RhRXhjZWVkZWRFcnJvciAmJiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBTYWZhcmkgXCJwcml2YXRlIG1vZGVcIiB0aHJvd3MgUXVvdGFFeGNlZWRlZEVycm9yLlxuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF93YXJuaW5nMlsnZGVmYXVsdCddKGZhbHNlLCAnW2hpc3RvcnldIFVuYWJsZSB0byBzYXZlIHN0YXRlOyBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIGluIFNhZmFyaSBwcml2YXRlIG1vZGUnKSA6IHVuZGVmaW5lZDtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlYWRTdGF0ZShrZXkpIHtcbiAgdmFyIGpzb24gPSB1bmRlZmluZWQ7XG4gIHRyeSB7XG4gICAganNvbiA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKGNyZWF0ZUtleShrZXkpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IubmFtZSA9PT0gU2VjdXJpdHlFcnJvcikge1xuICAgICAgLy8gQmxvY2tpbmcgY29va2llcyBpbiBDaHJvbWUvRmlyZWZveC9TYWZhcmkgdGhyb3dzIFNlY3VyaXR5RXJyb3Igb24gYW55XG4gICAgICAvLyBhdHRlbXB0IHRvIGFjY2VzcyB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuXG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10oZmFsc2UsICdbaGlzdG9yeV0gVW5hYmxlIHRvIHJlYWQgc3RhdGU7IHNlc3Npb25TdG9yYWdlIGlzIG5vdCBhdmFpbGFibGUgZHVlIHRvIHNlY3VyaXR5IHNldHRpbmdzJykgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmIChqc29uKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZ25vcmUgaW52YWxpZCBKU09OLlxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuYWRkRXZlbnRMaXN0ZW5lciA9IGFkZEV2ZW50TGlzdGVuZXI7XG5leHBvcnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSByZW1vdmVFdmVudExpc3RlbmVyO1xuZXhwb3J0cy5nZXRIYXNoUGF0aCA9IGdldEhhc2hQYXRoO1xuZXhwb3J0cy5yZXBsYWNlSGFzaFBhdGggPSByZXBsYWNlSGFzaFBhdGg7XG5leHBvcnRzLmdldFdpbmRvd1BhdGggPSBnZXRXaW5kb3dQYXRoO1xuZXhwb3J0cy5nbyA9IGdvO1xuZXhwb3J0cy5nZXRVc2VyQ29uZmlybWF0aW9uID0gZ2V0VXNlckNvbmZpcm1hdGlvbjtcbmV4cG9ydHMuc3VwcG9ydHNIaXN0b3J5ID0gc3VwcG9ydHNIaXN0b3J5O1xuZXhwb3J0cy5zdXBwb3J0c0dvV2l0aG91dFJlbG9hZFVzaW5nSGFzaCA9IHN1cHBvcnRzR29XaXRob3V0UmVsb2FkVXNpbmdIYXNoO1xuXG5mdW5jdGlvbiBhZGRFdmVudExpc3RlbmVyKG5vZGUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICBpZiAobm9kZS5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lciwgZmFsc2UpO1xuICB9IGVsc2Uge1xuICAgIG5vZGUuYXR0YWNoRXZlbnQoJ29uJyArIGV2ZW50LCBsaXN0ZW5lcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcihub2RlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgaWYgKG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgbGlzdGVuZXIsIGZhbHNlKTtcbiAgfSBlbHNlIHtcbiAgICBub2RlLmRldGFjaEV2ZW50KCdvbicgKyBldmVudCwgbGlzdGVuZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldEhhc2hQYXRoKCkge1xuICAvLyBXZSBjYW4ndCB1c2Ugd2luZG93LmxvY2F0aW9uLmhhc2ggaGVyZSBiZWNhdXNlIGl0J3Mgbm90XG4gIC8vIGNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzIC0gRmlyZWZveCB3aWxsIHByZS1kZWNvZGUgaXQhXG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnIycpWzFdIHx8ICcnO1xufVxuXG5mdW5jdGlvbiByZXBsYWNlSGFzaFBhdGgocGF0aCkge1xuICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgJyMnICsgcGF0aCk7XG59XG5cbmZ1bmN0aW9uIGdldFdpbmRvd1BhdGgoKSB7XG4gIHJldHVybiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgd2luZG93LmxvY2F0aW9uLmhhc2g7XG59XG5cbmZ1bmN0aW9uIGdvKG4pIHtcbiAgaWYgKG4pIHdpbmRvdy5oaXN0b3J5LmdvKG4pO1xufVxuXG5mdW5jdGlvbiBnZXRVc2VyQ29uZmlybWF0aW9uKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gIGNhbGxiYWNrKHdpbmRvdy5jb25maXJtKG1lc3NhZ2UpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIEhUTUw1IGhpc3RvcnkgQVBJIGlzIHN1cHBvcnRlZC4gVGFrZW4gZnJvbSBNb2Rlcm5penIuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvTElDRU5TRVxuICogaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvYmxvYi9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzL2hpc3RvcnkuanNcbiAqIGNoYW5nZWQgdG8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzIGZvciBXaW5kb3dzIFBob25lczogaHR0cHM6Ly9naXRodWIuY29tL3JhY2t0L3JlYWN0LXJvdXRlci9pc3N1ZXMvNTg2XG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNIaXN0b3J5KCkge1xuICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICBpZiAoKHVhLmluZGV4T2YoJ0FuZHJvaWQgMi4nKSAhPT0gLTEgfHwgdWEuaW5kZXhPZignQW5kcm9pZCA0LjAnKSAhPT0gLTEpICYmIHVhLmluZGV4T2YoJ01vYmlsZSBTYWZhcmknKSAhPT0gLTEgJiYgdWEuaW5kZXhPZignQ2hyb21lJykgPT09IC0xICYmIHVhLmluZGV4T2YoJ1dpbmRvd3MgUGhvbmUnKSA9PT0gLTEpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gRklYTUU6IFdvcmsgYXJvdW5kIG91ciBicm93c2VyIGhpc3Rvcnkgbm90IHdvcmtpbmcgY29ycmVjdGx5IG9uIENocm9tZVxuICAvLyBpT1M6IGh0dHBzOi8vZ2l0aHViLmNvbS9yYWNrdC9yZWFjdC1yb3V0ZXIvaXNzdWVzLzI1NjVcbiAgaWYgKHVhLmluZGV4T2YoJ0NyaU9TJykgIT09IC0xKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB3aW5kb3cuaGlzdG9yeSAmJiAncHVzaFN0YXRlJyBpbiB3aW5kb3cuaGlzdG9yeTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGZhbHNlIGlmIHVzaW5nIGdvKG4pIHdpdGggaGFzaCBoaXN0b3J5IGNhdXNlcyBhIGZ1bGwgcGFnZSByZWxvYWQuXG4gKi9cblxuZnVuY3Rpb24gc3VwcG9ydHNHb1dpdGhvdXRSZWxvYWRVc2luZ0hhc2goKSB7XG4gIHZhciB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHJldHVybiB1YS5pbmRleE9mKCdGaXJlZm94JykgPT09IC0xO1xufSIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbnZhciBjYW5Vc2VET00gPSAhISh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQpO1xuZXhwb3J0cy5jYW5Vc2VET00gPSBjYW5Vc2VET007IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnaW52YXJpYW50Jyk7XG5cbnZhciBfaW52YXJpYW50MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2ludmFyaWFudCk7XG5cbnZhciBfQWN0aW9ucyA9IHJlcXVpcmUoJy4vQWN0aW9ucycpO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZSgnLi9FeGVjdXRpb25FbnZpcm9ubWVudCcpO1xuXG52YXIgX0RPTVV0aWxzID0gcmVxdWlyZSgnLi9ET01VdGlscycpO1xuXG52YXIgX0RPTVN0YXRlU3RvcmFnZSA9IHJlcXVpcmUoJy4vRE9NU3RhdGVTdG9yYWdlJyk7XG5cbnZhciBfY3JlYXRlRE9NSGlzdG9yeSA9IHJlcXVpcmUoJy4vY3JlYXRlRE9NSGlzdG9yeScpO1xuXG52YXIgX2NyZWF0ZURPTUhpc3RvcnkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfY3JlYXRlRE9NSGlzdG9yeSk7XG5cbnZhciBfcGFyc2VQYXRoID0gcmVxdWlyZSgnLi9wYXJzZVBhdGgnKTtcblxudmFyIF9wYXJzZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VQYXRoKTtcblxuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgaGlzdG9yeSBvYmplY3QgdGhhdCB1c2VzIEhUTUw1J3MgaGlzdG9yeSBBUElcbiAqIChwdXNoU3RhdGUsIHJlcGxhY2VTdGF0ZSwgYW5kIHRoZSBwb3BzdGF0ZSBldmVudCkgdG8gbWFuYWdlIGhpc3RvcnkuXG4gKiBUaGlzIGlzIHRoZSByZWNvbW1lbmRlZCBtZXRob2Qgb2YgbWFuYWdpbmcgaGlzdG9yeSBpbiBicm93c2VycyBiZWNhdXNlXG4gKiBpdCBwcm92aWRlcyB0aGUgY2xlYW5lc3QgVVJMcy5cbiAqXG4gKiBOb3RlOiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBIVE1MNSBoaXN0b3J5IEFQSSBmdWxsXG4gKiBwYWdlIHJlbG9hZHMgd2lsbCBiZSB1c2VkIHRvIHByZXNlcnZlIFVSTHMuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJyb3dzZXJIaXN0b3J5KCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHt9IDogYXJndW1lbnRzWzBdO1xuXG4gICFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NID8gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyA/IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UsICdCcm93c2VyIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBmb3JjZVJlZnJlc2ggPSBvcHRpb25zLmZvcmNlUmVmcmVzaDtcblxuICB2YXIgaXNTdXBwb3J0ZWQgPSBfRE9NVXRpbHMuc3VwcG9ydHNIaXN0b3J5KCk7XG4gIHZhciB1c2VSZWZyZXNoID0gIWlzU3VwcG9ydGVkIHx8IGZvcmNlUmVmcmVzaDtcblxuICBmdW5jdGlvbiBnZXRDdXJyZW50TG9jYXRpb24oaGlzdG9yeVN0YXRlKSB7XG4gICAgaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlIHx8IHdpbmRvdy5oaXN0b3J5LnN0YXRlIHx8IHt9O1xuXG4gICAgdmFyIHBhdGggPSBfRE9NVXRpbHMuZ2V0V2luZG93UGF0aCgpO1xuICAgIHZhciBfaGlzdG9yeVN0YXRlID0gaGlzdG9yeVN0YXRlO1xuICAgIHZhciBrZXkgPSBfaGlzdG9yeVN0YXRlLmtleTtcblxuICAgIHZhciBzdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAoa2V5KSB7XG4gICAgICBzdGF0ZSA9IF9ET01TdGF0ZVN0b3JhZ2UucmVhZFN0YXRlKGtleSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlID0gbnVsbDtcbiAgICAgIGtleSA9IGhpc3RvcnkuY3JlYXRlS2V5KCk7XG5cbiAgICAgIGlmIChpc1N1cHBvcnRlZCkgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlKF9leHRlbmRzKHt9LCBoaXN0b3J5U3RhdGUsIHsga2V5OiBrZXkgfSksIG51bGwsIHBhdGgpO1xuICAgIH1cblxuICAgIHZhciBsb2NhdGlvbiA9IF9wYXJzZVBhdGgyWydkZWZhdWx0J10ocGF0aCk7XG5cbiAgICByZXR1cm4gaGlzdG9yeS5jcmVhdGVMb2NhdGlvbihfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IHN0YXRlIH0pLCB1bmRlZmluZWQsIGtleSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydFBvcFN0YXRlTGlzdGVuZXIoX3JlZikge1xuICAgIHZhciB0cmFuc2l0aW9uVG8gPSBfcmVmLnRyYW5zaXRpb25UbztcblxuICAgIGZ1bmN0aW9uIHBvcFN0YXRlTGlzdGVuZXIoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC5zdGF0ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm47IC8vIElnbm9yZSBleHRyYW5lb3VzIHBvcHN0YXRlIGV2ZW50cyBpbiBXZWJLaXQuXG5cbiAgICAgIHRyYW5zaXRpb25UbyhnZXRDdXJyZW50TG9jYXRpb24oZXZlbnQuc3RhdGUpKTtcbiAgICB9XG5cbiAgICBfRE9NVXRpbHMuYWRkRXZlbnRMaXN0ZW5lcih3aW5kb3csICdwb3BzdGF0ZScsIHBvcFN0YXRlTGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIF9ET01VdGlscy5yZW1vdmVFdmVudExpc3RlbmVyKHdpbmRvdywgJ3BvcHN0YXRlJywgcG9wU3RhdGVMaXN0ZW5lcik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaFRyYW5zaXRpb24obG9jYXRpb24pIHtcbiAgICB2YXIgYmFzZW5hbWUgPSBsb2NhdGlvbi5iYXNlbmFtZTtcbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcbiAgICB2YXIgc3RhdGUgPSBsb2NhdGlvbi5zdGF0ZTtcbiAgICB2YXIgYWN0aW9uID0gbG9jYXRpb24uYWN0aW9uO1xuICAgIHZhciBrZXkgPSBsb2NhdGlvbi5rZXk7XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHJldHVybjsgLy8gTm90aGluZyB0byBkby5cblxuICAgIF9ET01TdGF0ZVN0b3JhZ2Uuc2F2ZVN0YXRlKGtleSwgc3RhdGUpO1xuXG4gICAgdmFyIHBhdGggPSAoYmFzZW5hbWUgfHwgJycpICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoO1xuICAgIHZhciBoaXN0b3J5U3RhdGUgPSB7XG4gICAgICBrZXk6IGtleVxuICAgIH07XG5cbiAgICBpZiAoYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBpZiAodXNlUmVmcmVzaCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHBhdGg7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gUHJldmVudCBsb2NhdGlvbiB1cGRhdGUuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZShoaXN0b3J5U3RhdGUsIG51bGwsIHBhdGgpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJFUExBQ0VcbiAgICAgIGlmICh1c2VSZWZyZXNoKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHBhdGgpO1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIFByZXZlbnQgbG9jYXRpb24gdXBkYXRlLlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUoaGlzdG9yeVN0YXRlLCBudWxsLCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZURPTUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe30sIG9wdGlvbnMsIHtcbiAgICBnZXRDdXJyZW50TG9jYXRpb246IGdldEN1cnJlbnRMb2NhdGlvbixcbiAgICBmaW5pc2hUcmFuc2l0aW9uOiBmaW5pc2hUcmFuc2l0aW9uLFxuICAgIHNhdmVTdGF0ZTogX0RPTVN0YXRlU3RvcmFnZS5zYXZlU3RhdGVcbiAgfSkpO1xuXG4gIHZhciBsaXN0ZW5lckNvdW50ID0gMCxcbiAgICAgIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGxpc3RlbkJlZm9yZShsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW5CZWZvcmUobGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbihsaXN0ZW5lcikge1xuICAgIGlmICgrK2xpc3RlbmVyQ291bnQgPT09IDEpIHN0b3BQb3BTdGF0ZUxpc3RlbmVyID0gc3RhcnRQb3BTdGF0ZUxpc3RlbmVyKGhpc3RvcnkpO1xuXG4gICAgdmFyIHVubGlzdGVuID0gaGlzdG9yeS5saXN0ZW4obGlzdGVuZXIpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIHVubGlzdGVuKCk7XG5cbiAgICAgIGlmICgtLWxpc3RlbmVyQ291bnQgPT09IDApIHN0b3BQb3BTdGF0ZUxpc3RlbmVyKCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaWYgKCsrbGlzdGVuZXJDb3VudCA9PT0gMSkgc3RvcFBvcFN0YXRlTGlzdGVuZXIgPSBzdGFydFBvcFN0YXRlTGlzdGVuZXIoaGlzdG9yeSk7XG5cbiAgICBoaXN0b3J5LnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9vayhob29rKSB7XG4gICAgaGlzdG9yeS51bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vayk7XG5cbiAgICBpZiAoLS1saXN0ZW5lckNvdW50ID09PSAwKSBzdG9wUG9wU3RhdGVMaXN0ZW5lcigpO1xuICB9XG5cbiAgcmV0dXJuIF9leHRlbmRzKHt9LCBoaXN0b3J5LCB7XG4gICAgbGlzdGVuQmVmb3JlOiBsaXN0ZW5CZWZvcmUsXG4gICAgbGlzdGVuOiBsaXN0ZW4sXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogcmVnaXN0ZXJUcmFuc2l0aW9uSG9vayxcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IHVucmVnaXN0ZXJUcmFuc2l0aW9uSG9va1xuICB9KTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlQnJvd3Nlckhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9pbnZhcmlhbnQgPSByZXF1aXJlKCdpbnZhcmlhbnQnKTtcblxudmFyIF9pbnZhcmlhbnQyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaW52YXJpYW50KTtcblxudmFyIF9FeGVjdXRpb25FbnZpcm9ubWVudCA9IHJlcXVpcmUoJy4vRXhlY3V0aW9uRW52aXJvbm1lbnQnKTtcblxudmFyIF9ET01VdGlscyA9IHJlcXVpcmUoJy4vRE9NVXRpbHMnKTtcblxudmFyIF9jcmVhdGVIaXN0b3J5ID0gcmVxdWlyZSgnLi9jcmVhdGVIaXN0b3J5Jyk7XG5cbnZhciBfY3JlYXRlSGlzdG9yeTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9jcmVhdGVIaXN0b3J5KTtcblxuZnVuY3Rpb24gY3JlYXRlRE9NSGlzdG9yeShvcHRpb25zKSB7XG4gIHZhciBoaXN0b3J5ID0gX2NyZWF0ZUhpc3RvcnkyWydkZWZhdWx0J10oX2V4dGVuZHMoe1xuICAgIGdldFVzZXJDb25maXJtYXRpb246IF9ET01VdGlscy5nZXRVc2VyQ29uZmlybWF0aW9uXG4gIH0sIG9wdGlvbnMsIHtcbiAgICBnbzogX0RPTVV0aWxzLmdvXG4gIH0pKTtcblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICAhX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfaW52YXJpYW50MlsnZGVmYXVsdCddKGZhbHNlLCAnRE9NIGhpc3RvcnkgbmVlZHMgYSBET00nKSA6IF9pbnZhcmlhbnQyWydkZWZhdWx0J10oZmFsc2UpIDogdW5kZWZpbmVkO1xuXG4gICAgcmV0dXJuIGhpc3RvcnkubGlzdGVuKGxpc3RlbmVyKTtcbiAgfVxuXG4gIHJldHVybiBfZXh0ZW5kcyh7fSwgaGlzdG9yeSwge1xuICAgIGxpc3RlbjogbGlzdGVuXG4gIH0pO1xufVxuXG5leHBvcnRzWydkZWZhdWx0J10gPSBjcmVhdGVET01IaXN0b3J5O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLy9pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJ1xuJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfZGVlcEVxdWFsID0gcmVxdWlyZSgnZGVlcC1lcXVhbCcpO1xuXG52YXIgX2RlZXBFcXVhbDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWVwRXF1YWwpO1xuXG52YXIgX0FzeW5jVXRpbHMgPSByZXF1aXJlKCcuL0FzeW5jVXRpbHMnKTtcblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfY3JlYXRlTG9jYXRpb24yID0gcmVxdWlyZSgnLi9jcmVhdGVMb2NhdGlvbicpO1xuXG52YXIgX2NyZWF0ZUxvY2F0aW9uMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2NyZWF0ZUxvY2F0aW9uMik7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2sgPSByZXF1aXJlKCcuL3J1blRyYW5zaXRpb25Ib29rJyk7XG5cbnZhciBfcnVuVHJhbnNpdGlvbkhvb2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcnVuVHJhbnNpdGlvbkhvb2spO1xuXG52YXIgX3BhcnNlUGF0aCA9IHJlcXVpcmUoJy4vcGFyc2VQYXRoJyk7XG5cbnZhciBfcGFyc2VQYXRoMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3BhcnNlUGF0aCk7XG5cbnZhciBfZGVwcmVjYXRlID0gcmVxdWlyZSgnLi9kZXByZWNhdGUnKTtcblxudmFyIF9kZXByZWNhdGUyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVwcmVjYXRlKTtcblxuZnVuY3Rpb24gY3JlYXRlUmFuZG9tS2V5KGxlbmd0aCkge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIGxlbmd0aCk7XG59XG5cbmZ1bmN0aW9uIGxvY2F0aW9uc0FyZUVxdWFsKGEsIGIpIHtcbiAgcmV0dXJuIGEucGF0aG5hbWUgPT09IGIucGF0aG5hbWUgJiYgYS5zZWFyY2ggPT09IGIuc2VhcmNoICYmXG4gIC8vYS5hY3Rpb24gPT09IGIuYWN0aW9uICYmIC8vIERpZmZlcmVudCBhY3Rpb24gIT09IGxvY2F0aW9uIGNoYW5nZS5cbiAgYS5rZXkgPT09IGIua2V5ICYmIF9kZWVwRXF1YWwyWydkZWZhdWx0J10oYS5zdGF0ZSwgYi5zdGF0ZSk7XG59XG5cbnZhciBEZWZhdWx0S2V5TGVuZ3RoID0gNjtcblxuZnVuY3Rpb24gY3JlYXRlSGlzdG9yeSgpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDAgfHwgYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQgPyB7fSA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGdldEN1cnJlbnRMb2NhdGlvbiA9IG9wdGlvbnMuZ2V0Q3VycmVudExvY2F0aW9uO1xuICB2YXIgZmluaXNoVHJhbnNpdGlvbiA9IG9wdGlvbnMuZmluaXNoVHJhbnNpdGlvbjtcbiAgdmFyIHNhdmVTdGF0ZSA9IG9wdGlvbnMuc2F2ZVN0YXRlO1xuICB2YXIgZ28gPSBvcHRpb25zLmdvO1xuICB2YXIga2V5TGVuZ3RoID0gb3B0aW9ucy5rZXlMZW5ndGg7XG4gIHZhciBnZXRVc2VyQ29uZmlybWF0aW9uID0gb3B0aW9ucy5nZXRVc2VyQ29uZmlybWF0aW9uO1xuXG4gIGlmICh0eXBlb2Yga2V5TGVuZ3RoICE9PSAnbnVtYmVyJykga2V5TGVuZ3RoID0gRGVmYXVsdEtleUxlbmd0aDtcblxuICB2YXIgdHJhbnNpdGlvbkhvb2tzID0gW107XG5cbiAgZnVuY3Rpb24gbGlzdGVuQmVmb3JlKGhvb2spIHtcbiAgICB0cmFuc2l0aW9uSG9va3MucHVzaChob29rKTtcblxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB0cmFuc2l0aW9uSG9va3MgPSB0cmFuc2l0aW9uSG9va3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIHZhciBhbGxLZXlzID0gW107XG4gIHZhciBjaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgdmFyIGxvY2F0aW9uID0gdW5kZWZpbmVkO1xuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnQoKSB7XG4gICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAmJiBwZW5kaW5nTG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QT1ApIHtcbiAgICAgIHJldHVybiBhbGxLZXlzLmluZGV4T2YocGVuZGluZ0xvY2F0aW9uLmtleSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbikge1xuICAgICAgcmV0dXJuIGFsbEtleXMuaW5kZXhPZihsb2NhdGlvbi5rZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTG9jYXRpb24obmV3TG9jYXRpb24pIHtcbiAgICB2YXIgY3VycmVudCA9IGdldEN1cnJlbnQoKTtcblxuICAgIGxvY2F0aW9uID0gbmV3TG9jYXRpb247XG5cbiAgICBpZiAobG9jYXRpb24uYWN0aW9uID09PSBfQWN0aW9ucy5QVVNIKSB7XG4gICAgICBhbGxLZXlzID0gW10uY29uY2F0KGFsbEtleXMuc2xpY2UoMCwgY3VycmVudCArIDEpLCBbbG9jYXRpb24ua2V5XSk7XG4gICAgfSBlbHNlIGlmIChsb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlJFUExBQ0UpIHtcbiAgICAgIGFsbEtleXNbY3VycmVudF0gPSBsb2NhdGlvbi5rZXk7XG4gICAgfVxuXG4gICAgY2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICBsaXN0ZW5lcihsb2NhdGlvbik7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4obGlzdGVuZXIpIHtcbiAgICBjaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIGxpc3RlbmVyKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIF9sb2NhdGlvbiA9IGdldEN1cnJlbnRMb2NhdGlvbigpO1xuICAgICAgYWxsS2V5cyA9IFtfbG9jYXRpb24ua2V5XTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKF9sb2NhdGlvbik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNoYW5nZUxpc3RlbmVycyA9IGNoYW5nZUxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGl0ZW0gIT09IGxpc3RlbmVyO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbmZpcm1UcmFuc2l0aW9uVG8obG9jYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgX0FzeW5jVXRpbHMubG9vcEFzeW5jKHRyYW5zaXRpb25Ib29rcy5sZW5ndGgsIGZ1bmN0aW9uIChpbmRleCwgbmV4dCwgZG9uZSkge1xuICAgICAgX3J1blRyYW5zaXRpb25Ib29rMlsnZGVmYXVsdCddKHRyYW5zaXRpb25Ib29rc1tpbmRleF0sIGxvY2F0aW9uLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgIGRvbmUocmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuZXh0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICBpZiAoZ2V0VXNlckNvbmZpcm1hdGlvbiAmJiB0eXBlb2YgbWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZ2V0VXNlckNvbmZpcm1hdGlvbihtZXNzYWdlLCBmdW5jdGlvbiAob2spIHtcbiAgICAgICAgICBjYWxsYmFjayhvayAhPT0gZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UgIT09IGZhbHNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBwZW5kaW5nTG9jYXRpb24gPSB1bmRlZmluZWQ7XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvblRvKG5leHRMb2NhdGlvbikge1xuICAgIGlmIChsb2NhdGlvbiAmJiBsb2NhdGlvbnNBcmVFcXVhbChsb2NhdGlvbiwgbmV4dExvY2F0aW9uKSkgcmV0dXJuOyAvLyBOb3RoaW5nIHRvIGRvLlxuXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbmV4dExvY2F0aW9uO1xuXG4gICAgY29uZmlybVRyYW5zaXRpb25UbyhuZXh0TG9jYXRpb24sIGZ1bmN0aW9uIChvaykge1xuICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbiAhPT0gbmV4dExvY2F0aW9uKSByZXR1cm47IC8vIFRyYW5zaXRpb24gd2FzIGludGVycnVwdGVkLlxuXG4gICAgICBpZiAob2spIHtcbiAgICAgICAgLy8gdHJlYXQgUFVTSCB0byBjdXJyZW50IHBhdGggbGlrZSBSRVBMQUNFIHRvIGJlIGNvbnNpc3RlbnQgd2l0aCBicm93c2Vyc1xuICAgICAgICBpZiAobmV4dExvY2F0aW9uLmFjdGlvbiA9PT0gX0FjdGlvbnMuUFVTSCkge1xuICAgICAgICAgIHZhciBwcmV2UGF0aCA9IGNyZWF0ZVBhdGgobG9jYXRpb24pO1xuICAgICAgICAgIHZhciBuZXh0UGF0aCA9IGNyZWF0ZVBhdGgobmV4dExvY2F0aW9uKTtcblxuICAgICAgICAgIGlmIChuZXh0UGF0aCA9PT0gcHJldlBhdGgpIG5leHRMb2NhdGlvbi5hY3Rpb24gPSBfQWN0aW9ucy5SRVBMQUNFO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbmlzaFRyYW5zaXRpb24obmV4dExvY2F0aW9uKSAhPT0gZmFsc2UpIHVwZGF0ZUxvY2F0aW9uKG5leHRMb2NhdGlvbik7XG4gICAgICB9IGVsc2UgaWYgKGxvY2F0aW9uICYmIG5leHRMb2NhdGlvbi5hY3Rpb24gPT09IF9BY3Rpb25zLlBPUCkge1xuICAgICAgICB2YXIgcHJldkluZGV4ID0gYWxsS2V5cy5pbmRleE9mKGxvY2F0aW9uLmtleSk7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSBhbGxLZXlzLmluZGV4T2YobmV4dExvY2F0aW9uLmtleSk7XG5cbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEgJiYgbmV4dEluZGV4ICE9PSAtMSkgZ28ocHJldkluZGV4IC0gbmV4dEluZGV4KTsgLy8gUmVzdG9yZSB0aGUgVVJMLlxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHVzaChsb2NhdGlvbikge1xuICAgIHRyYW5zaXRpb25UbyhjcmVhdGVMb2NhdGlvbihsb2NhdGlvbiwgX0FjdGlvbnMuUFVTSCwgY3JlYXRlS2V5KCkpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlcGxhY2UobG9jYXRpb24pIHtcbiAgICB0cmFuc2l0aW9uVG8oY3JlYXRlTG9jYXRpb24obG9jYXRpb24sIF9BY3Rpb25zLlJFUExBQ0UsIGNyZWF0ZUtleSgpKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnb0JhY2soKSB7XG4gICAgZ28oLTEpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ29Gb3J3YXJkKCkge1xuICAgIGdvKDEpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlS2V5KCkge1xuICAgIHJldHVybiBjcmVhdGVSYW5kb21LZXkoa2V5TGVuZ3RoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVBhdGgobG9jYXRpb24pIHtcbiAgICBpZiAobG9jYXRpb24gPT0gbnVsbCB8fCB0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSByZXR1cm4gbG9jYXRpb247XG5cbiAgICB2YXIgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZTtcbiAgICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoO1xuICAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDtcblxuICAgIHZhciByZXN1bHQgPSBwYXRobmFtZTtcblxuICAgIGlmIChzZWFyY2gpIHJlc3VsdCArPSBzZWFyY2g7XG5cbiAgICBpZiAoaGFzaCkgcmVzdWx0ICs9IGhhc2g7XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlSHJlZihsb2NhdGlvbikge1xuICAgIHJldHVybiBjcmVhdGVQYXRoKGxvY2F0aW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2F0aW9uKGxvY2F0aW9uLCBhY3Rpb24pIHtcbiAgICB2YXIga2V5ID0gYXJndW1lbnRzLmxlbmd0aCA8PSAyIHx8IGFyZ3VtZW50c1syXSA9PT0gdW5kZWZpbmVkID8gY3JlYXRlS2V5KCkgOiBhcmd1bWVudHNbMl07XG5cbiAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vd2FybmluZyhcbiAgICAgIC8vICBmYWxzZSxcbiAgICAgIC8vICAnVGhlIHN0YXRlICgybmQpIGFyZ3VtZW50IHRvIGhpc3RvcnkuY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArXG4gICAgICAvLyAgJ2xvY2F0aW9uIGRlc2NyaXB0b3IgaW5zdGVhZCdcbiAgICAgIC8vKVxuXG4gICAgICBpZiAodHlwZW9mIGxvY2F0aW9uID09PSAnc3RyaW5nJykgbG9jYXRpb24gPSBfcGFyc2VQYXRoMlsnZGVmYXVsdCddKGxvY2F0aW9uKTtcblxuICAgICAgbG9jYXRpb24gPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24sIHsgc3RhdGU6IGFjdGlvbiB9KTtcblxuICAgICAgYWN0aW9uID0ga2V5O1xuICAgICAga2V5ID0gYXJndW1lbnRzWzNdIHx8IGNyZWF0ZUtleSgpO1xuICAgIH1cblxuICAgIHJldHVybiBfY3JlYXRlTG9jYXRpb24zWydkZWZhdWx0J10obG9jYXRpb24sIGFjdGlvbiwga2V5KTtcbiAgfVxuXG4gIC8vIGRlcHJlY2F0ZWRcbiAgZnVuY3Rpb24gc2V0U3RhdGUoc3RhdGUpIHtcbiAgICBpZiAobG9jYXRpb24pIHtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKTtcbiAgICAgIHVwZGF0ZUxvY2F0aW9uKGxvY2F0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlTG9jYXRpb25TdGF0ZShnZXRDdXJyZW50TG9jYXRpb24oKSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxvY2F0aW9uU3RhdGUobG9jYXRpb24sIHN0YXRlKSB7XG4gICAgbG9jYXRpb24uc3RhdGUgPSBfZXh0ZW5kcyh7fSwgbG9jYXRpb24uc3RhdGUsIHN0YXRlKTtcbiAgICBzYXZlU3RhdGUobG9jYXRpb24ua2V5LCBsb2NhdGlvbi5zdGF0ZSk7XG4gIH1cblxuICAvLyBkZXByZWNhdGVkXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIGlmICh0cmFuc2l0aW9uSG9va3MuaW5kZXhPZihob29rKSA9PT0gLTEpIHRyYW5zaXRpb25Ib29rcy5wdXNoKGhvb2spO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2soaG9vaykge1xuICAgIHRyYW5zaXRpb25Ib29rcyA9IHRyYW5zaXRpb25Ib29rcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtICE9PSBob29rO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcblxuICAgIHB1c2goX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgLy8gZGVwcmVjYXRlZFxuICBmdW5jdGlvbiByZXBsYWNlU3RhdGUoc3RhdGUsIHBhdGgpIHtcbiAgICBpZiAodHlwZW9mIHBhdGggPT09ICdzdHJpbmcnKSBwYXRoID0gX3BhcnNlUGF0aDJbJ2RlZmF1bHQnXShwYXRoKTtcblxuICAgIHJlcGxhY2UoX2V4dGVuZHMoeyBzdGF0ZTogc3RhdGUgfSwgcGF0aCkpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBsaXN0ZW5CZWZvcmU6IGxpc3RlbkJlZm9yZSxcbiAgICBsaXN0ZW46IGxpc3RlbixcbiAgICB0cmFuc2l0aW9uVG86IHRyYW5zaXRpb25UbyxcbiAgICBwdXNoOiBwdXNoLFxuICAgIHJlcGxhY2U6IHJlcGxhY2UsXG4gICAgZ286IGdvLFxuICAgIGdvQmFjazogZ29CYWNrLFxuICAgIGdvRm9yd2FyZDogZ29Gb3J3YXJkLFxuICAgIGNyZWF0ZUtleTogY3JlYXRlS2V5LFxuICAgIGNyZWF0ZVBhdGg6IGNyZWF0ZVBhdGgsXG4gICAgY3JlYXRlSHJlZjogY3JlYXRlSHJlZixcbiAgICBjcmVhdGVMb2NhdGlvbjogY3JlYXRlTG9jYXRpb24sXG5cbiAgICBzZXRTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShzZXRTdGF0ZSwgJ3NldFN0YXRlIGlzIGRlcHJlY2F0ZWQ7IHVzZSBsb2NhdGlvbi5rZXkgdG8gc2F2ZSBzdGF0ZSBpbnN0ZWFkJyksXG4gICAgcmVnaXN0ZXJUcmFuc2l0aW9uSG9vazogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZWdpc3RlclRyYW5zaXRpb25Ib29rLCAncmVnaXN0ZXJUcmFuc2l0aW9uSG9vayBpcyBkZXByZWNhdGVkOyB1c2UgbGlzdGVuQmVmb3JlIGluc3RlYWQnKSxcbiAgICB1bnJlZ2lzdGVyVHJhbnNpdGlvbkhvb2s6IF9kZXByZWNhdGUyWydkZWZhdWx0J10odW5yZWdpc3RlclRyYW5zaXRpb25Ib29rLCAndW5yZWdpc3RlclRyYW5zaXRpb25Ib29rIGlzIGRlcHJlY2F0ZWQ7IHVzZSB0aGUgY2FsbGJhY2sgcmV0dXJuZWQgZnJvbSBsaXN0ZW5CZWZvcmUgaW5zdGVhZCcpLFxuICAgIHB1c2hTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShwdXNoU3RhdGUsICdwdXNoU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHB1c2ggaW5zdGVhZCcpLFxuICAgIHJlcGxhY2VTdGF0ZTogX2RlcHJlY2F0ZTJbJ2RlZmF1bHQnXShyZXBsYWNlU3RhdGUsICdyZXBsYWNlU3RhdGUgaXMgZGVwcmVjYXRlZDsgdXNlIHJlcGxhY2UgaW5zdGVhZCcpXG4gIH07XG59XG5cbmV4cG9ydHNbJ2RlZmF1bHQnXSA9IGNyZWF0ZUhpc3Rvcnk7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvL2ltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnXG4ndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF9BY3Rpb25zID0gcmVxdWlyZSgnLi9BY3Rpb25zJyk7XG5cbnZhciBfcGFyc2VQYXRoID0gcmVxdWlyZSgnLi9wYXJzZVBhdGgnKTtcblxudmFyIF9wYXJzZVBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcGFyc2VQYXRoKTtcblxuZnVuY3Rpb24gY3JlYXRlTG9jYXRpb24oKSB7XG4gIHZhciBsb2NhdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMCB8fCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/ICcvJyA6IGFyZ3VtZW50c1swXTtcbiAgdmFyIGFjdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMSB8fCBhcmd1bWVudHNbMV0gPT09IHVuZGVmaW5lZCA/IF9BY3Rpb25zLlBPUCA6IGFyZ3VtZW50c1sxXTtcbiAgdmFyIGtleSA9IGFyZ3VtZW50cy5sZW5ndGggPD0gMiB8fCBhcmd1bWVudHNbMl0gPT09IHVuZGVmaW5lZCA/IG51bGwgOiBhcmd1bWVudHNbMl07XG5cbiAgdmFyIF9mb3VydGhBcmcgPSBhcmd1bWVudHMubGVuZ3RoIDw9IDMgfHwgYXJndW1lbnRzWzNdID09PSB1bmRlZmluZWQgPyBudWxsIDogYXJndW1lbnRzWzNdO1xuXG4gIGlmICh0eXBlb2YgbG9jYXRpb24gPT09ICdzdHJpbmcnKSBsb2NhdGlvbiA9IF9wYXJzZVBhdGgyWydkZWZhdWx0J10obG9jYXRpb24pO1xuXG4gIGlmICh0eXBlb2YgYWN0aW9uID09PSAnb2JqZWN0Jykge1xuICAgIC8vd2FybmluZyhcbiAgICAvLyAgZmFsc2UsXG4gICAgLy8gICdUaGUgc3RhdGUgKDJuZCkgYXJndW1lbnQgdG8gY3JlYXRlTG9jYXRpb24gaXMgZGVwcmVjYXRlZDsgdXNlIGEgJyArXG4gICAgLy8gICdsb2NhdGlvbiBkZXNjcmlwdG9yIGluc3RlYWQnXG4gICAgLy8pXG5cbiAgICBsb2NhdGlvbiA9IF9leHRlbmRzKHt9LCBsb2NhdGlvbiwgeyBzdGF0ZTogYWN0aW9uIH0pO1xuXG4gICAgYWN0aW9uID0ga2V5IHx8IF9BY3Rpb25zLlBPUDtcbiAgICBrZXkgPSBfZm91cnRoQXJnO1xuICB9XG5cbiAgdmFyIHBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWUgfHwgJy8nO1xuICB2YXIgc2VhcmNoID0gbG9jYXRpb24uc2VhcmNoIHx8ICcnO1xuICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2ggfHwgJyc7XG4gIHZhciBzdGF0ZSA9IGxvY2F0aW9uLnN0YXRlIHx8IG51bGw7XG5cbiAgcmV0dXJuIHtcbiAgICBwYXRobmFtZTogcGF0aG5hbWUsXG4gICAgc2VhcmNoOiBzZWFyY2gsXG4gICAgaGFzaDogaGFzaCxcbiAgICBzdGF0ZTogc3RhdGUsXG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAga2V5OiBrZXlcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gY3JlYXRlTG9jYXRpb247XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvL2ltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnXG5cblwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZnVuY3Rpb24gZGVwcmVjYXRlKGZuKSB7XG4gIHJldHVybiBmbjtcbiAgLy9yZXR1cm4gZnVuY3Rpb24gKCkge1xuICAvLyAgd2FybmluZyhmYWxzZSwgJ1toaXN0b3J5XSAnICsgbWVzc2FnZSlcbiAgLy8gIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIC8vfVxufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGRlcHJlY2F0ZTtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5mdW5jdGlvbiBleHRyYWN0UGF0aChzdHJpbmcpIHtcbiAgdmFyIG1hdGNoID0gc3RyaW5nLm1hdGNoKC9eaHR0cHM/OlxcL1xcL1teXFwvXSovKTtcblxuICBpZiAobWF0Y2ggPT0gbnVsbCkgcmV0dXJuIHN0cmluZztcblxuICByZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpO1xufVxuXG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IGV4dHJhY3RQYXRoO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ICdkZWZhdWx0Jzogb2JqIH07IH1cblxudmFyIF93YXJuaW5nID0gcmVxdWlyZSgnd2FybmluZycpO1xuXG52YXIgX3dhcm5pbmcyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfd2FybmluZyk7XG5cbnZhciBfZXh0cmFjdFBhdGggPSByZXF1aXJlKCcuL2V4dHJhY3RQYXRoJyk7XG5cbnZhciBfZXh0cmFjdFBhdGgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZXh0cmFjdFBhdGgpO1xuXG5mdW5jdGlvbiBwYXJzZVBhdGgocGF0aCkge1xuICB2YXIgcGF0aG5hbWUgPSBfZXh0cmFjdFBhdGgyWydkZWZhdWx0J10ocGF0aCk7XG4gIHZhciBzZWFyY2ggPSAnJztcbiAgdmFyIGhhc2ggPSAnJztcblxuICBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nID8gX3dhcm5pbmcyWydkZWZhdWx0J10ocGF0aCA9PT0gcGF0aG5hbWUsICdBIHBhdGggbXVzdCBiZSBwYXRobmFtZSArIHNlYXJjaCArIGhhc2ggb25seSwgbm90IGEgZnVsbHkgcXVhbGlmaWVkIFVSTCBsaWtlIFwiJXNcIicsIHBhdGgpIDogdW5kZWZpbmVkO1xuXG4gIHZhciBoYXNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCcjJyk7XG4gIGlmIChoYXNoSW5kZXggIT09IC0xKSB7XG4gICAgaGFzaCA9IHBhdGhuYW1lLnN1YnN0cmluZyhoYXNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIGhhc2hJbmRleCk7XG4gIH1cblxuICB2YXIgc2VhcmNoSW5kZXggPSBwYXRobmFtZS5pbmRleE9mKCc/Jyk7XG4gIGlmIChzZWFyY2hJbmRleCAhPT0gLTEpIHtcbiAgICBzZWFyY2ggPSBwYXRobmFtZS5zdWJzdHJpbmcoc2VhcmNoSW5kZXgpO1xuICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc3Vic3RyaW5nKDAsIHNlYXJjaEluZGV4KTtcbiAgfVxuXG4gIGlmIChwYXRobmFtZSA9PT0gJycpIHBhdGhuYW1lID0gJy8nO1xuXG4gIHJldHVybiB7XG4gICAgcGF0aG5hbWU6IHBhdGhuYW1lLFxuICAgIHNlYXJjaDogc2VhcmNoLFxuICAgIGhhc2g6IGhhc2hcbiAgfTtcbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gcGFyc2VQYXRoO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyAnZGVmYXVsdCc6IG9iaiB9OyB9XG5cbnZhciBfd2FybmluZyA9IHJlcXVpcmUoJ3dhcm5pbmcnKTtcblxudmFyIF93YXJuaW5nMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3dhcm5pbmcpO1xuXG5mdW5jdGlvbiBydW5UcmFuc2l0aW9uSG9vayhob29rLCBsb2NhdGlvbiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlc3VsdCA9IGhvb2sobG9jYXRpb24sIGNhbGxiYWNrKTtcblxuICBpZiAoaG9vay5sZW5ndGggPCAyKSB7XG4gICAgLy8gQXNzdW1lIHRoZSBob29rIHJ1bnMgc3luY2hyb25vdXNseSBhbmQgYXV0b21hdGljYWxseVxuICAgIC8vIGNhbGwgdGhlIGNhbGxiYWNrIHdpdGggdGhlIHJldHVybiB2YWx1ZS5cbiAgICBjYWxsYmFjayhyZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgPyBfd2FybmluZzJbJ2RlZmF1bHQnXShyZXN1bHQgPT09IHVuZGVmaW5lZCwgJ1lvdSBzaG91bGQgbm90IFwicmV0dXJuXCIgaW4gYSB0cmFuc2l0aW9uIGhvb2sgd2l0aCBhIGNhbGxiYWNrIGFyZ3VtZW50OyBjYWxsIHRoZSBjYWxsYmFjayBpbnN0ZWFkJykgOiB1bmRlZmluZWQ7XG4gIH1cbn1cblxuZXhwb3J0c1snZGVmYXVsdCddID0gcnVuVHJhbnNpdGlvbkhvb2s7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIvKipcbiAqIENvcHlyaWdodCAyMDEzLTIwMTUsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEJTRC1zdHlsZSBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLiBBbiBhZGRpdGlvbmFsIGdyYW50XG4gKiBvZiBwYXRlbnQgcmlnaHRzIGNhbiBiZSBmb3VuZCBpbiB0aGUgUEFURU5UUyBmaWxlIGluIHRoZSBzYW1lIGRpcmVjdG9yeS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciBpbnZhcmlhbnQgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYSwgYiwgYywgZCwgZSwgZikge1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhcmlhbnQgcmVxdWlyZXMgYW4gZXJyb3IgbWVzc2FnZSBhcmd1bWVudCcpO1xuICAgIH1cbiAgfVxuXG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdmFyIGVycm9yO1xuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgICdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICtcbiAgICAgICAgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJ1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGFyZ3MgPSBbYSwgYiwgYywgZCwgZSwgZl07XG4gICAgICB2YXIgYXJnSW5kZXggPSAwO1xuICAgICAgZXJyb3IgPSBuZXcgRXJyb3IoXG4gICAgICAgIGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107IH0pXG4gICAgICApO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gaW52YXJpYW50O1xuIiwiKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgcm9vdC5sb2FkanMgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24oKSB7XG4vKipcbiAqIEdsb2JhbCBkZXBlbmRlbmNpZXMuXG4gKiBAZ2xvYmFsIHtPYmplY3R9IGRvY3VtZW50IC0gRE9NXG4gKi9cblxudmFyIGRldm51bGwgPSBmdW5jdGlvbigpIHt9LFxuICAgIGJ1bmRsZUlkQ2FjaGUgPSB7fSxcbiAgICBidW5kbGVSZXN1bHRDYWNoZSA9IHt9LFxuICAgIGJ1bmRsZUNhbGxiYWNrUXVldWUgPSB7fTtcblxuXG4vKipcbiAqIFN1YnNjcmliZSB0byBidW5kbGUgbG9hZCBldmVudC5cbiAqIEBwYXJhbSB7c3RyaW5nW119IGJ1bmRsZUlkcyAtIEJ1bmRsZSBpZHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrRm4gLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gc3Vic2NyaWJlKGJ1bmRsZUlkcywgY2FsbGJhY2tGbikge1xuICAvLyBsaXN0aWZ5XG4gIGJ1bmRsZUlkcyA9IGJ1bmRsZUlkcy5wdXNoID8gYnVuZGxlSWRzIDogW2J1bmRsZUlkc107XG5cbiAgdmFyIGRlcHNOb3RGb3VuZCA9IFtdLFxuICAgICAgaSA9IGJ1bmRsZUlkcy5sZW5ndGgsXG4gICAgICBudW1XYWl0aW5nID0gaSxcbiAgICAgIGZuLFxuICAgICAgYnVuZGxlSWQsXG4gICAgICByLFxuICAgICAgcTtcblxuICAvLyBkZWZpbmUgY2FsbGJhY2sgZnVuY3Rpb25cbiAgZm4gPSBmdW5jdGlvbiAoYnVuZGxlSWQsIHBhdGhzTm90Rm91bmQpIHtcbiAgICBpZiAocGF0aHNOb3RGb3VuZC5sZW5ndGgpIGRlcHNOb3RGb3VuZC5wdXNoKGJ1bmRsZUlkKTtcblxuICAgIG51bVdhaXRpbmctLTtcbiAgICBpZiAoIW51bVdhaXRpbmcpIGNhbGxiYWNrRm4oZGVwc05vdEZvdW5kKTtcbiAgfTtcblxuICAvLyByZWdpc3RlciBjYWxsYmFja1xuICB3aGlsZSAoaS0tKSB7XG4gICAgYnVuZGxlSWQgPSBidW5kbGVJZHNbaV07XG5cbiAgICAvLyBleGVjdXRlIGNhbGxiYWNrIGlmIGluIHJlc3VsdCBjYWNoZVxuICAgIHIgPSBidW5kbGVSZXN1bHRDYWNoZVtidW5kbGVJZF07XG4gICAgaWYgKHIpIHtcbiAgICAgIGZuKGJ1bmRsZUlkLCByKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIC8vIGFkZCB0byBjYWxsYmFjayBxdWV1ZVxuICAgIHEgPSBidW5kbGVDYWxsYmFja1F1ZXVlW2J1bmRsZUlkXSA9IGJ1bmRsZUNhbGxiYWNrUXVldWVbYnVuZGxlSWRdIHx8IFtdO1xuICAgIHEucHVzaChmbik7XG4gIH1cbn1cblxuXG4vKipcbiAqIFB1Ymxpc2ggYnVuZGxlIGxvYWQgZXZlbnQuXG4gKiBAcGFyYW0ge3N0cmluZ30gYnVuZGxlSWQgLSBCdW5kbGUgaWRcbiAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzTm90Rm91bmQgLSBMaXN0IG9mIGZpbGVzIG5vdCBmb3VuZFxuICovXG5mdW5jdGlvbiBwdWJsaXNoKGJ1bmRsZUlkLCBwYXRoc05vdEZvdW5kKSB7XG4gIC8vIGV4aXQgaWYgaWQgaXNuJ3QgZGVmaW5lZFxuICBpZiAoIWJ1bmRsZUlkKSByZXR1cm47XG5cbiAgdmFyIHEgPSBidW5kbGVDYWxsYmFja1F1ZXVlW2J1bmRsZUlkXTtcblxuICAvLyBjYWNoZSByZXN1bHRcbiAgYnVuZGxlUmVzdWx0Q2FjaGVbYnVuZGxlSWRdID0gcGF0aHNOb3RGb3VuZDtcblxuICAvLyBleGl0IGlmIHF1ZXVlIGlzIGVtcHR5XG4gIGlmICghcSkgcmV0dXJuO1xuXG4gIC8vIGVtcHR5IGNhbGxiYWNrIHF1ZXVlXG4gIHdoaWxlIChxLmxlbmd0aCkge1xuICAgIHFbMF0oYnVuZGxlSWQsIHBhdGhzTm90Rm91bmQpO1xuICAgIHEuc3BsaWNlKDAsIDEpO1xuICB9XG59XG5cblxuLyoqXG4gKiBMb2FkIGluZGl2aWR1YWwgZmlsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gVGhlIGZpbGUgcGF0aFxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tGbiAtIFRoZSBjYWxsYmFjayBmdW5jdGlvblxuICovXG5mdW5jdGlvbiBsb2FkRmlsZShwYXRoLCBjYWxsYmFja0ZuLCBhcmdzLCBudW1Ucmllcykge1xuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICBhc3luYyA9IGFyZ3MuYXN5bmMsXG4gICAgICBtYXhUcmllcyA9IChhcmdzLm51bVJldHJpZXMgfHwgMCkgKyAxLFxuICAgICAgYmVmb3JlQ2FsbGJhY2tGbiA9IGFyZ3MuYmVmb3JlIHx8IGRldm51bGwsXG4gICAgICBpc0NzcyxcbiAgICAgIGU7XG5cbiAgbnVtVHJpZXMgPSBudW1UcmllcyB8fCAwO1xuXG4gIGlmICgvKF5jc3MhfFxcLmNzcyQpLy50ZXN0KHBhdGgpKSB7XG4gICAgaXNDc3MgPSB0cnVlO1xuXG4gICAgLy8gY3NzXG4gICAgZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdsaW5rJyk7XG4gICAgZS5yZWwgPSAnc3R5bGVzaGVldCc7XG4gICAgZS5ocmVmID0gcGF0aC5yZXBsYWNlKC9eY3NzIS8sICcnKTsgIC8vIHJlbW92ZSBcImNzcyFcIiBwcmVmaXhcbiAgfSBlbHNlIHtcbiAgICAvLyBqYXZhc2NyaXB0XG4gICAgZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBlLnNyYyA9IHBhdGg7XG4gICAgZS5hc3luYyA9IGFzeW5jID09PSB1bmRlZmluZWQgPyB0cnVlIDogYXN5bmM7XG4gIH1cblxuICBlLm9ubG9hZCA9IGUub25lcnJvciA9IGUub25iZWZvcmVsb2FkID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgdmFyIHJlc3VsdCA9IGV2LnR5cGVbMF07XG5cbiAgICAvLyBOb3RlOiBUaGUgZm9sbG93aW5nIGNvZGUgaXNvbGF0ZXMgSUUgdXNpbmcgYGhpZGVGb2N1c2AgYW5kIHRyZWF0cyBlbXB0eVxuICAgIC8vIHN0eWxlc2hlZXRzIGFzIGZhaWx1cmVzIHRvIGdldCBhcm91bmQgbGFjayBvZiBvbmVycm9yIHN1cHBvcnRcbiAgICBpZiAoaXNDc3MgJiYgJ2hpZGVGb2N1cycgaW4gZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFlLnNoZWV0LmNzc1RleHQubGVuZ3RoKSByZXN1bHQgPSAnZSc7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIC8vIHNoZWV0cyBvYmplY3RzIGNyZWF0ZWQgZnJvbSBsb2FkIGVycm9ycyBkb24ndCBhbGxvdyBhY2Nlc3MgdG9cbiAgICAgICAgLy8gYGNzc1RleHRgXG4gICAgICAgIHJlc3VsdCA9ICdlJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBoYW5kbGUgcmV0cmllcyBpbiBjYXNlIG9mIGxvYWQgZmFpbHVyZVxuICAgIGlmIChyZXN1bHQgPT0gJ2UnKSB7XG4gICAgICAvLyBpbmNyZW1lbnQgY291bnRlclxuICAgICAgbnVtVHJpZXMgKz0gMTtcblxuICAgICAgLy8gZXhpdCBmdW5jdGlvbiBhbmQgdHJ5IGFnYWluXG4gICAgICBpZiAobnVtVHJpZXMgPCBtYXhUcmllcykge1xuICAgICAgICByZXR1cm4gbG9hZEZpbGUocGF0aCwgY2FsbGJhY2tGbiwgYXJncywgbnVtVHJpZXMpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGV4ZWN1dGUgY2FsbGJhY2tcbiAgICBjYWxsYmFja0ZuKHBhdGgsIHJlc3VsdCwgZXYuZGVmYXVsdFByZXZlbnRlZCk7XG4gIH07XG5cbiAgLy8gYWRkIHRvIGRvY3VtZW50ICh1bmxlc3MgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgKVxuICBpZiAoYmVmb3JlQ2FsbGJhY2tGbihwYXRoLCBlKSAhPT0gZmFsc2UpIGRvYy5oZWFkLmFwcGVuZENoaWxkKGUpO1xufVxuXG5cbi8qKlxuICogTG9hZCBtdWx0aXBsZSBmaWxlcy5cbiAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIC0gVGhlIGZpbGUgcGF0aHNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrRm4gLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb25cbiAqL1xuZnVuY3Rpb24gbG9hZEZpbGVzKHBhdGhzLCBjYWxsYmFja0ZuLCBhcmdzKSB7XG4gIC8vIGxpc3RpZnkgcGF0aHNcbiAgcGF0aHMgPSBwYXRocy5wdXNoID8gcGF0aHMgOiBbcGF0aHNdO1xuXG4gIHZhciBudW1XYWl0aW5nID0gcGF0aHMubGVuZ3RoLFxuICAgICAgeCA9IG51bVdhaXRpbmcsXG4gICAgICBwYXRoc05vdEZvdW5kID0gW10sXG4gICAgICBmbixcbiAgICAgIGk7XG5cbiAgLy8gZGVmaW5lIGNhbGxiYWNrIGZ1bmN0aW9uXG4gIGZuID0gZnVuY3Rpb24ocGF0aCwgcmVzdWx0LCBkZWZhdWx0UHJldmVudGVkKSB7XG4gICAgLy8gaGFuZGxlIGVycm9yXG4gICAgaWYgKHJlc3VsdCA9PSAnZScpIHBhdGhzTm90Rm91bmQucHVzaChwYXRoKTtcblxuICAgIC8vIGhhbmRsZSBiZWZvcmVsb2FkIGV2ZW50LiBJZiBkZWZhdWx0UHJldmVudGVkIHRoZW4gdGhhdCBtZWFucyB0aGUgbG9hZFxuICAgIC8vIHdpbGwgYmUgYmxvY2tlZCAoZXguIEdob3N0ZXJ5L0FCUCBvbiBTYWZhcmkpXG4gICAgaWYgKHJlc3VsdCA9PSAnYicpIHtcbiAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSBwYXRoc05vdEZvdW5kLnB1c2gocGF0aCk7XG4gICAgICBlbHNlIHJldHVybjtcbiAgICB9XG5cbiAgICBudW1XYWl0aW5nLS07XG4gICAgaWYgKCFudW1XYWl0aW5nKSBjYWxsYmFja0ZuKHBhdGhzTm90Rm91bmQpO1xuICB9O1xuXG4gIC8vIGxvYWQgc2NyaXB0c1xuICBmb3IgKGk9MDsgaSA8IHg7IGkrKykgbG9hZEZpbGUocGF0aHNbaV0sIGZuLCBhcmdzKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYXRlIHNjcmlwdCBsb2FkIGFuZCByZWdpc3RlciBidW5kbGUuXG4gKiBAcGFyYW0geyhzdHJpbmd8c3RyaW5nW10pfSBwYXRocyAtIFRoZSBmaWxlIHBhdGhzXG4gKiBAcGFyYW0geyhzdHJpbmd8RnVuY3Rpb24pfSBbYXJnMV0gLSBUaGUgYnVuZGxlSWQgb3Igc3VjY2VzcyBjYWxsYmFja1xuICogQHBhcmFtIHtGdW5jdGlvbn0gW2FyZzJdIC0gVGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tcbiAqIEBwYXJhbSB7RnVuY3Rpb259IFthcmczXSAtIFRoZSBlcnJvciBjYWxsYmFja1xuICovXG5mdW5jdGlvbiBsb2FkanMocGF0aHMsIGFyZzEsIGFyZzIpIHtcbiAgdmFyIGJ1bmRsZUlkLFxuICAgICAgYXJncztcblxuICAvLyBidW5kbGVJZCAoaWYgc3RyaW5nKVxuICBpZiAoYXJnMSAmJiBhcmcxLnRyaW0pIGJ1bmRsZUlkID0gYXJnMTtcblxuICAvLyBhcmdzIChkZWZhdWx0IGlzIHt9KVxuICBhcmdzID0gKGJ1bmRsZUlkID8gYXJnMiA6IGFyZzEpIHx8IHt9O1xuXG4gIC8vIHRocm93IGVycm9yIGlmIGJ1bmRsZSBpcyBhbHJlYWR5IGRlZmluZWRcbiAgaWYgKGJ1bmRsZUlkKSB7XG4gICAgaWYgKGJ1bmRsZUlkIGluIGJ1bmRsZUlkQ2FjaGUpIHtcbiAgICAgIHRocm93IFwiTG9hZEpTXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1bmRsZUlkQ2FjaGVbYnVuZGxlSWRdID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICAvLyBsb2FkIHNjcmlwdHNcbiAgbG9hZEZpbGVzKHBhdGhzLCBmdW5jdGlvbiAocGF0aHNOb3RGb3VuZCkge1xuICAgIC8vIHN1Y2Nlc3MgYW5kIGVycm9yIGNhbGxiYWNrc1xuICAgIGlmIChwYXRoc05vdEZvdW5kLmxlbmd0aCkgKGFyZ3MuZXJyb3IgfHwgZGV2bnVsbCkocGF0aHNOb3RGb3VuZCk7XG4gICAgZWxzZSAoYXJncy5zdWNjZXNzIHx8IGRldm51bGwpKCk7XG5cbiAgICAvLyBwdWJsaXNoIGJ1bmRsZSBsb2FkIGV2ZW50XG4gICAgcHVibGlzaChidW5kbGVJZCwgcGF0aHNOb3RGb3VuZCk7XG4gIH0sIGFyZ3MpO1xufVxuXG5cbi8qKlxuICogRXhlY3V0ZSBjYWxsYmFja3Mgd2hlbiBkZXBlbmRlbmNpZXMgaGF2ZSBiZWVuIHNhdGlzZmllZC5cbiAqIEBwYXJhbSB7KHN0cmluZ3xzdHJpbmdbXSl9IGRlcHMgLSBMaXN0IG9mIGJ1bmRsZSBpZHNcbiAqIEBwYXJhbSB7T2JqZWN0fSBhcmdzIC0gc3VjY2Vzcy9lcnJvciBhcmd1bWVudHNcbiAqL1xubG9hZGpzLnJlYWR5ID0gZnVuY3Rpb24gcmVhZHkoZGVwcywgYXJncykge1xuICAvLyBzdWJzY3JpYmUgdG8gYnVuZGxlIGxvYWQgZXZlbnRcbiAgc3Vic2NyaWJlKGRlcHMsIGZ1bmN0aW9uIChkZXBzTm90Rm91bmQpIHtcbiAgICAvLyBleGVjdXRlIGNhbGxiYWNrc1xuICAgIGlmIChkZXBzTm90Rm91bmQubGVuZ3RoKSAoYXJncy5lcnJvciB8fCBkZXZudWxsKShkZXBzTm90Rm91bmQpO1xuICAgIGVsc2UgKGFyZ3Muc3VjY2VzcyB8fCBkZXZudWxsKSgpO1xuICB9KTtcblxuICByZXR1cm4gbG9hZGpzO1xufTtcblxuXG4vKipcbiAqIE1hbnVhbGx5IHNhdGlzZnkgYnVuZGxlIGRlcGVuZGVuY2llcy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBidW5kbGVJZCAtIFRoZSBidW5kbGUgaWRcbiAqL1xubG9hZGpzLmRvbmUgPSBmdW5jdGlvbiBkb25lKGJ1bmRsZUlkKSB7XG4gIHB1Ymxpc2goYnVuZGxlSWQsIFtdKTtcbn07XG5cblxuLyoqXG4gKiBSZXNldCBsb2FkanMgZGVwZW5kZW5jaWVzIHN0YXR1c2VzXG4gKi9cbmxvYWRqcy5yZXNldCA9IGZ1bmN0aW9uIHJlc2V0KCkge1xuICBidW5kbGVJZENhY2hlID0ge307XG4gIGJ1bmRsZVJlc3VsdENhY2hlID0ge307XG4gIGJ1bmRsZUNhbGxiYWNrUXVldWUgPSB7fTtcbn07XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgYnVuZGxlIGhhcyBhbHJlYWR5IGJlZW4gZGVmaW5lZFxuICogQHBhcmFtIFN0cmluZ30gYnVuZGxlSWQgLSBUaGUgYnVuZGxlIGlkXG4gKi9cbmxvYWRqcy5pc0RlZmluZWQgPSBmdW5jdGlvbiBpc0RlZmluZWQoYnVuZGxlSWQpIHtcbiAgcmV0dXJuIGJ1bmRsZUlkIGluIGJ1bmRsZUlkQ2FjaGU7XG59O1xuXG5cbi8vIGV4cG9ydFxucmV0dXJuIGxvYWRqcztcblxufSkpO1xuIiwiLyoqXG4gKiBIZWxwZXJzLlxuICovXG5cbnZhciBzID0gMTAwMFxudmFyIG0gPSBzICogNjBcbnZhciBoID0gbSAqIDYwXG52YXIgZCA9IGggKiAyNFxudmFyIHkgPSBkICogMzY1LjI1XG5cbi8qKlxuICogUGFyc2Ugb3IgZm9ybWF0IHRoZSBnaXZlbiBgdmFsYC5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAtIGBsb25nYCB2ZXJib3NlIGZvcm1hdHRpbmcgW2ZhbHNlXVxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfE51bWJlcn0gdmFsXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh2YWwsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsXG4gIGlmICh0eXBlID09PSAnc3RyaW5nJyAmJiB2YWwubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZSh2YWwpXG4gIH0gZWxzZSBpZiAodHlwZSA9PT0gJ251bWJlcicgJiYgaXNOYU4odmFsKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5sb25nID9cblx0XHRcdGZtdExvbmcodmFsKSA6XG5cdFx0XHRmbXRTaG9ydCh2YWwpXG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgKyBKU09OLnN0cmluZ2lmeSh2YWwpKVxufVxuXG4vKipcbiAqIFBhcnNlIHRoZSBnaXZlbiBgc3RyYCBhbmQgcmV0dXJuIG1pbGxpc2Vjb25kcy5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZShzdHIpIHtcbiAgc3RyID0gU3RyaW5nKHN0cilcbiAgaWYgKHN0ci5sZW5ndGggPiAxMDAwMCkge1xuICAgIHJldHVyblxuICB9XG4gIHZhciBtYXRjaCA9IC9eKCg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoc3RyKVxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKVxuICB2YXIgdHlwZSA9IChtYXRjaFsyXSB8fCAnbXMnKS50b0xvd2VyQ2FzZSgpXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ3llYXJzJzpcbiAgICBjYXNlICd5ZWFyJzpcbiAgICBjYXNlICd5cnMnOlxuICAgIGNhc2UgJ3lyJzpcbiAgICBjYXNlICd5JzpcbiAgICAgIHJldHVybiBuICogeVxuICAgIGNhc2UgJ2RheXMnOlxuICAgIGNhc2UgJ2RheSc6XG4gICAgY2FzZSAnZCc6XG4gICAgICByZXR1cm4gbiAqIGRcbiAgICBjYXNlICdob3Vycyc6XG4gICAgY2FzZSAnaG91cic6XG4gICAgY2FzZSAnaHJzJzpcbiAgICBjYXNlICdocic6XG4gICAgY2FzZSAnaCc6XG4gICAgICByZXR1cm4gbiAqIGhcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG1cbiAgICBjYXNlICdzZWNvbmRzJzpcbiAgICBjYXNlICdzZWNvbmQnOlxuICAgIGNhc2UgJ3NlY3MnOlxuICAgIGNhc2UgJ3NlYyc6XG4gICAgY2FzZSAncyc6XG4gICAgICByZXR1cm4gbiAqIHNcbiAgICBjYXNlICdtaWxsaXNlY29uZHMnOlxuICAgIGNhc2UgJ21pbGxpc2Vjb25kJzpcbiAgICBjYXNlICdtc2Vjcyc6XG4gICAgY2FzZSAnbXNlYyc6XG4gICAgY2FzZSAnbXMnOlxuICAgICAgcmV0dXJuIG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZFxuICB9XG59XG5cbi8qKlxuICogU2hvcnQgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10U2hvcnQobXMpIHtcbiAgaWYgKG1zID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnXG4gIH1cbiAgaWYgKG1zID49IGgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGgpICsgJ2gnXG4gIH1cbiAgaWYgKG1zID49IG0pIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIG0pICsgJ20nXG4gIH1cbiAgaWYgKG1zID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnXG4gIH1cbiAgcmV0dXJuIG1zICsgJ21zJ1xufVxuXG4vKipcbiAqIExvbmcgZm9ybWF0IGZvciBgbXNgLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBtc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gZm10TG9uZyhtcykge1xuICByZXR1cm4gcGx1cmFsKG1zLCBkLCAnZGF5JykgfHxcbiAgICBwbHVyYWwobXMsIGgsICdob3VyJykgfHxcbiAgICBwbHVyYWwobXMsIG0sICdtaW51dGUnKSB8fFxuICAgIHBsdXJhbChtcywgcywgJ3NlY29uZCcpIHx8XG4gICAgbXMgKyAnIG1zJ1xufVxuXG4vKipcbiAqIFBsdXJhbGl6YXRpb24gaGVscGVyLlxuICovXG5cbmZ1bmN0aW9uIHBsdXJhbChtcywgbiwgbmFtZSkge1xuICBpZiAobXMgPCBuKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKG1zIDwgbiAqIDEuNSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKG1zIC8gbikgKyAnICcgKyBuYW1lXG4gIH1cbiAgcmV0dXJuIE1hdGguY2VpbChtcyAvIG4pICsgJyAnICsgbmFtZSArICdzJ1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHVuZGVmaW5lZDtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX2RlYnVnID0gcmVxdWlyZSgnZGVidWcnKTtcblxudmFyIF9kZWJ1ZzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWJ1Zyk7XG5cbnZhciBfREVGQVVMVF9DSEFSVF9DT0xPUlMgPSByZXF1aXJlKCcuLi9jb25zdGFudHMvREVGQVVMVF9DSEFSVF9DT0xPUlMnKTtcblxudmFyIF9ERUZBVUxUX0NIQVJUX0NPTE9SUzIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9ERUZBVUxUX0NIQVJUX0NPTE9SUyk7XG5cbnZhciBfR29vZ2xlQ2hhcnRMb2FkZXIgPSByZXF1aXJlKCcuL0dvb2dsZUNoYXJ0TG9hZGVyJyk7XG5cbnZhciBfR29vZ2xlQ2hhcnRMb2FkZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfR29vZ2xlQ2hhcnRMb2FkZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9IC8qIGVzbGludCByZWFjdC9mb3JiaWQtcHJvcC10eXBlczogXCJvZmZcIiAqL1xuXG5cbnZhciBkZWJ1ZyA9IG5ldyBfZGVidWcyLmRlZmF1bHQoJ3JlYWN0LWdvb2dsZS1jaGFydHM6Q2hhcnQnKTtcblxudmFyIHVuaXF1ZUlEID0gMDtcblxudmFyIGdlbmVyYXRlVW5pcXVlSUQgPSBmdW5jdGlvbiBnZW5lcmF0ZVVuaXF1ZUlEKCkge1xuICB1bmlxdWVJRCArPSAxO1xuICByZXR1cm4gJ3JlYWN0Z29vZ2xlZ3JhcGgtJyArIHVuaXF1ZUlEO1xufTtcblxudmFyIENoYXJ0ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKENoYXJ0LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBDaGFydChwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGFydCk7XG5cbiAgICBkZWJ1ZygnY29uc3RydWN0b3InLCBwcm9wcyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfUmVhY3QkQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLnN0YXRlID0geyBncmFwaElEOiBwcm9wcy5ncmFwaF9pZCB8fCBnZW5lcmF0ZVVuaXF1ZUlEKCkgfTtcbiAgICBfdGhpcy5jaGFydCA9IG51bGw7XG4gICAgX3RoaXMud3JhcHBlciA9IG51bGw7XG4gICAgX3RoaXMuaGlkZGVuX2NvbHVtbnMgPSB7fTtcbiAgICBfdGhpcy5kYXRhVGFibGUgPSBbXTtcblxuICAgIF90aGlzLmRlYm91bmNlID0gX3RoaXMuZGVib3VuY2UuYmluZChfdGhpcyk7XG4gICAgX3RoaXMub25SZXNpemUgPSBfdGhpcy5vblJlc2l6ZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5kcmF3Q2hhcnQgPSBfdGhpcy5kcmF3Q2hhcnQuYmluZChfdGhpcyk7XG4gICAgX3RoaXMudG9nZ2xlUG9pbnRzID0gX3RoaXMudG9nZ2xlUG9pbnRzLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmJ1aWxkRGF0YVRhYmxlRnJvbVByb3BzID0gX3RoaXMuYnVpbGREYXRhVGFibGVGcm9tUHJvcHMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMubGlzdGVuVG9DaGFydEV2ZW50cyA9IF90aGlzLmxpc3RlblRvQ2hhcnRFdmVudHMuYmluZChfdGhpcyk7XG4gICAgX3RoaXMuYWRkQ2hhcnRBY3Rpb25zID0gX3RoaXMuYWRkQ2hhcnRBY3Rpb25zLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLnVwZGF0ZURhdGFUYWJsZSA9IF90aGlzLnVwZGF0ZURhdGFUYWJsZS5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5vblNlbGVjdFRvZ2dsZSA9IF90aGlzLm9uU2VsZWN0VG9nZ2xlLmJpbmQoX3RoaXMpO1xuICAgIF90aGlzLmFkZFNvdXJjZUNvbHVtblRvID0gX3RoaXMuYWRkU291cmNlQ29sdW1uVG8uYmluZChfdGhpcyk7XG4gICAgX3RoaXMucmVzdG9yZUNvbG9yVG8gPSBfdGhpcy5yZXN0b3JlQ29sb3JUby5iaW5kKF90aGlzKTtcbiAgICBfdGhpcy5oaWRlQ29sdW1uID0gX3RoaXMuaGlkZUNvbHVtbi5iaW5kKF90aGlzKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBDaGFydC5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGRlYnVnKCdjb21wb25lbnREaWRNb3VudCcpO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcm9wcy5sb2FkQ2hhcnRzKSB7XG4gICAgICBfR29vZ2xlQ2hhcnRMb2FkZXIyLmRlZmF1bHQuaW5pdCh0aGlzLnByb3BzLmNoYXJ0UGFja2FnZXMsIHRoaXMucHJvcHMuY2hhcnRWZXJzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmRyYXdDaGFydCgpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLm9uUmVzaXplID0gdGhpcy5kZWJvdW5jZSh0aGlzLm9uUmVzaXplLCAyMDApO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgIH1cbiAgfTtcblxuICBDaGFydC5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgZGVidWcoJ2NvbXBvbmVudERpZFVwZGF0ZScpO1xuICAgIGlmICghdGhpcy5wcm9wcy5sb2FkQ2hhcnRzKSB7XG4gICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgIH0gZWxzZSBpZiAoX0dvb2dsZUNoYXJ0TG9hZGVyMi5kZWZhdWx0LmlzTG9hZGluZykge1xuICAgICAgX0dvb2dsZUNoYXJ0TG9hZGVyMi5kZWZhdWx0LmluaXRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuZHJhd0NoYXJ0KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKF9Hb29nbGVDaGFydExvYWRlcjIuZGVmYXVsdC5pc0xvYWRlZCkge1xuICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh3aW5kb3cpIHtcbiAgICAgICAgaWYgKHdpbmRvdy5nb29nbGUgJiYgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uKSB7XG4gICAgICAgICAgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLmV2ZW50cy5yZW1vdmVBbGxMaXN0ZW5lcnModGhpcy53cmFwcGVyKTtcbiAgICAgICAgfVxuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5vblJlc2l6ZSA9IGZ1bmN0aW9uIG9uUmVzaXplKCkge1xuICAgIGRlYnVnKCdDaGFydDo6b25SZXNpemUnKTtcbiAgICB0aGlzLmRyYXdDaGFydCgpO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5vblNlbGVjdFRvZ2dsZSA9IGZ1bmN0aW9uIG9uU2VsZWN0VG9nZ2xlKCkge1xuICAgIGRlYnVnKCdvblNlbGVjdFRvZ2dsZScpO1xuICAgIHZhciBzZWxlY3Rpb24gPSB0aGlzLmNoYXJ0LmdldFNlbGVjdGlvbigpO1xuICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMCkge1xuICAgICAgaWYgKHNlbGVjdGlvblswXS5yb3cgPT0gbnVsbCkge1xuICAgICAgICB2YXIgY29sdW1uID0gc2VsZWN0aW9uWzBdLmNvbHVtbjtcbiAgICAgICAgdGhpcy50b2dnbGVQb2ludHMoY29sdW1uKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmdldENvbHVtbkNvbG9yID0gZnVuY3Rpb24gZ2V0Q29sdW1uQ29sb3IoY29sdW1uSW5kZXgpIHtcbiAgICBpZiAodGhpcy5wcm9wcy5vcHRpb25zLmNvbG9ycykge1xuICAgICAgaWYgKHRoaXMucHJvcHMub3B0aW9ucy5jb2xvcnNbY29sdW1uSW5kZXhdKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLm9wdGlvbnMuY29sb3JzW2NvbHVtbkluZGV4XTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNvbHVtbkluZGV4IGluIF9ERUZBVUxUX0NIQVJUX0NPTE9SUzIuZGVmYXVsdCkge1xuICAgICAgcmV0dXJuIF9ERUZBVUxUX0NIQVJUX0NPTE9SUzIuZGVmYXVsdFtjb2x1bW5JbmRleF07XG4gICAgfVxuICAgIHJldHVybiBfREVGQVVMVF9DSEFSVF9DT0xPUlMyLmRlZmF1bHRbMF07XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmJ1aWxkRGF0YVRhYmxlRnJvbVByb3BzID0gZnVuY3Rpb24gYnVpbGREYXRhVGFibGVGcm9tUHJvcHMoKSB7XG4gICAgZGVidWcoJ2J1aWxkRGF0YVRhYmxlRnJvbVByb3BzJywgdGhpcy5wcm9wcyk7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5kaWZmZGF0YSkge1xuICAgICAgdmFyIGRpZmZkYXRhID0gdGhpcy5wcm9wcy5kaWZmZGF0YTtcbiAgICAgIHZhciBvbGREYXRhID0gd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLmFycmF5VG9EYXRhVGFibGUoZGlmZmRhdGEub2xkKTtcbiAgICAgIHZhciBuZXdEYXRhID0gd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLmFycmF5VG9EYXRhVGFibGUoZGlmZmRhdGEubmV3KTtcbiAgICAgIC8vIG11c3QgdGFrZSBjb21wdXRlRGlmZiBmcm9tIHByb3RvdHlwZXMgc2luY2Ugbm90IGF2YWlsYWJsZSB3aXRoIGNoYXJ0cyBlYXJseSBpbiBwcm9jZXNzXG4gICAgICB2YXIgY29tcHV0ZURpZmYgPSB3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb25bdGhpcy5wcm9wcy5jaGFydFR5cGVdLnByb3RvdHlwZS5jb21wdXRlRGlmZjtcbiAgICAgIHZhciBjaGFydERpZmYgPSBjb21wdXRlRGlmZihvbGREYXRhLCBuZXdEYXRhKTtcbiAgICAgIHJldHVybiBjaGFydERpZmY7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucHJvcHMuZGF0YSA9PT0gbnVsbCAmJiB0aGlzLnByb3BzLnJvd3MubGVuZ3RoID09PSAwICYmICF0aGlzLnByb3BzLmFsbG93RW1wdHlSb3dzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBidWlsZCBEYXRhVGFibGUgZnJvbSByb3dzIGFuZCBjb2x1bW5zOiByb3dzIGFycmF5IGluIHByb3BzIGlzIGVtcHR5XCIpO1xuICAgIH0gZWxzZSBpZiAodGhpcy5wcm9wcy5kYXRhID09PSBudWxsICYmIHRoaXMucHJvcHMuY29sdW1ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGJ1aWxkIERhdGFUYWJsZSBmcm9tIHJvd3MgYW5kIGNvbHVtbnM6IGNvbHVtbnMgYXJyYXkgaW4gcHJvcHMgaXMgZW1wdHlcIik7XG4gICAgfVxuICAgIGlmICh0aGlzLnByb3BzLmRhdGEgIT09IG51bGwpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMud3JhcHBlci5zZXREYXRhVGFibGUodGhpcy5wcm9wcy5kYXRhKTtcbiAgICAgICAgdmFyIF9kYXRhVGFibGUgPSB0aGlzLndyYXBwZXIuZ2V0RGF0YVRhYmxlKCk7XG4gICAgICAgIHJldHVybiBfZGF0YVRhYmxlO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZXQgRGF0YVRhYmxlIGZyb20gZGF0YSBwcm9wcyAhICcsIGVycik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNldCBEYXRhVGFibGUgZnJvbSBkYXRhIHByb3BzICEgJywgZXJyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZGF0YVRhYmxlID0gbmV3IHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5EYXRhVGFibGUoKTtcbiAgICB0aGlzLnByb3BzLmNvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7XG4gICAgICBkYXRhVGFibGUuYWRkQ29sdW1uKGNvbHVtbik7XG4gICAgfSk7XG4gICAgZGF0YVRhYmxlLmFkZFJvd3ModGhpcy5wcm9wcy5yb3dzKTtcbiAgICBpZiAodGhpcy5wcm9wcy5udW1iZXJGb3JtYXQpIHtcbiAgICAgIHZhciBmb3JtYXR0ZXIgPSBuZXcgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLk51bWJlckZvcm1hdCh0aGlzLnByb3BzLm51bWJlckZvcm1hdC5vcHRpb25zKTtcbiAgICAgIGZvcm1hdHRlci5mb3JtYXQoZGF0YVRhYmxlLCB0aGlzLnByb3BzLm51bWJlckZvcm1hdC5jb2x1bW4pO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnByb3BzLmRhdGVGb3JtYXQpIHtcbiAgICAgIHZhciBkYXRlRm9ybWF0ID0gbmV3IHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5EYXRlRm9ybWF0KHRoaXMucHJvcHMuZGF0ZUZvcm1hdC5vcHRpb25zKTtcbiAgICAgIHRoaXMucHJvcHMuZGF0ZUZvcm1hdC5jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbklkeCkge1xuICAgICAgICBkYXRlRm9ybWF0LmZvcm1hdChkYXRhVGFibGUsIGNvbHVtbklkeCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZGF0YVRhYmxlO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS51cGRhdGVEYXRhVGFibGUgPSBmdW5jdGlvbiB1cGRhdGVEYXRhVGFibGUoKSB7XG4gICAgZGVidWcoJ3VwZGF0ZURhdGFUYWJsZScpO1xuICAgIHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5lcnJvcnMucmVtb3ZlQWxsKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMud3JhcHBlci5nZXRDb250YWluZXJJZCgpKSk7XG4gICAgdGhpcy5kYXRhVGFibGUucmVtb3ZlUm93cygwLCB0aGlzLmRhdGFUYWJsZS5nZXROdW1iZXJPZlJvd3MoKSk7XG4gICAgdGhpcy5kYXRhVGFibGUucmVtb3ZlQ29sdW1ucygwLCB0aGlzLmRhdGFUYWJsZS5nZXROdW1iZXJPZkNvbHVtbnMoKSk7XG4gICAgdGhpcy5kYXRhVGFibGUgPSB0aGlzLmJ1aWxkRGF0YVRhYmxlRnJvbVByb3BzKCk7XG4gICAgcmV0dXJuIHRoaXMuZGF0YVRhYmxlO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5kcmF3Q2hhcnQgPSBmdW5jdGlvbiBkcmF3Q2hhcnQoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICBkZWJ1ZygnZHJhd0NoYXJ0JywgdGhpcyk7XG4gICAgaWYgKCF0aGlzLndyYXBwZXIpIHtcbiAgICAgIHZhciBjaGFydENvbmZpZyA9IHtcbiAgICAgICAgY2hhcnRUeXBlOiB0aGlzLnByb3BzLmNoYXJ0VHlwZSxcbiAgICAgICAgb3B0aW9uczogdGhpcy5wcm9wcy5vcHRpb25zLFxuICAgICAgICBjb250YWluZXJJZDogdGhpcy5zdGF0ZS5ncmFwaElEXG4gICAgICB9O1xuICAgICAgdGhpcy53cmFwcGVyID0gbmV3IHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5DaGFydFdyYXBwZXIoY2hhcnRDb25maWcpO1xuICAgICAgdGhpcy5kYXRhVGFibGUgPSB0aGlzLmJ1aWxkRGF0YVRhYmxlRnJvbVByb3BzKCk7XG4gICAgICB0aGlzLndyYXBwZXIuc2V0RGF0YVRhYmxlKHRoaXMuZGF0YVRhYmxlKTtcblxuICAgICAgd2luZG93Lmdvb2dsZS52aXN1YWxpemF0aW9uLmV2ZW50cy5hZGRPbmVUaW1lTGlzdGVuZXIodGhpcy53cmFwcGVyLCAncmVhZHknLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzNC5jaGFydCA9IF90aGlzNC53cmFwcGVyLmdldENoYXJ0KCk7XG4gICAgICAgIF90aGlzNC5saXN0ZW5Ub0NoYXJ0RXZlbnRzKCk7XG4gICAgICAgIF90aGlzNC5hZGRDaGFydEFjdGlvbnMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZURhdGFUYWJsZSgpO1xuICAgICAgdGhpcy53cmFwcGVyLnNldERhdGFUYWJsZSh0aGlzLmRhdGFUYWJsZSk7XG4gICAgICAvLyB0aGlzLndyYXBwZXIuc2V0Q2hhcnRUeXBlKHRoaXMucHJvcHMuY2hhcnRUeXBlKVxuICAgICAgdGhpcy53cmFwcGVyLnNldE9wdGlvbnModGhpcy5wcm9wcy5vcHRpb25zKTtcbiAgICAgIGlmICh0aGlzLndyYXBwZXIuZ2V0Q2hhcnRUeXBlKCkgIT09IHRoaXMucHJvcHMuY2hhcnRUeXBlKSB7XG4gICAgICAgIHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5ldmVudHMucmVtb3ZlQWxsTGlzdGVuZXJzKHRoaXMud3JhcHBlcik7XG4gICAgICAgIHRoaXMud3JhcHBlci5zZXRDaGFydFR5cGUodGhpcy5wcm9wcy5jaGFydFR5cGUpO1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5ldmVudHMuYWRkT25lVGltZUxpc3RlbmVyKHRoaXMud3JhcHBlciwgJ3JlYWR5JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuY2hhcnQgPSBzZWxmLndyYXBwZXIuZ2V0Q2hhcnQoKTtcbiAgICAgICAgICBzZWxmLmxpc3RlblRvQ2hhcnRFdmVudHMuY2FsbChzZWxmKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMud3JhcHBlci5kcmF3KCk7XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmFkZENoYXJ0QWN0aW9ucyA9IGZ1bmN0aW9uIGFkZENoYXJ0QWN0aW9ucygpIHtcbiAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgIGRlYnVnKCdhZGRDaGFydEFjdGlvbnMnLCB0aGlzLnByb3BzLmNoYXJ0QWN0aW9ucyk7XG4gICAgaWYgKHRoaXMucHJvcHMuY2hhcnRBY3Rpb25zID09PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMucHJvcHMuY2hhcnRBY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKGNoYXJ0QWN0aW9uKSB7XG4gICAgICBfdGhpczUuY2hhcnQuc2V0QWN0aW9uKHtcbiAgICAgICAgaWQ6IGNoYXJ0QWN0aW9uLmlkLFxuICAgICAgICB0ZXh0OiBjaGFydEFjdGlvbi50ZXh0LFxuICAgICAgICBhY3Rpb246IGNoYXJ0QWN0aW9uLmFjdGlvbi5iaW5kKF90aGlzNSwgX3RoaXM1LmNoYXJ0KVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmxpc3RlblRvQ2hhcnRFdmVudHMgPSBmdW5jdGlvbiBsaXN0ZW5Ub0NoYXJ0RXZlbnRzKCkge1xuICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgZGVidWcoJ2xpc3RlblRvQ2hhcnRFdmVudHMnLCB0aGlzLnByb3BzLmxlZ2VuZF90b2dnbGUsIHRoaXMucHJvcHMuY2hhcnRFdmVudHMpO1xuICAgIGlmICh0aGlzLnByb3BzLmxlZ2VuZF90b2dnbGUpIHtcbiAgICAgIHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbi5ldmVudHMuYWRkTGlzdGVuZXIodGhpcy53cmFwcGVyLCAnc2VsZWN0JywgdGhpcy5vblNlbGVjdFRvZ2dsZSk7XG4gICAgfVxuICAgIHRoaXMucHJvcHMuY2hhcnRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoY2hhcnRFdmVudCkge1xuICAgICAgaWYgKGNoYXJ0RXZlbnQuZXZlbnROYW1lID09PSAncmVhZHknKSB7XG4gICAgICAgIGNoYXJ0RXZlbnQuY2FsbGJhY2soX3RoaXM2KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICB3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24uZXZlbnRzLmFkZExpc3RlbmVyKF90aGlzNi5jaGFydCwgZXZlbnQuZXZlbnROYW1lLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZXZlbnQuY2FsbGJhY2soX3RoaXM2LCBlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkoY2hhcnRFdmVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLmJ1aWxkQ29sdW1uRnJvbVNvdXJjZURhdGEgPSBmdW5jdGlvbiBidWlsZENvbHVtbkZyb21Tb3VyY2VEYXRhKGNvbHVtbkluZGV4KSB7XG4gICAgZGVidWcoJ2J1aWxkQ29sdW1uRnJvbVNvdXJjZURhdGEnLCBjb2x1bW5JbmRleCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhYmVsOiB0aGlzLmRhdGFUYWJsZS5nZXRDb2x1bW5MYWJlbChjb2x1bW5JbmRleCksXG4gICAgICB0eXBlOiB0aGlzLmRhdGFUYWJsZS5nZXRDb2x1bW5UeXBlKGNvbHVtbkluZGV4KSxcbiAgICAgIHNvdXJjZUNvbHVtbjogY29sdW1uSW5kZXhcbiAgICB9O1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5idWlsZEVtcHR5Q29sdW1uRnJvbVNvdXJjZURhdGEgPSBmdW5jdGlvbiBidWlsZEVtcHR5Q29sdW1uRnJvbVNvdXJjZURhdGEoY29sdW1uSW5kZXgpIHtcbiAgICBkZWJ1ZygnYnVpbGRFbXB0eUNvbHVtbkZyb21Tb3VyY2VEYXRhJywgY29sdW1uSW5kZXgpO1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbDogdGhpcy5kYXRhVGFibGUuZ2V0Q29sdW1uTGFiZWwoY29sdW1uSW5kZXgpLFxuICAgICAgdHlwZTogdGhpcy5kYXRhVGFibGUuZ2V0Q29sdW1uVHlwZShjb2x1bW5JbmRleCksXG4gICAgICBjYWxjOiBmdW5jdGlvbiBjYWxjKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5hZGRFbXB0eUNvbHVtblRvID0gZnVuY3Rpb24gYWRkRW1wdHlDb2x1bW5Ubyhjb2x1bW5zLCBjb2x1bW5JbmRleCkge1xuICAgIGRlYnVnKCdhZGRFbXB0eUNvbHVtblRvJywgY29sdW1ucywgY29sdW1uSW5kZXgpO1xuICAgIHZhciBlbXB0eUNvbHVtbiA9IHRoaXMuYnVpbGRFbXB0eUNvbHVtbkZyb21Tb3VyY2VEYXRhKGNvbHVtbkluZGV4KTtcbiAgICBjb2x1bW5zLnB1c2goZW1wdHlDb2x1bW4pO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5oaWRlQ29sdW1uID0gZnVuY3Rpb24gaGlkZUNvbHVtbihjb2xvcnMsIGNvbHVtbkluZGV4KSB7XG4gICAgZGVidWcoJ2hpZGVDb2x1bW4nLCBjb2xvcnMsIGNvbHVtbkluZGV4KTtcbiAgICBpZiAoIXRoaXMuaXNIaWRkZW4oY29sdW1uSW5kZXgpKSB7XG4gICAgICB0aGlzLmhpZGRlbl9jb2x1bW5zW2NvbHVtbkluZGV4XSA9IHsgY29sb3I6IHRoaXMuZ2V0Q29sdW1uQ29sb3IoY29sdW1uSW5kZXggLSAxKSB9O1xuICAgIH1cbiAgICBjb2xvcnMucHVzaCgnI0NDQ0NDQycpO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5hZGRTb3VyY2VDb2x1bW5UbyA9IGZ1bmN0aW9uIGFkZFNvdXJjZUNvbHVtblRvKGNvbHVtbnMsIGNvbHVtbkluZGV4KSB7XG4gICAgZGVidWcoJ2FkZFNvdXJjZUNvbHVtblRvJywgY29sdW1ucywgY29sdW1uSW5kZXgpO1xuICAgIHZhciBzb3VyY2VDb2x1bW4gPSB0aGlzLmJ1aWxkQ29sdW1uRnJvbVNvdXJjZURhdGEoY29sdW1uSW5kZXgpO1xuICAgIGNvbHVtbnMucHVzaChzb3VyY2VDb2x1bW4pO1xuICB9O1xuXG4gIENoYXJ0LnByb3RvdHlwZS5pc0hpZGRlbiA9IGZ1bmN0aW9uIGlzSGlkZGVuKGNvbHVtbkluZGV4KSB7XG4gICAgcmV0dXJuIHRoaXMuaGlkZGVuX2NvbHVtbnNbY29sdW1uSW5kZXhdICE9PSB1bmRlZmluZWQ7XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLnJlc3RvcmVDb2xvclRvID0gZnVuY3Rpb24gcmVzdG9yZUNvbG9yVG8oY29sb3JzLCBjb2x1bW5JbmRleCkge1xuICAgIGRlYnVnKCdyZXN0b3JlQ29sb3JUbycsIGNvbG9ycywgY29sdW1uSW5kZXgpO1xuICAgIGRlYnVnKCdoaWRkZW5fY29sdW1ucycsIHRoaXMuaGlkZGVuX2NvbHVtbnMpO1xuICAgIHZhciBwcmV2aW91c0NvbG9yID0gdm9pZCAwO1xuICAgIGlmICh0aGlzLmlzSGlkZGVuKGNvbHVtbkluZGV4KSkge1xuICAgICAgcHJldmlvdXNDb2xvciA9IHRoaXMuaGlkZGVuX2NvbHVtbnNbY29sdW1uSW5kZXhdLmNvbG9yO1xuICAgICAgZGVsZXRlIHRoaXMuaGlkZGVuX2NvbHVtbnNbY29sdW1uSW5kZXhdO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcmV2aW91c0NvbG9yID0gdGhpcy5nZXRDb2x1bW5Db2xvcihjb2x1bW5JbmRleCAtIDEpO1xuICAgIH1cbiAgICBpZiAoY29sdW1uSW5kZXggIT09IDApIHtcbiAgICAgIGNvbG9ycy5wdXNoKHByZXZpb3VzQ29sb3IpO1xuICAgIH1cbiAgfTtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcblxuXG4gIENoYXJ0LnByb3RvdHlwZS5kZWJvdW5jZSA9IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgdGltZW91dCA9IHZvaWQgMDtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0sIHdhaXQpO1xuICAgIH07XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLnRvZ2dsZVBvaW50cyA9IGZ1bmN0aW9uIHRvZ2dsZVBvaW50cyhjb2x1bW4pIHtcbiAgICBkZWJ1ZygndG9nZ2xlUG9pbnRzJywgY29sdW1uKTtcbiAgICB2YXIgdmlldyA9IG5ldyB3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24uRGF0YVZpZXcodGhpcy53cmFwcGVyLmdldERhdGFUYWJsZSgpKTtcbiAgICB2YXIgY29sdW1uQ291bnQgPSB2aWV3LmdldE51bWJlck9mQ29sdW1ucygpO1xuICAgIHZhciBjb2xvcnMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBwcmVmZXItY29uc3RcbiAgICB2YXIgY29sdW1ucyA9IFtdOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHByZWZlci1jb25zdFxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sdW1uQ291bnQ7IGkgKz0gMSkge1xuICAgICAgLy8gSWYgdXNlciBjbGlja2VkIG9uIGxlZ2VuZFxuICAgICAgaWYgKGkgPT09IDApIHtcbiAgICAgICAgdGhpcy5hZGRTb3VyY2VDb2x1bW5Ubyhjb2x1bW5zLCBpKTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PT0gY29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLmlzSGlkZGVuKGkpKSB7XG4gICAgICAgICAgdGhpcy5hZGRTb3VyY2VDb2x1bW5Ubyhjb2x1bW5zLCBpKTtcbiAgICAgICAgICB0aGlzLnJlc3RvcmVDb2xvclRvKGNvbG9ycywgaSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hZGRFbXB0eUNvbHVtblRvKGNvbHVtbnMsIGkpO1xuICAgICAgICAgIHRoaXMuaGlkZUNvbHVtbihjb2xvcnMsIGkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNIaWRkZW4oaSkpIHtcbiAgICAgICAgdGhpcy5hZGRFbXB0eUNvbHVtblRvKGNvbHVtbnMsIGkpO1xuICAgICAgICB0aGlzLmhpZGVDb2x1bW4oY29sb3JzLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuYWRkU291cmNlQ29sdW1uVG8oY29sdW1ucywgaSk7XG4gICAgICAgIHRoaXMucmVzdG9yZUNvbG9yVG8oY29sb3JzLCBpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmlldy5zZXRDb2x1bW5zKGNvbHVtbnMpO1xuICAgIHRoaXMucHJvcHMub3B0aW9ucy5jb2xvcnMgPSBjb2xvcnM7XG4gICAgdGhpcy5jaGFydC5kcmF3KHZpZXcsIHRoaXMucHJvcHMub3B0aW9ucyk7XG4gIH07XG5cbiAgQ2hhcnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICBkZWJ1ZygncmVuZGVyJywgdGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG4gICAgdmFyIGRpdlN0eWxlID0ge1xuICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodCB8fCB0aGlzLnByb3BzLm9wdGlvbnMuaGVpZ2h0LFxuICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGggfHwgdGhpcy5wcm9wcy5vcHRpb25zLndpZHRoXG4gICAgfTtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAnZGl2JyxcbiAgICAgIHsgaWQ6IHRoaXMuc3RhdGUuZ3JhcGhJRCwgc3R5bGU6IGRpdlN0eWxlIH0sXG4gICAgICB0aGlzLnByb3BzLmxvYWRlciA/IHRoaXMucHJvcHMubG9hZGVyIDogJ1JlbmRlcmluZyBDaGFydC4uLidcbiAgICApO1xuICB9O1xuXG4gIHJldHVybiBDaGFydDtcbn0oX3JlYWN0Mi5kZWZhdWx0LkNvbXBvbmVudCk7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IENoYXJ0O1xuXG5cbnByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiA/IENoYXJ0LnByb3BUeXBlcyA9IHtcbiAgZ3JhcGhfaWQ6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICBjaGFydFR5cGU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLFxuICByb3dzOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5hcnJheSksXG4gIGNvbHVtbnM6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLm9iamVjdCksXG4gIGRhdGE6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFycmF5KSxcbiAgb3B0aW9uczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5hbnksXG4gIHdpZHRoOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyxcbiAgaGVpZ2h0OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyxcbiAgY2hhcnRFdmVudHM6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXlPZihfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20veWFubmlja2NyL2VzbGludC1wbHVnaW4tcmVhY3QvaXNzdWVzLzgxOVxuICAgIGV2ZW50TmFtZTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXNcbiAgICBjYWxsYmFjazogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5mdW5jIH0pKSxcbiAgY2hhcnRBY3Rpb25zOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLmFycmF5T2YoX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgaWQ6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgdGV4dDogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXNcbiAgICBhY3Rpb246IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuZnVuYyB9KSksXG4gIGxvYWRDaGFydHM6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbCxcbiAgbG9hZGVyOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLm5vZGUsXG4gIGxlZ2VuZF90b2dnbGU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbCxcbiAgYWxsb3dFbXB0eVJvd3M6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYm9vbCxcbiAgY2hhcnRQYWNrYWdlczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nKSxcbiAgY2hhcnRWZXJzaW9uOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyxcbiAgbnVtYmVyRm9ybWF0OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBjb2x1bW46IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMubnVtYmVyLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgb3B0aW9uczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBkZWNpbWFsU3ltYm9sOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlc1xuICAgICAgZnJhY3Rpb25EaWdpdHM6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMubnVtYmVyLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgICBncm91cGluZ1N5bWJvbDogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zdHJpbmcsIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXNcbiAgICAgIG5lZ2F0aXZlQ29sb3I6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgICBuZWdhdGl2ZVBhcmVuczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5ib29sLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgICBwYXR0ZXJuOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlc1xuICAgICAgcHJlZml4OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlc1xuICAgICAgc3VmZml4OiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZyB9KVxuICB9KSxcbiAgZGF0ZUZvcm1hdDogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgY29sdW1uczogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5hcnJheU9mKF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMubnVtYmVyKSxcbiAgICBvcHRpb25zOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnNoYXBlKHtcbiAgICAgIGZvcm1hdFR5cGU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuc3RyaW5nLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlYWN0L25vLXVudXNlZC1wcm9wLXR5cGVzXG4gICAgICBwYXR0ZXJuOiBfcmVhY3QyLmRlZmF1bHQuUHJvcFR5cGVzLnN0cmluZywgLy8gZXNsaW50LWRpc2FibGUtbGluZSByZWFjdC9uby11bnVzZWQtcHJvcC10eXBlc1xuICAgICAgdGltZVpvbmU6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMubnVtYmVyIH0pXG4gIH0pLFxuICBkaWZmZGF0YTogX3JlYWN0Mi5kZWZhdWx0LlByb3BUeXBlcy5zaGFwZSh7XG4gICAgb246IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXksIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgcmVhY3Qvbm8tdW51c2VkLXByb3AtdHlwZXNcbiAgICBvZmY6IF9yZWFjdDIuZGVmYXVsdC5Qcm9wVHlwZXMuYXJyYXkgfSlcbn0gOiB2b2lkIDA7XG5cbkNoYXJ0LmRlZmF1bHRQcm9wcyA9IHtcbiAgY2hhcnRUeXBlOiAnTGluZUNoYXJ0JyxcbiAgcm93czogW10sXG4gIGNvbHVtbnM6IFtdLFxuICBvcHRpb25zOiB7XG4gICAgY2hhcnQ6IHtcbiAgICAgIHRpdGxlOiAnQ2hhcnQgVGl0bGUnLFxuICAgICAgc3VidGl0bGU6ICdTdWJ0aXRsZSdcbiAgICB9LFxuICAgIGhBeGlzOiB7IHRpdGxlOiAnWCBMYWJlbCcgfSxcbiAgICB2QXhpczogeyB0aXRsZTogJ1kgTGFiZWwnIH0sXG4gICAgd2lkdGg6ICc0MDBweCcsXG4gICAgaGVpZ2h0OiAnMzAwcHgnXG4gIH0sXG4gIHdpZHRoOiAnNDAwcHgnLFxuICBoZWlnaHQ6ICczMDBweCcsXG4gIGNoYXJ0RXZlbnRzOiBbXSxcbiAgY2hhcnRBY3Rpb25zOiBudWxsLFxuICBkYXRhOiBudWxsLFxuICBsZWdlbmRfdG9nZ2xlOiBmYWxzZSxcbiAgYWxsb3dFbXB0eVJvd3M6IGZhbHNlLFxuICBsb2FkQ2hhcnRzOiB0cnVlLFxuICBsb2FkZXI6IF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KFxuICAgICdkaXYnLFxuICAgIG51bGwsXG4gICAgJ1JlbmRlcmluZyBDaGFydCdcbiAgKSxcbiAgY2hhcnRQYWNrYWdlczogWydjb3JlY2hhcnQnXSxcbiAgY2hhcnRWZXJzaW9uOiAnY3VycmVudCcsXG4gIG51bWJlckZvcm1hdDogbnVsbCxcbiAgZGF0ZUZvcm1hdDogbnVsbCxcbiAgZGlmZmRhdGE6IG51bGxcbn07XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpO1xuXG52YXIgX2RlYnVnMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlYnVnKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxudmFyIGRlYnVnID0gbmV3IF9kZWJ1ZzIuZGVmYXVsdCgncmVhY3QtZ29vZ2xlLWNoYXJ0czpHb29nbGVDaGFydExvYWRlcicpOyAvLyBHb29nbGVDaGFydExvYWRlciBTaW5nbGV0b25cblxuLy8gQmFzZWQgb24gaHR0cDovL2Jsb2cuYXJrZW5jeS5jb20vMjAxNC8wOS9yZWFjdC1kb3QtanMtYW5kLWdvb2dsZS1jaGFydHMvXG5cbnZhciBzY3JpcHQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHJlcXVpcmUoJ2xvYWRqcycpIDogZnVuY3Rpb24gKGxpbmssIF9yZWYpIHtcbiAgdmFyIGNhbGxiYWNrID0gX3JlZi5zdWNjZXNzO1xuICByZXR1cm4gY2FsbGJhY2soKTtcbn07XG5cbnZhciBnb29nbGVDaGFydExvYWRlciA9IHtcbiAgaXNMb2FkZWQ6IGZhbHNlLFxuICBpc0xvYWRpbmc6IGZhbHNlLFxuICBpbml0UHJvbWlzZToge30sXG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQocGFja2FnZXMsIHZlcnNpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgZGVidWcoJ2luaXQnLCBwYWNrYWdlcywgdmVyc2lvbik7XG4gICAgY29uc29sZS53YXJuKHsgc2NyaXB0OiBzY3JpcHQgfSk7XG4gICAgaWYgKHRoaXMuaXNMb2FkaW5nIHx8IHRoaXMuaXNMb2FkZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLmluaXRQcm9taXNlO1xuICAgIH1cbiAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy5pbml0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBzY3JpcHQoJ2h0dHBzOi8vd3d3LmdzdGF0aWMuY29tL2NoYXJ0cy9sb2FkZXIuanMnLCB7IHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoKSB7XG4gICAgICAgICAgd2luZG93Lmdvb2dsZS5jaGFydHMubG9hZCh2ZXJzaW9uIHx8ICdjdXJyZW50JywgeyBwYWNrYWdlczogcGFja2FnZXMgfHwgWydjb3JlY2hhcnQnXSB9KTtcbiAgICAgICAgICB3aW5kb3cuZ29vZ2xlLmNoYXJ0cy5zZXRPbkxvYWRDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBkZWJ1ZygnQ2hhcnQgTG9hZGVkJyk7XG4gICAgICAgICAgICBfdGhpcy5pc0xvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5pbml0UHJvbWlzZTtcbiAgfVxufTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZ29vZ2xlQ2hhcnRMb2FkZXI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbJ2RlZmF1bHQnXTsiLCIndXNlIHN0cmljdCc7XG5cbi8vIFRha2VuIGZyb20gaHR0cDovL3RoZXJlNGRldmVsb3BtZW50LmNvbS9ibG9nLzIwMTIvMDUvMDIvZ29vZ2xlLWNoYXJ0LWNvbG9yLWxpc3QvXG5cbm1vZHVsZS5leHBvcnRzID0gWycjMzM2NkNDJywgJyNEQzM5MTInLCAnI0ZGOTkwMCcsICcjMTA5NjE4JywgJyM5OTAwOTknLCAnIzNCM0VBQycsICcjMDA5OUM2JywgJyNERDQ0NzcnLCAnIzY2QUEwMCcsICcjQjgyRTJFJywgJyMzMTYzOTUnLCAnIzk5NDQ5OScsICcjMjJBQTk5JywgJyNBQUFBMTEnLCAnIzY2MzNDQycsICcjRTY3MzAwJywgJyM4QjA3MDcnLCAnIzMyOTI2MicsICcjNTU3NEE2JywgJyMzQjNFQUMnXTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfQ2hhcnQgPSByZXF1aXJlKCcuL2NvbXBvbmVudHMvQ2hhcnQnKTtcblxudmFyIF9DaGFydDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9DaGFydCk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHsgQ2hhcnQ6IF9DaGFydDIuZGVmYXVsdCB9O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiLyoqXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS4gQW4gYWRkaXRpb25hbCBncmFudFxuICogb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpbiB0aGUgc2FtZSBkaXJlY3RvcnkuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFNpbWlsYXIgdG8gaW52YXJpYW50IGJ1dCBvbmx5IGxvZ3MgYSB3YXJuaW5nIGlmIHRoZSBjb25kaXRpb24gaXMgbm90IG1ldC5cbiAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMgaW4gY3JpdGljYWxcbiAqIHBhdGhzLiBSZW1vdmluZyB0aGUgbG9nZ2luZyBjb2RlIGZvciBwcm9kdWN0aW9uIGVudmlyb25tZW50cyB3aWxsIGtlZXAgdGhlXG4gKiBzYW1lIGxvZ2ljIGFuZCBmb2xsb3cgdGhlIHNhbWUgY29kZSBwYXRocy5cbiAqL1xuXG52YXIgd2FybmluZyA9IGZ1bmN0aW9uKCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbihjb25kaXRpb24sIGZvcm1hdCwgYXJncykge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGFyZ3MgPSBuZXcgQXJyYXkobGVuID4gMiA/IGxlbiAtIDIgOiAwKTtcbiAgICBmb3IgKHZhciBrZXkgPSAyOyBrZXkgPCBsZW47IGtleSsrKSB7XG4gICAgICBhcmdzW2tleSAtIDJdID0gYXJndW1lbnRzW2tleV07XG4gICAgfVxuICAgIGlmIChmb3JtYXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnYHdhcm5pbmcoY29uZGl0aW9uLCBmb3JtYXQsIC4uLmFyZ3MpYCByZXF1aXJlcyBhIHdhcm5pbmcgJyArXG4gICAgICAgICdtZXNzYWdlIGFyZ3VtZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoZm9ybWF0Lmxlbmd0aCA8IDEwIHx8ICgvXltzXFxXXSokLykudGVzdChmb3JtYXQpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGUgd2FybmluZyBmb3JtYXQgc2hvdWxkIGJlIGFibGUgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyAnICtcbiAgICAgICAgJ3dhcm5pbmcuIFBsZWFzZSwgdXNlIGEgbW9yZSBkZXNjcmlwdGl2ZSBmb3JtYXQgdGhhbjogJyArIGZvcm1hdFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIHZhciBtZXNzYWdlID0gJ1dhcm5pbmc6ICcgK1xuICAgICAgICBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuIGFyZ3NbYXJnSW5kZXgrK107XG4gICAgICAgIH0pO1xuICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyBlcnJvciB3YXMgdGhyb3duIGFzIGEgY29udmVuaWVuY2Ugc28gdGhhdCB5b3UgY2FuIHVzZSB0aGlzIHN0YWNrXG4gICAgICAgIC8vIHRvIGZpbmQgdGhlIGNhbGxzaXRlIHRoYXQgY2F1c2VkIHRoaXMgd2FybmluZyB0byBmaXJlLlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgICB9IGNhdGNoKHgpIHt9XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhcm5pbmc7XG4iXX0="}